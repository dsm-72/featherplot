var ut=Object.defineProperty;var at=(e,n,i)=>n in e?ut(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i;var ee=(e,n,i)=>(at(e,typeof n!="symbol"?n+"":n,i),i);import{b as Ti}from"../chunks/paths.f10a86e2.js";import{J as H,K as ft,t as ct,S as we,i as Se,s as ke,k as L,a as V,l as O,m as D,c as U,h as E,n as x,L as te,M as Cn,b as q,D as y,N as Li,O as J,P as hn,H as Te,Q as In,R as Ye,T as Ae,U as xe,q as j,r as Y,u as ie,w as Z,V as oe,y as fe,z as ce,A as de,W as se,g as he,d as pe,B as ge,X as yn,I as en,o as Tn,Y as jn,Z as dt,e as Yn,_ as ht,$ as pt,a0 as gt,p as ln}from"../chunks/index.e94a24a8.js";import{_ as mt}from"../chunks/preload-helper.41c905a7.js";import{w as bt}from"../chunks/index.bc56c922.js";const _t=!0,Ve=`${Ti}/datasets`,Oi=`${Ve}/demo`,vt=`${Oi}/tiles`,yt=`${Oi}/meta.yml`,Di=`${Ve}/mini`,At=`${Di}/tiles`,xt=`${Di}/meta.yml`,Mi=`${Ve}/named`,Et=`${Mi}/tiles`,wt=`${Mi}/meta.yml`,Ri=`${Ve}/cell`,St=`${Ri}/tiles`,kt=`${Ri}/meta.yml`,Ni=`${Ve}/SEO`,Ft=`${Ni}/tiles`,Ct=`${Ni}/meta.yml`,Pi=`${Ve}/featherplot`,It=`${Pi}/tiles`,Tt=`${Pi}/meta.yml`,ve="featherplot",Vn=String(ve)==="demo"?vt:String(ve)==="mini"?At:String(ve)==="named"?Et:String(ve)==="cell"?St:String(ve)==="featherplot"?It:Ft,Lt=String(ve)==="demo"?yt:String(ve)==="mini"?xt:String(ve)==="named"?wt:String(ve)==="cell"?kt:String(ve)==="featherplot"?Tt:Ct;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Bi(e){return typeof e>"u"||e===null}function Ot(e){return typeof e=="object"&&e!==null}function Dt(e){return Array.isArray(e)?e:Bi(e)?[]:[e]}function Mt(e,n){var i,r,t,o;if(n)for(o=Object.keys(n),i=0,r=o.length;i<r;i+=1)t=o[i],e[t]=n[t];return e}function Rt(e,n){var i="",r;for(r=0;r<n;r+=1)i+=e;return i}function Nt(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Pt=Bi,Bt=Ot,zt=Dt,Ht=Rt,jt=Nt,Yt=Mt,Q={isNothing:Pt,isObject:Bt,toArray:zt,repeat:Ht,isNegativeZero:jt,extend:Yt};function zi(e,n){var i="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(i+='in "'+e.mark.name+'" '),i+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!n&&e.mark.snippet&&(i+=`

`+e.mark.snippet),r+" "+i):r}function Xe(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=zi(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Xe.prototype=Object.create(Error.prototype);Xe.prototype.constructor=Xe;Xe.prototype.toString=function(n){return this.name+": "+zi(this,n)};var re=Xe;function bn(e,n,i,r,t){var o="",l="",s=Math.floor(t/2)-1;return r-n>s&&(o=" ... ",n=r-s+o.length),i-r>s&&(l=" ...",i=r+s-l.length),{str:o+e.slice(n,i).replace(/\t/g,"â†’")+l,pos:r-n+o.length}}function _n(e,n){return Q.repeat(" ",n-e.length)+e}function Vt(e,n){if(n=Object.create(n||null),!e.buffer)return null;n.maxLength||(n.maxLength=79),typeof n.indent!="number"&&(n.indent=1),typeof n.linesBefore!="number"&&(n.linesBefore=3),typeof n.linesAfter!="number"&&(n.linesAfter=2);for(var i=/\r?\n|\r|\0/g,r=[0],t=[],o,l=-1;o=i.exec(e.buffer);)t.push(o.index),r.push(o.index+o[0].length),e.position<=o.index&&l<0&&(l=r.length-2);l<0&&(l=r.length-1);var s="",u,a,f=Math.min(e.line+n.linesAfter,t.length).toString().length,p=n.maxLength-(n.indent+f+3);for(u=1;u<=n.linesBefore&&!(l-u<0);u++)a=bn(e.buffer,r[l-u],t[l-u],e.position-(r[l]-r[l-u]),p),s=Q.repeat(" ",n.indent)+_n((e.line-u+1).toString(),f)+" | "+a.str+`
`+s;for(a=bn(e.buffer,r[l],t[l],e.position,p),s+=Q.repeat(" ",n.indent)+_n((e.line+1).toString(),f)+" | "+a.str+`
`,s+=Q.repeat("-",n.indent+f+3+a.pos)+`^
`,u=1;u<=n.linesAfter&&!(l+u>=t.length);u++)a=bn(e.buffer,r[l+u],t[l+u],e.position-(r[l]-r[l+u]),p),s+=Q.repeat(" ",n.indent)+_n((e.line+u+1).toString(),f)+" | "+a.str+`
`;return s.replace(/\n$/,"")}var Ut=Vt,Wt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],qt=["scalar","sequence","mapping"];function Gt(e){var n={};return e!==null&&Object.keys(e).forEach(function(i){e[i].forEach(function(r){n[String(r)]=i})}),n}function Kt(e,n){if(n=n||{},Object.keys(n).forEach(function(i){if(Wt.indexOf(i)===-1)throw new re('Unknown option "'+i+'" is met in definition of "'+e+'" YAML type.')}),this.options=n,this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(i){return i},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=Gt(n.styleAliases||null),qt.indexOf(this.kind)===-1)throw new re('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var $=Kt;function Un(e,n){var i=[];return e[n].forEach(function(r){var t=i.length;i.forEach(function(o,l){o.tag===r.tag&&o.kind===r.kind&&o.multi===r.multi&&(t=l)}),i[t]=r}),i}function Xt(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,i;function r(t){t.multi?(e.multi[t.kind].push(t),e.multi.fallback.push(t)):e[t.kind][t.tag]=e.fallback[t.tag]=t}for(n=0,i=arguments.length;n<i;n+=1)arguments[n].forEach(r);return e}function An(e){return this.extend(e)}An.prototype.extend=function(n){var i=[],r=[];if(n instanceof $)r.push(n);else if(Array.isArray(n))r=r.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(i=i.concat(n.implicit)),n.explicit&&(r=r.concat(n.explicit));else throw new re("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(o){if(!(o instanceof $))throw new re("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new re("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new re("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(o){if(!(o instanceof $))throw new re("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var t=Object.create(An.prototype);return t.implicit=(this.implicit||[]).concat(i),t.explicit=(this.explicit||[]).concat(r),t.compiledImplicit=Un(t,"implicit"),t.compiledExplicit=Un(t,"explicit"),t.compiledTypeMap=Xt(t.compiledImplicit,t.compiledExplicit),t};var Hi=An,ji=new $("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Yi=new $("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Vi=new $("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Ui=new Hi({explicit:[ji,Yi,Vi]});function Qt(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function Zt(){return null}function Jt(e){return e===null}var Wi=new $("tag:yaml.org,2002:null",{kind:"scalar",resolve:Qt,construct:Zt,predicate:Jt,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function $t(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function el(e){return e==="true"||e==="True"||e==="TRUE"}function nl(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var qi=new $("tag:yaml.org,2002:bool",{kind:"scalar",resolve:$t,construct:el,predicate:nl,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function il(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function rl(e){return 48<=e&&e<=55}function tl(e){return 48<=e&&e<=57}function ll(e){if(e===null)return!1;var n=e.length,i=0,r=!1,t;if(!n)return!1;if(t=e[i],(t==="-"||t==="+")&&(t=e[++i]),t==="0"){if(i+1===n)return!0;if(t=e[++i],t==="b"){for(i++;i<n;i++)if(t=e[i],t!=="_"){if(t!=="0"&&t!=="1")return!1;r=!0}return r&&t!=="_"}if(t==="x"){for(i++;i<n;i++)if(t=e[i],t!=="_"){if(!il(e.charCodeAt(i)))return!1;r=!0}return r&&t!=="_"}if(t==="o"){for(i++;i<n;i++)if(t=e[i],t!=="_"){if(!rl(e.charCodeAt(i)))return!1;r=!0}return r&&t!=="_"}}if(t==="_")return!1;for(;i<n;i++)if(t=e[i],t!=="_"){if(!tl(e.charCodeAt(i)))return!1;r=!0}return!(!r||t==="_")}function ol(e){var n=e,i=1,r;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),r=n[0],(r==="-"||r==="+")&&(r==="-"&&(i=-1),n=n.slice(1),r=n[0]),n==="0")return 0;if(r==="0"){if(n[1]==="b")return i*parseInt(n.slice(2),2);if(n[1]==="x")return i*parseInt(n.slice(2),16);if(n[1]==="o")return i*parseInt(n.slice(2),8)}return i*parseInt(n,10)}function sl(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Q.isNegativeZero(e)}var Gi=new $("tag:yaml.org,2002:int",{kind:"scalar",resolve:ll,construct:ol,predicate:sl,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ul=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function al(e){return!(e===null||!ul.test(e)||e[e.length-1]==="_")}function fl(e){var n,i;return n=e.replace(/_/g,"").toLowerCase(),i=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:i*parseFloat(n,10)}var cl=/^[-+]?[0-9]+e/;function dl(e,n){var i;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Q.isNegativeZero(e))return"-0.0";return i=e.toString(10),cl.test(i)?i.replace("e",".e"):i}function hl(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Q.isNegativeZero(e))}var Ki=new $("tag:yaml.org,2002:float",{kind:"scalar",resolve:al,construct:fl,predicate:hl,represent:dl,defaultStyle:"lowercase"}),Xi=Ui.extend({implicit:[Wi,qi,Gi,Ki]}),Qi=Xi,Zi=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ji=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function pl(e){return e===null?!1:Zi.exec(e)!==null||Ji.exec(e)!==null}function gl(e){var n,i,r,t,o,l,s,u=0,a=null,f,p,c;if(n=Zi.exec(e),n===null&&(n=Ji.exec(e)),n===null)throw new Error("Date resolve error");if(i=+n[1],r=+n[2]-1,t=+n[3],!n[4])return new Date(Date.UTC(i,r,t));if(o=+n[4],l=+n[5],s=+n[6],n[7]){for(u=n[7].slice(0,3);u.length<3;)u+="0";u=+u}return n[9]&&(f=+n[10],p=+(n[11]||0),a=(f*60+p)*6e4,n[9]==="-"&&(a=-a)),c=new Date(Date.UTC(i,r,t,o,l,s,u)),a&&c.setTime(c.getTime()-a),c}function ml(e){return e.toISOString()}var $i=new $("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:pl,construct:gl,instanceOf:Date,represent:ml});function bl(e){return e==="<<"||e===null}var er=new $("tag:yaml.org,2002:merge",{kind:"scalar",resolve:bl}),Ln=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function _l(e){if(e===null)return!1;var n,i,r=0,t=e.length,o=Ln;for(i=0;i<t;i++)if(n=o.indexOf(e.charAt(i)),!(n>64)){if(n<0)return!1;r+=6}return r%8===0}function vl(e){var n,i,r=e.replace(/[\r\n=]/g,""),t=r.length,o=Ln,l=0,s=[];for(n=0;n<t;n++)n%4===0&&n&&(s.push(l>>16&255),s.push(l>>8&255),s.push(l&255)),l=l<<6|o.indexOf(r.charAt(n));return i=t%4*6,i===0?(s.push(l>>16&255),s.push(l>>8&255),s.push(l&255)):i===18?(s.push(l>>10&255),s.push(l>>2&255)):i===12&&s.push(l>>4&255),new Uint8Array(s)}function yl(e){var n="",i=0,r,t,o=e.length,l=Ln;for(r=0;r<o;r++)r%3===0&&r&&(n+=l[i>>18&63],n+=l[i>>12&63],n+=l[i>>6&63],n+=l[i&63]),i=(i<<8)+e[r];return t=o%3,t===0?(n+=l[i>>18&63],n+=l[i>>12&63],n+=l[i>>6&63],n+=l[i&63]):t===2?(n+=l[i>>10&63],n+=l[i>>4&63],n+=l[i<<2&63],n+=l[64]):t===1&&(n+=l[i>>2&63],n+=l[i<<4&63],n+=l[64],n+=l[64]),n}function Al(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var nr=new $("tag:yaml.org,2002:binary",{kind:"scalar",resolve:_l,construct:vl,predicate:Al,represent:yl}),xl=Object.prototype.hasOwnProperty,El=Object.prototype.toString;function wl(e){if(e===null)return!0;var n=[],i,r,t,o,l,s=e;for(i=0,r=s.length;i<r;i+=1){if(t=s[i],l=!1,El.call(t)!=="[object Object]")return!1;for(o in t)if(xl.call(t,o))if(!l)l=!0;else return!1;if(!l)return!1;if(n.indexOf(o)===-1)n.push(o);else return!1}return!0}function Sl(e){return e!==null?e:[]}var ir=new $("tag:yaml.org,2002:omap",{kind:"sequence",resolve:wl,construct:Sl}),kl=Object.prototype.toString;function Fl(e){if(e===null)return!0;var n,i,r,t,o,l=e;for(o=new Array(l.length),n=0,i=l.length;n<i;n+=1){if(r=l[n],kl.call(r)!=="[object Object]"||(t=Object.keys(r),t.length!==1))return!1;o[n]=[t[0],r[t[0]]]}return!0}function Cl(e){if(e===null)return[];var n,i,r,t,o,l=e;for(o=new Array(l.length),n=0,i=l.length;n<i;n+=1)r=l[n],t=Object.keys(r),o[n]=[t[0],r[t[0]]];return o}var rr=new $("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Fl,construct:Cl}),Il=Object.prototype.hasOwnProperty;function Tl(e){if(e===null)return!0;var n,i=e;for(n in i)if(Il.call(i,n)&&i[n]!==null)return!1;return!0}function Ll(e){return e!==null?e:{}}var tr=new $("tag:yaml.org,2002:set",{kind:"mapping",resolve:Tl,construct:Ll}),On=Qi.extend({implicit:[$i,er],explicit:[nr,ir,rr,tr]}),Le=Object.prototype.hasOwnProperty,sn=1,lr=2,or=3,un=4,vn=1,Ol=2,Wn=3,Dl=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ml=/[\x85\u2028\u2029]/,Rl=/[,\[\]\{\}]/,sr=/^(?:!|!!|![a-z\-]+!)$/i,ur=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function qn(e){return Object.prototype.toString.call(e)}function ye(e){return e===10||e===13}function De(e){return e===9||e===32}function le(e){return e===9||e===32||e===10||e===13}function Pe(e){return e===44||e===91||e===93||e===123||e===125}function Nl(e){var n;return 48<=e&&e<=57?e-48:(n=e|32,97<=n&&n<=102?n-97+10:-1)}function Pl(e){return e===120?2:e===117?4:e===85?8:0}function Bl(e){return 48<=e&&e<=57?e-48:-1}function Gn(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"Â…":e===95?"Â ":e===76?"\u2028":e===80?"\u2029":""}function zl(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var ar=new Array(256),fr=new Array(256);for(var Re=0;Re<256;Re++)ar[Re]=Gn(Re)?1:0,fr[Re]=Gn(Re);function Hl(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||On,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function cr(e,n){var i={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return i.snippet=Ut(i),new re(n,i)}function I(e,n){throw cr(e,n)}function an(e,n){e.onWarning&&e.onWarning.call(null,cr(e,n))}var Kn={YAML:function(n,i,r){var t,o,l;n.version!==null&&I(n,"duplication of %YAML directive"),r.length!==1&&I(n,"YAML directive accepts exactly one argument"),t=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),t===null&&I(n,"ill-formed argument of the YAML directive"),o=parseInt(t[1],10),l=parseInt(t[2],10),o!==1&&I(n,"unacceptable YAML version of the document"),n.version=r[0],n.checkLineBreaks=l<2,l!==1&&l!==2&&an(n,"unsupported YAML version of the document")},TAG:function(n,i,r){var t,o;r.length!==2&&I(n,"TAG directive accepts exactly two arguments"),t=r[0],o=r[1],sr.test(t)||I(n,"ill-formed tag handle (first argument) of the TAG directive"),Le.call(n.tagMap,t)&&I(n,'there is a previously declared suffix for "'+t+'" tag handle'),ur.test(o)||I(n,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{I(n,"tag prefix is malformed: "+o)}n.tagMap[t]=o}};function Ce(e,n,i,r){var t,o,l,s;if(n<i){if(s=e.input.slice(n,i),r)for(t=0,o=s.length;t<o;t+=1)l=s.charCodeAt(t),l===9||32<=l&&l<=1114111||I(e,"expected valid JSON character");else Dl.test(s)&&I(e,"the stream contains non-printable characters");e.result+=s}}function Xn(e,n,i,r){var t,o,l,s;for(Q.isObject(i)||I(e,"cannot merge mappings; the provided source object is unacceptable"),t=Object.keys(i),l=0,s=t.length;l<s;l+=1)o=t[l],Le.call(n,o)||(n[o]=i[o],r[o]=!0)}function Be(e,n,i,r,t,o,l,s,u){var a,f;if(Array.isArray(t))for(t=Array.prototype.slice.call(t),a=0,f=t.length;a<f;a+=1)Array.isArray(t[a])&&I(e,"nested arrays are not supported inside keys"),typeof t=="object"&&qn(t[a])==="[object Object]"&&(t[a]="[object Object]");if(typeof t=="object"&&qn(t)==="[object Object]"&&(t="[object Object]"),t=String(t),n===null&&(n={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(a=0,f=o.length;a<f;a+=1)Xn(e,n,o[a],i);else Xn(e,n,o,i);else!e.json&&!Le.call(i,t)&&Le.call(n,t)&&(e.line=l||e.line,e.lineStart=s||e.lineStart,e.position=u||e.position,I(e,"duplicated mapping key")),t==="__proto__"?Object.defineProperty(n,t,{configurable:!0,enumerable:!0,writable:!0,value:o}):n[t]=o,delete i[t];return n}function Dn(e){var n;n=e.input.charCodeAt(e.position),n===10?e.position++:n===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):I(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function K(e,n,i){for(var r=0,t=e.input.charCodeAt(e.position);t!==0;){for(;De(t);)t===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),t=e.input.charCodeAt(++e.position);if(n&&t===35)do t=e.input.charCodeAt(++e.position);while(t!==10&&t!==13&&t!==0);if(ye(t))for(Dn(e),t=e.input.charCodeAt(e.position),r++,e.lineIndent=0;t===32;)e.lineIndent++,t=e.input.charCodeAt(++e.position);else break}return i!==-1&&r!==0&&e.lineIndent<i&&an(e,"deficient indentation"),r}function pn(e){var n=e.position,i;return i=e.input.charCodeAt(n),!!((i===45||i===46)&&i===e.input.charCodeAt(n+1)&&i===e.input.charCodeAt(n+2)&&(n+=3,i=e.input.charCodeAt(n),i===0||le(i)))}function Mn(e,n){n===1?e.result+=" ":n>1&&(e.result+=Q.repeat(`
`,n-1))}function jl(e,n,i){var r,t,o,l,s,u,a,f,p=e.kind,c=e.result,h;if(h=e.input.charCodeAt(e.position),le(h)||Pe(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(t=e.input.charCodeAt(e.position+1),le(t)||i&&Pe(t)))return!1;for(e.kind="scalar",e.result="",o=l=e.position,s=!1;h!==0;){if(h===58){if(t=e.input.charCodeAt(e.position+1),le(t)||i&&Pe(t))break}else if(h===35){if(r=e.input.charCodeAt(e.position-1),le(r))break}else{if(e.position===e.lineStart&&pn(e)||i&&Pe(h))break;if(ye(h))if(u=e.line,a=e.lineStart,f=e.lineIndent,K(e,!1,-1),e.lineIndent>=n){s=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=u,e.lineStart=a,e.lineIndent=f;break}}s&&(Ce(e,o,l,!1),Mn(e,e.line-u),o=l=e.position,s=!1),De(h)||(l=e.position+1),h=e.input.charCodeAt(++e.position)}return Ce(e,o,l,!1),e.result?!0:(e.kind=p,e.result=c,!1)}function Yl(e,n){var i,r,t;if(i=e.input.charCodeAt(e.position),i!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=t=e.position;(i=e.input.charCodeAt(e.position))!==0;)if(i===39)if(Ce(e,r,e.position,!0),i=e.input.charCodeAt(++e.position),i===39)r=e.position,e.position++,t=e.position;else return!0;else ye(i)?(Ce(e,r,t,!0),Mn(e,K(e,!1,n)),r=t=e.position):e.position===e.lineStart&&pn(e)?I(e,"unexpected end of the document within a single quoted scalar"):(e.position++,t=e.position);I(e,"unexpected end of the stream within a single quoted scalar")}function Vl(e,n){var i,r,t,o,l,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Ce(e,i,e.position,!0),e.position++,!0;if(s===92){if(Ce(e,i,e.position,!0),s=e.input.charCodeAt(++e.position),ye(s))K(e,!1,n);else if(s<256&&ar[s])e.result+=fr[s],e.position++;else if((l=Pl(s))>0){for(t=l,o=0;t>0;t--)s=e.input.charCodeAt(++e.position),(l=Nl(s))>=0?o=(o<<4)+l:I(e,"expected hexadecimal character");e.result+=zl(o),e.position++}else I(e,"unknown escape sequence");i=r=e.position}else ye(s)?(Ce(e,i,r,!0),Mn(e,K(e,!1,n)),i=r=e.position):e.position===e.lineStart&&pn(e)?I(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}I(e,"unexpected end of the stream within a double quoted scalar")}function Ul(e,n){var i=!0,r,t,o,l=e.tag,s,u=e.anchor,a,f,p,c,h,d=Object.create(null),g,_,w,b;if(b=e.input.charCodeAt(e.position),b===91)f=93,h=!1,s=[];else if(b===123)f=125,h=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),b=e.input.charCodeAt(++e.position);b!==0;){if(K(e,!0,n),b=e.input.charCodeAt(e.position),b===f)return e.position++,e.tag=l,e.anchor=u,e.kind=h?"mapping":"sequence",e.result=s,!0;i?b===44&&I(e,"expected the node content, but found ','"):I(e,"missed comma between flow collection entries"),_=g=w=null,p=c=!1,b===63&&(a=e.input.charCodeAt(e.position+1),le(a)&&(p=c=!0,e.position++,K(e,!0,n))),r=e.line,t=e.lineStart,o=e.position,He(e,n,sn,!1,!0),_=e.tag,g=e.result,K(e,!0,n),b=e.input.charCodeAt(e.position),(c||e.line===r)&&b===58&&(p=!0,b=e.input.charCodeAt(++e.position),K(e,!0,n),He(e,n,sn,!1,!0),w=e.result),h?Be(e,s,d,_,g,w,r,t,o):p?s.push(Be(e,null,d,_,g,w,r,t,o)):s.push(g),K(e,!0,n),b=e.input.charCodeAt(e.position),b===44?(i=!0,b=e.input.charCodeAt(++e.position)):i=!1}I(e,"unexpected end of the stream within a flow collection")}function Wl(e,n){var i,r,t=vn,o=!1,l=!1,s=n,u=0,a=!1,f,p;if(p=e.input.charCodeAt(e.position),p===124)r=!1;else if(p===62)r=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)vn===t?t=p===43?Wn:Ol:I(e,"repeat of a chomping mode identifier");else if((f=Bl(p))>=0)f===0?I(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?I(e,"repeat of an indentation width identifier"):(s=n+f-1,l=!0);else break;if(De(p)){do p=e.input.charCodeAt(++e.position);while(De(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!ye(p)&&p!==0)}for(;p!==0;){for(Dn(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!l||e.lineIndent<s)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>s&&(s=e.lineIndent),ye(p)){u++;continue}if(e.lineIndent<s){t===Wn?e.result+=Q.repeat(`
`,o?1+u:u):t===vn&&o&&(e.result+=`
`);break}for(r?De(p)?(a=!0,e.result+=Q.repeat(`
`,o?1+u:u)):a?(a=!1,e.result+=Q.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=Q.repeat(`
`,u):e.result+=Q.repeat(`
`,o?1+u:u),o=!0,l=!0,u=0,i=e.position;!ye(p)&&p!==0;)p=e.input.charCodeAt(++e.position);Ce(e,i,e.position,!1)}return!0}function Qn(e,n){var i,r=e.tag,t=e.anchor,o=[],l,s=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,I(e,"tab characters must not be used in indentation")),!(u!==45||(l=e.input.charCodeAt(e.position+1),!le(l))));){if(s=!0,e.position++,K(e,!0,-1)&&e.lineIndent<=n){o.push(null),u=e.input.charCodeAt(e.position);continue}if(i=e.line,He(e,n,or,!1,!0),o.push(e.result),K(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===i||e.lineIndent>n)&&u!==0)I(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break}return s?(e.tag=r,e.anchor=t,e.kind="sequence",e.result=o,!0):!1}function ql(e,n,i){var r,t,o,l,s,u,a=e.tag,f=e.anchor,p={},c=Object.create(null),h=null,d=null,g=null,_=!1,w=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),b=e.input.charCodeAt(e.position);b!==0;){if(!_&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,I(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),o=e.line,(b===63||b===58)&&le(r))b===63?(_&&(Be(e,p,c,h,d,null,l,s,u),h=d=g=null),w=!0,_=!0,t=!0):_?(_=!1,t=!0):I(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=r;else{if(l=e.line,s=e.lineStart,u=e.position,!He(e,i,lr,!1,!0))break;if(e.line===o){for(b=e.input.charCodeAt(e.position);De(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),le(b)||I(e,"a whitespace character is expected after the key-value separator within a block mapping"),_&&(Be(e,p,c,h,d,null,l,s,u),h=d=g=null),w=!0,_=!1,t=!1,h=e.tag,d=e.result;else if(w)I(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=a,e.anchor=f,!0}else if(w)I(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=a,e.anchor=f,!0}if((e.line===o||e.lineIndent>n)&&(_&&(l=e.line,s=e.lineStart,u=e.position),He(e,n,un,!0,t)&&(_?d=e.result:g=e.result),_||(Be(e,p,c,h,d,g,l,s,u),h=d=g=null),K(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>n)&&b!==0)I(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return _&&Be(e,p,c,h,d,null,l,s,u),w&&(e.tag=a,e.anchor=f,e.kind="mapping",e.result=p),w}function Gl(e){var n,i=!1,r=!1,t,o,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&I(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(i=!0,l=e.input.charCodeAt(++e.position)):l===33?(r=!0,t="!!",l=e.input.charCodeAt(++e.position)):t="!",n=e.position,i){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(o=e.input.slice(n,e.position),l=e.input.charCodeAt(++e.position)):I(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!le(l);)l===33&&(r?I(e,"tag suffix cannot contain exclamation marks"):(t=e.input.slice(n-1,e.position+1),sr.test(t)||I(e,"named tag handle cannot contain such characters"),r=!0,n=e.position+1)),l=e.input.charCodeAt(++e.position);o=e.input.slice(n,e.position),Rl.test(o)&&I(e,"tag suffix cannot contain flow indicator characters")}o&&!ur.test(o)&&I(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{I(e,"tag name is malformed: "+o)}return i?e.tag=o:Le.call(e.tagMap,t)?e.tag=e.tagMap[t]+o:t==="!"?e.tag="!"+o:t==="!!"?e.tag="tag:yaml.org,2002:"+o:I(e,'undeclared tag handle "'+t+'"'),!0}function Kl(e){var n,i;if(i=e.input.charCodeAt(e.position),i!==38)return!1;for(e.anchor!==null&&I(e,"duplication of an anchor property"),i=e.input.charCodeAt(++e.position),n=e.position;i!==0&&!le(i)&&!Pe(i);)i=e.input.charCodeAt(++e.position);return e.position===n&&I(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function Xl(e){var n,i,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),n=e.position;r!==0&&!le(r)&&!Pe(r);)r=e.input.charCodeAt(++e.position);return e.position===n&&I(e,"name of an alias node must contain at least one character"),i=e.input.slice(n,e.position),Le.call(e.anchorMap,i)||I(e,'unidentified alias "'+i+'"'),e.result=e.anchorMap[i],K(e,!0,-1),!0}function He(e,n,i,r,t){var o,l,s,u=1,a=!1,f=!1,p,c,h,d,g,_;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=l=s=un===i||or===i,r&&K(e,!0,-1)&&(a=!0,e.lineIndent>n?u=1:e.lineIndent===n?u=0:e.lineIndent<n&&(u=-1)),u===1)for(;Gl(e)||Kl(e);)K(e,!0,-1)?(a=!0,s=o,e.lineIndent>n?u=1:e.lineIndent===n?u=0:e.lineIndent<n&&(u=-1)):s=!1;if(s&&(s=a||t),(u===1||un===i)&&(sn===i||lr===i?g=n:g=n+1,_=e.position-e.lineStart,u===1?s&&(Qn(e,_)||ql(e,_,g))||Ul(e,g)?f=!0:(l&&Wl(e,g)||Yl(e,g)||Vl(e,g)?f=!0:Xl(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&I(e,"alias node should not have any properties")):jl(e,g,sn===i)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(f=s&&Qn(e,_))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&I(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,c=e.implicitTypes.length;p<c;p+=1)if(d=e.implicitTypes[p],d.resolve(e.result)){e.result=d.construct(e.result),e.tag=d.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Le.call(e.typeMap[e.kind||"fallback"],e.tag))d=e.typeMap[e.kind||"fallback"][e.tag];else for(d=null,h=e.typeMap.multi[e.kind||"fallback"],p=0,c=h.length;p<c;p+=1)if(e.tag.slice(0,h[p].tag.length)===h[p].tag){d=h[p];break}d||I(e,"unknown tag !<"+e.tag+">"),e.result!==null&&d.kind!==e.kind&&I(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+d.kind+'", not "'+e.kind+'"'),d.resolve(e.result,e.tag)?(e.result=d.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):I(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function Ql(e){var n=e.position,i,r,t,o=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(l=e.input.charCodeAt(e.position))!==0&&(K(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(o=!0,l=e.input.charCodeAt(++e.position),i=e.position;l!==0&&!le(l);)l=e.input.charCodeAt(++e.position);for(r=e.input.slice(i,e.position),t=[],r.length<1&&I(e,"directive name must not be less than one character in length");l!==0;){for(;De(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!ye(l));break}if(ye(l))break;for(i=e.position;l!==0&&!le(l);)l=e.input.charCodeAt(++e.position);t.push(e.input.slice(i,e.position))}l!==0&&Dn(e),Le.call(Kn,r)?Kn[r](e,r,t):an(e,'unknown document directive "'+r+'"')}if(K(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,K(e,!0,-1)):o&&I(e,"directives end mark is expected"),He(e,e.lineIndent-1,un,!1,!0),K(e,!0,-1),e.checkLineBreaks&&Ml.test(e.input.slice(n,e.position))&&an(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&pn(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,K(e,!0,-1));return}if(e.position<e.length-1)I(e,"end of the stream or a document separator is expected");else return}function dr(e,n){e=String(e),n=n||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var i=new Hl(e,n),r=e.indexOf("\0");for(r!==-1&&(i.position=r,I(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)Ql(i);return i.documents}function Zl(e,n,i){n!==null&&typeof n=="object"&&typeof i>"u"&&(i=n,n=null);var r=dr(e,i);if(typeof n!="function")return r;for(var t=0,o=r.length;t<o;t+=1)n(r[t])}function Jl(e,n){var i=dr(e,n);if(i.length!==0){if(i.length===1)return i[0];throw new re("expected a single document in the stream, but found more")}}var $l=Zl,eo=Jl,hr={loadAll:$l,load:eo},pr=Object.prototype.toString,gr=Object.prototype.hasOwnProperty,Rn=65279,no=9,Qe=10,io=13,ro=32,to=33,lo=34,xn=35,oo=37,so=38,uo=39,ao=42,mr=44,fo=45,fn=58,co=61,ho=62,po=63,go=64,br=91,_r=93,mo=96,vr=123,bo=124,yr=125,ne={};ne[0]="\\0";ne[7]="\\a";ne[8]="\\b";ne[9]="\\t";ne[10]="\\n";ne[11]="\\v";ne[12]="\\f";ne[13]="\\r";ne[27]="\\e";ne[34]='\\"';ne[92]="\\\\";ne[133]="\\N";ne[160]="\\_";ne[8232]="\\L";ne[8233]="\\P";var _o=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],vo=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function yo(e,n){var i,r,t,o,l,s,u;if(n===null)return{};for(i={},r=Object.keys(n),t=0,o=r.length;t<o;t+=1)l=r[t],s=String(n[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),u=e.compiledTypeMap.fallback[l],u&&gr.call(u.styleAliases,s)&&(s=u.styleAliases[s]),i[l]=s;return i}function Ao(e){var n,i,r;if(n=e.toString(16).toUpperCase(),e<=255)i="x",r=2;else if(e<=65535)i="u",r=4;else if(e<=4294967295)i="U",r=8;else throw new re("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+Q.repeat("0",r-n.length)+n}var xo=1,Ze=2;function Eo(e){this.schema=e.schema||On,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Q.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=yo(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Ze:xo,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Zn(e,n){for(var i=Q.repeat(" ",n),r=0,t=-1,o="",l,s=e.length;r<s;)t=e.indexOf(`
`,r),t===-1?(l=e.slice(r),r=s):(l=e.slice(r,t+1),r=t+1),l.length&&l!==`
`&&(o+=i),o+=l;return o}function En(e,n){return`
`+Q.repeat(" ",e.indent*n)}function wo(e,n){var i,r,t;for(i=0,r=e.implicitTypes.length;i<r;i+=1)if(t=e.implicitTypes[i],t.resolve(n))return!0;return!1}function cn(e){return e===ro||e===no}function Je(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Rn||65536<=e&&e<=1114111}function Jn(e){return Je(e)&&e!==Rn&&e!==io&&e!==Qe}function $n(e,n,i){var r=Jn(e),t=r&&!cn(e);return(i?r:r&&e!==mr&&e!==br&&e!==_r&&e!==vr&&e!==yr)&&e!==xn&&!(n===fn&&!t)||Jn(n)&&!cn(n)&&e===xn||n===fn&&t}function So(e){return Je(e)&&e!==Rn&&!cn(e)&&e!==fo&&e!==po&&e!==fn&&e!==mr&&e!==br&&e!==_r&&e!==vr&&e!==yr&&e!==xn&&e!==so&&e!==ao&&e!==to&&e!==bo&&e!==co&&e!==ho&&e!==uo&&e!==lo&&e!==oo&&e!==go&&e!==mo}function ko(e){return!cn(e)&&e!==fn}function qe(e,n){var i=e.charCodeAt(n),r;return i>=55296&&i<=56319&&n+1<e.length&&(r=e.charCodeAt(n+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function Ar(e){var n=/^\n* /;return n.test(e)}var xr=1,wn=2,Er=3,wr=4,Ne=5;function Fo(e,n,i,r,t,o,l,s){var u,a=0,f=null,p=!1,c=!1,h=r!==-1,d=-1,g=So(qe(e,0))&&ko(qe(e,e.length-1));if(n||l)for(u=0;u<e.length;a>=65536?u+=2:u++){if(a=qe(e,u),!Je(a))return Ne;g=g&&$n(a,f,s),f=a}else{for(u=0;u<e.length;a>=65536?u+=2:u++){if(a=qe(e,u),a===Qe)p=!0,h&&(c=c||u-d-1>r&&e[d+1]!==" ",d=u);else if(!Je(a))return Ne;g=g&&$n(a,f,s),f=a}c=c||h&&u-d-1>r&&e[d+1]!==" "}return!p&&!c?g&&!l&&!t(e)?xr:o===Ze?Ne:wn:i>9&&Ar(e)?Ne:l?o===Ze?Ne:wn:c?wr:Er}function Co(e,n,i,r,t){e.dump=function(){if(n.length===0)return e.quotingType===Ze?'""':"''";if(!e.noCompatMode&&(_o.indexOf(n)!==-1||vo.test(n)))return e.quotingType===Ze?'"'+n+'"':"'"+n+"'";var o=e.indent*Math.max(1,i),l=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),s=r||e.flowLevel>-1&&i>=e.flowLevel;function u(a){return wo(e,a)}switch(Fo(n,s,e.indent,l,u,e.quotingType,e.forceQuotes&&!r,t)){case xr:return n;case wn:return"'"+n.replace(/'/g,"''")+"'";case Er:return"|"+ei(n,e.indent)+ni(Zn(n,o));case wr:return">"+ei(n,e.indent)+ni(Zn(Io(n,l),o));case Ne:return'"'+To(n)+'"';default:throw new re("impossible error: invalid scalar style")}}()}function ei(e,n){var i=Ar(e)?String(n):"",r=e[e.length-1]===`
`,t=r&&(e[e.length-2]===`
`||e===`
`),o=t?"+":r?"":"-";return i+o+`
`}function ni(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Io(e,n){for(var i=/(\n+)([^\n]*)/g,r=function(){var a=e.indexOf(`
`);return a=a!==-1?a:e.length,i.lastIndex=a,ii(e.slice(0,a),n)}(),t=e[0]===`
`||e[0]===" ",o,l;l=i.exec(e);){var s=l[1],u=l[2];o=u[0]===" ",r+=s+(!t&&!o&&u!==""?`
`:"")+ii(u,n),t=o}return r}function ii(e,n){if(e===""||e[0]===" ")return e;for(var i=/ [^ ]/g,r,t=0,o,l=0,s=0,u="";r=i.exec(e);)s=r.index,s-t>n&&(o=l>t?l:s,u+=`
`+e.slice(t,o),t=o+1),l=s;return u+=`
`,e.length-t>n&&l>t?u+=e.slice(t,l)+`
`+e.slice(l+1):u+=e.slice(t),u.slice(1)}function To(e){for(var n="",i=0,r,t=0;t<e.length;i>=65536?t+=2:t++)i=qe(e,t),r=ne[i],!r&&Je(i)?(n+=e[t],i>=65536&&(n+=e[t+1])):n+=r||Ao(i);return n}function Lo(e,n,i){var r="",t=e.tag,o,l,s;for(o=0,l=i.length;o<l;o+=1)s=i[o],e.replacer&&(s=e.replacer.call(i,String(o),s)),(Ee(e,n,s,!1,!1)||typeof s>"u"&&Ee(e,n,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=t,e.dump="["+r+"]"}function ri(e,n,i,r){var t="",o=e.tag,l,s,u;for(l=0,s=i.length;l<s;l+=1)u=i[l],e.replacer&&(u=e.replacer.call(i,String(l),u)),(Ee(e,n+1,u,!0,!0,!1,!0)||typeof u>"u"&&Ee(e,n+1,null,!0,!0,!1,!0))&&((!r||t!=="")&&(t+=En(e,n)),e.dump&&Qe===e.dump.charCodeAt(0)?t+="-":t+="- ",t+=e.dump);e.tag=o,e.dump=t||"[]"}function Oo(e,n,i){var r="",t=e.tag,o=Object.keys(i),l,s,u,a,f;for(l=0,s=o.length;l<s;l+=1)f="",r!==""&&(f+=", "),e.condenseFlow&&(f+='"'),u=o[l],a=i[u],e.replacer&&(a=e.replacer.call(i,u,a)),Ee(e,n,u,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Ee(e,n,a,!1,!1)&&(f+=e.dump,r+=f));e.tag=t,e.dump="{"+r+"}"}function Do(e,n,i,r){var t="",o=e.tag,l=Object.keys(i),s,u,a,f,p,c;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new re("sortKeys must be a boolean or a function");for(s=0,u=l.length;s<u;s+=1)c="",(!r||t!=="")&&(c+=En(e,n)),a=l[s],f=i[a],e.replacer&&(f=e.replacer.call(i,a,f)),Ee(e,n+1,a,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&Qe===e.dump.charCodeAt(0)?c+="?":c+="? "),c+=e.dump,p&&(c+=En(e,n)),Ee(e,n+1,f,!0,p)&&(e.dump&&Qe===e.dump.charCodeAt(0)?c+=":":c+=": ",c+=e.dump,t+=c));e.tag=o,e.dump=t||"{}"}function ti(e,n,i){var r,t,o,l,s,u;for(t=i?e.explicitTypes:e.implicitTypes,o=0,l=t.length;o<l;o+=1)if(s=t[o],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof n=="object"&&n instanceof s.instanceOf)&&(!s.predicate||s.predicate(n))){if(i?s.multi&&s.representName?e.tag=s.representName(n):e.tag=s.tag:e.tag="?",s.represent){if(u=e.styleMap[s.tag]||s.defaultStyle,pr.call(s.represent)==="[object Function]")r=s.represent(n,u);else if(gr.call(s.represent,u))r=s.represent[u](n,u);else throw new re("!<"+s.tag+'> tag resolver accepts not "'+u+'" style');e.dump=r}return!0}return!1}function Ee(e,n,i,r,t,o,l){e.tag=null,e.dump=i,ti(e,i,!1)||ti(e,i,!0);var s=pr.call(e.dump),u=r,a;r&&(r=e.flowLevel<0||e.flowLevel>n);var f=s==="[object Object]"||s==="[object Array]",p,c;if(f&&(p=e.duplicates.indexOf(i),c=p!==-1),(e.tag!==null&&e.tag!=="?"||c||e.indent!==2&&n>0)&&(t=!1),c&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(f&&c&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),s==="[object Object]")r&&Object.keys(e.dump).length!==0?(Do(e,n,e.dump,t),c&&(e.dump="&ref_"+p+e.dump)):(Oo(e,n,e.dump),c&&(e.dump="&ref_"+p+" "+e.dump));else if(s==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!l&&n>0?ri(e,n-1,e.dump,t):ri(e,n,e.dump,t),c&&(e.dump="&ref_"+p+e.dump)):(Lo(e,n,e.dump),c&&(e.dump="&ref_"+p+" "+e.dump));else if(s==="[object String]")e.tag!=="?"&&Co(e,e.dump,n,o,u);else{if(s==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new re("unacceptable kind of an object to dump "+s)}e.tag!==null&&e.tag!=="?"&&(a=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?a="!"+a:a.slice(0,18)==="tag:yaml.org,2002:"?a="!!"+a.slice(18):a="!<"+a+">",e.dump=a+" "+e.dump)}return!0}function Mo(e,n){var i=[],r=[],t,o;for(Sn(e,i,r),t=0,o=r.length;t<o;t+=1)n.duplicates.push(i[r[t]]);n.usedDuplicates=new Array(o)}function Sn(e,n,i){var r,t,o;if(e!==null&&typeof e=="object")if(t=n.indexOf(e),t!==-1)i.indexOf(t)===-1&&i.push(t);else if(n.push(e),Array.isArray(e))for(t=0,o=e.length;t<o;t+=1)Sn(e[t],n,i);else for(r=Object.keys(e),t=0,o=r.length;t<o;t+=1)Sn(e[r[t]],n,i)}function Ro(e,n){n=n||{};var i=new Eo(n);i.noRefs||Mo(e,i);var r=e;return i.replacer&&(r=i.replacer.call({"":r},"",r)),Ee(i,0,r,!0,!0)?i.dump+`
`:""}var No=Ro,Po={dump:No};function Nn(e,n){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var Bo=$,zo=Hi,Ho=Ui,jo=Xi,Yo=Qi,Vo=On,Uo=hr.load,Wo=hr.loadAll,qo=Po.dump,Go=re,Ko={binary:nr,float:Ki,map:Vi,null:Wi,pairs:rr,set:tr,timestamp:$i,bool:qi,int:Gi,merge:er,omap:ir,seq:Yi,str:ji},Xo=Nn("safeLoad","load"),Qo=Nn("safeLoadAll","loadAll"),Zo=Nn("safeDump","dump"),Jo={Type:Bo,Schema:zo,FAILSAFE_SCHEMA:Ho,JSON_SCHEMA:jo,CORE_SCHEMA:Yo,DEFAULT_SCHEMA:Vo,load:Uo,loadAll:Wo,dump:qo,YAMLException:Go,types:Ko,safeLoad:Xo,safeLoadAll:Qo,safeDump:Zo};async function $o({fetch:e}){const n=await e(Lt).then(r=>r.text());return{meta:Jo.load(n)}}const Gs=Object.freeze(Object.defineProperty({__proto__:null,load:$o},Symbol.toStringTag,{value:"Module"})),es={x:[0,0],y:[0,0]},ns=e=>{const n=document.getElementsByTagName("canvas");e&&console.debug(`Trying to destory WebGL instances of ${n.length} canvas elements`);for(let i=0;i<n.length;i++){const r=n[i],t=r.getContext("webgl")||r.getContext("experimental-webgl");t&&(e&&console.debug(`Trying to lose WebGL context for canvas ${i}`),t.getExtension("WEBGL_lose_context").loseContext())}},is=e=>typeof e=="string"||Array.isArray(e)&&e.every(n=>typeof n=="string"),rs=_t,ts={id:"deepscatter",debug:!0,pause:!1,plot:null,ready:!1,autofit:!0,width:600,height:400,autofitWidth:600,autofitHeight:400,zoomAlign:"center",zoomBalance:.35,encoding:{},duration:1e3,pointSize:3,maxPoints:500,alpha:40,backgroundOptions:{color:"white",opacity:[.2,1],size:[.66,1],mouseover:!1}};class ls{constructor(n){ee(this,"store");ee(this,"autofitUnsubscribe");ee(this,"browser",rs);ee(this,"Deepscatter");ee(this,"timer");ee(this,"dimer");ee(this,"delayPlotAPI",500);ee(this,"delayDestory",250);ee(this,"destroying",!1);ee(this,"debouncePlotAPI",()=>{this.plotting||(this.debug({status:"debouncePlotAPI"},{plotting:this.plotting,ready:this.ready}),clearTimeout(this.timer),this.plotting=!0,this.timer=setTimeout(async()=>{var n;(n=this.plot)==null||n.plotAPI({...this.args}).then(()=>this.ready=!0).then(()=>{this.isDebug&&(window.plot=this.plot)}).then(()=>this.plotting=!1)},this.delayPlotAPI))});ee(this,"debounceDestroy",async()=>{if(!this.destroying)return clearTimeout(this.dimer),this.destroying=!0,new Promise(n=>{this.dimer=setTimeout(async()=>{this.debug({status:"debounceDestroy timeout"},{destroying:this.destroying,ready:this.ready}),this.destroy().then(()=>{n(),this.destroying=!1,this.destroyWebGLInstances()})},this.delayDestory)})});ee(this,"destroy",async()=>(this.plot!==null&&(this.plot.destroy(),this.debug({status:"destroyed"},{plot:this.plot,ready:this.ready}),this.ready=!1),Promise.resolve()));ee(this,"subscribe");ee(this,"_plotting",!1);ee(this,"_schema",null);this.store=bt(n),this.subscribe=this.store.subscribe,this.reset=this.reset.bind(this),this.debug=this.debug.bind(this),this.autofitUnsubscribe=this.subscribe(i=>{i.w=this.autofit?this.autofitWidth:this.width,i.h=this.autofit?this.autofitHeight:this.height})}async LoadDeepscatter(){const n=await mt(()=>import("../chunks/deepscatter.39d51a89.js"),[],import.meta.url);this.Deepscatter=n.default,this.debug({status:"Deepscatter imported"},n)}deconstructor(){this.autofitUnsubscribe()}reset(){this.store.set(H(this.store))}debug(n,...i){let{debug:r}=H(this.store);r&&(console.debug(n==null?void 0:n.status),Array.isArray(i)&&i.length>0&&console.debug(i))}samplePoints(n){var r;return(r=this.plot)==null?void 0:r.sample(n)}reinitializeZoom(){var n;(n=this.plot)==null||n._zoom.initialize_zoom()}destroyWebGLInstances(){let{debug:n}=H(this.store);ns(n)}get zoom(){let{zoom:n}=H(this.store);return n}get zoomAlign(){let{zoomAlign:n}=H(this.store);return n}get zoomBalance(){let{zoomBalance:n}=H(this.store);return n}get encoding(){let{encoding:n}=H(this.store);return n}get duration(){let{duration:n}=H(this.store);return n}get pointSize(){let{pointSize:n}=H(this.store);return n}get maxPoints(){let{maxPoints:n}=H(this.store);return n}get alpha(){let{alpha:n}=H(this.store);return n}get clickFunction(){let{clickFunction:n}=H(this.store);return n}get labels(){let{labels:n}=H(this.store);return n}get backgroundOptions(){let{backgroundOptions:n}=H(this.store);return n}get backgroundColor(){if(!this.backgroundOptions)return;let{color:n}=this.backgroundOptions;return n}get backgroundOpacity(){if(!this.backgroundOptions)return;let{opacity:n}=this.backgroundOptions;return n}get backgroundSize(){if(!this.backgroundOptions)return;let{size:n}=this.backgroundOptions;return n}get backgroundMouseover(){if(!this.backgroundOptions)return;let{mouseover:n}=this.backgroundOptions;return n}set zoom(n){this.store.update(i=>(i.zoom=n,i))}set zoomBBox(n){this.store.update(i=>(i.zoom||(i.zoom={bbox:n}),i.zoom.bbox=n,i))}set zoomAlign(n){this.store.update(i=>(i.zoomAlign=n,i))}set zoomBalance(n){this.store.update(i=>(i.zoomBalance=n,i))}set encoding(n){this.store.update(i=>(i.encoding=n,i))}set duration(n){this.store.update(i=>(i.duration=n,i))}set pointSize(n){this.store.update(i=>(i.pointSize=n,i))}set maxPoints(n){this.store.update(i=>(i.maxPoints=n,this.totalPoints=n,i))}set alpha(n){this.store.update(i=>(i.alpha=n,i))}set clickFunction(n){this.store.update(i=>(i.clickFunction=n,i))}set labels(n){this.store.update(i=>(i.labels=n,i))}set backgroundOptions(n){this.store.update(i=>(i.backgroundOptions=n,i))}set backgroundColor(n){this.store.update(i=>(i.backgroundOptions||(i.backgroundOptions={}),i.backgroundOptions.color=n,i))}set backgroundOpacity(n){this.store.update(i=>(i.backgroundOptions||(i.backgroundOptions={}),i.backgroundOptions.opacity=n,i))}set backgroundSize(n){this.store.update(i=>(i.backgroundOptions||(i.backgroundOptions={}),i.backgroundOptions.size=n,i))}set backgroundMouseover(n){this.store.update(i=>(i.backgroundOptions||(i.backgroundOptions={}),i.backgroundOptions.mouseover=n,i))}get id(){let{id:n}=H(this.store);return n}set id(n){this.store.update(i=>(i.id=n,i))}get url(){let{url:n}=H(this.store);return n}set url(n){this.store.update(i=>(i.url=n,i))}get isDebug(){let{debug:n}=H(this.store);return n}set isDebug(n){this.store.update(i=>(i.debug=n,i))}get isPause(){let{pause:n}=H(this.store);return n}set isPause(n){this.store.update(i=>(i.pause=n,i))}get plot(){let{plot:n}=H(this.store);return n}set plot(n){this.store.update(i=>(i.plot=n,i))}get ready(){let{ready:n}=H(this.store);return n}set ready(n){this.store.update(i=>(i.ready=n,i))}get autofit(){let{autofit:n}=H(this.store);return n}set autofit(n){this.store.update(i=>(i.autofit=n,i))}get width(){let{width:n}=H(this.store);return n}get height(){let{height:n}=H(this.store);return n}get autofitWidth(){let{autofitWidth:n}=H(this.store);return n}set autofitWidth(n){this.store.update(i=>(i.autofitWidth=n,i))}get autofitHeight(){let{autofitHeight:n}=H(this.store);return n}set autofitHeight(n){this.store.update(i=>(i.autofitHeight=n,i))}get w(){let{w:n}=H(this.store);return n}get h(){let{h:n}=H(this.store);return n}get args(){let n={};return this.url&&(n.source_url=this.url),this.zoom&&(n.zoom=this.zoom),this.zoomAlign&&(n.zoom_align=this.zoomAlign),this.zoomBalance&&(n.zoom_balance=this.zoomBalance),this.encoding&&(n.encoding=this.encoding),this.duration&&(n.duration=this.duration),this.pointSize&&(n.point_size=this.pointSize),this.maxPoints&&(n.max_points=this.maxPoints),this.alpha&&(n.alpha=this.alpha),this.clickFunction&&(n.click_function=this.clickFunction),this.labels&&(n.labels=this.labels),this.backgroundOptions&&(n.background_options=this.backgroundOptions),this.backgroundColor&&(n.background_color=this.backgroundColor),this.backgroundOpacity&&(n.background_opacity=this.backgroundOpacity),n}get plotting(){return this._plotting}set plotting(n){this._plotting=n}get schema(){return this._schema}set schema(n){this._schema=n}get fields(){var n,i,r;return this.ready?(r=(i=(n=this.plot)==null?void 0:n._root)==null?void 0:i.schema)==null?void 0:r.fields:[]}get extents(){var n,i;return this.ready?(i=(n=this.plot)==null?void 0:n._root)==null?void 0:i._extents:{}}get xExtent(){var n;return((n=this.extents)==null?void 0:n.x)||null}get yExtent(){var n;return((n=this.extents)==null?void 0:n.y)||null}get zExtent(){var n;return((n=this.extents)==null?void 0:n.z)||null}async updateAPI(){}async updatePlot(){var n;this.debug({status:"Inside updatePlot"},{what:"widths",w:this.w,h:this.h,autoW:this.autofitWidth,autoH:this.autofitHeight},{args:this.args});try{await((n=this.plot)==null?void 0:n.plotAPI({...this.args},this.w,this.h).then(()=>{this.ready=!0,this.plotting=!1}).then(()=>{}).then(()=>{window.plot=this.isDebug?this.plot:null}).then(()=>{this.plotting=!1}).then(async()=>{var i;this.schema=await((i=this.plot)==null?void 0:i._root.schema())}))}catch(i){console.error(i)}}initializePlot(){this.plot=new this.Deepscatter(`#${this.id}`,this.w,this.h),this.debug({status:"Plot initialized"},this.plot),this.updatePlot()}get columns(){let{columns:n}=H(this.store);return n}set columns(n){this.store.update(i=>(i.columns=n,i))}get sidecars(){let{sidecars:n}=H(this.store);return n}set sidecars(n){this.store.update(i=>(i.sidecars=n,i))}get embedding(){let{embedding:n}=H(this.store);return n}set embedding(n){this.store.update(i=>(i.embedding=n,i))}get totalPoints(){let{totalPoints:n}=H(this.store);return n}set totalPoints(n){let i=this.maxPoints?this.maxPoints:0,r=this.totalPoints?this.totalPoints:0,t=Math.max(i,r,n||0);this.store.update(o=>(o.totalPoints=t,o))}getEncodingField(n){const i=this.encoding;if(!i)return;const r=i[n];if(!(!r||typeof r=="string"))try{return r==null?void 0:r.field}catch{return}}get xField(){return this.getEncodingField("x")}set xField(n){this.setEncoding("x",this.getColumnAsEncoding(n))}get yField(){return this.getEncodingField("y")}set yField(n){this.setEncoding("y",this.getColumnAsEncoding(n))}get cField(){return this.getEncodingField("color")}set cField(n){this.setEncoding("color",this.getColumnAsEncoding(n))}setEncoding(n,i){this.store.update(r=>{r.encoding||(r.encoding={}),r.encoding[n]=i;let t;try{t=i==null?void 0:i.field}catch{t=void 0}return t&&r.columns&&!(t in r.columns)&&(r.columns[t]=i),r})}getColumnMetadata(n){if(!n)return;let{columns:i}=H(this.store);return i?i[n]:void 0}getColumnAsEncoding(n){if(!n)return;let i=this.getColumnMetadata(n),r={};i!=null&&i.field&&(r.field=i.field),is(i==null?void 0:i.domain)&&(r=r),i!=null&&i.domain&&(r.domain=i.domain);let t=this.encoding;if(!t)return r;for(const[o,l]of Object.entries(t))if(l){if(typeof l=="string")continue;if("field"in l&&l.field===n){r={...r,...l};break}}else continue;return r}getColumnsMetadata(n){if(!n)return{};let i=n.map(t=>[t,this.getColumnMetadata(t)]);return Object.fromEntries(i)}getColumnsAsEncodings(n){if(!n)return{};let i=n.map(t=>[t,this.getColumnAsEncoding(t)]);return Object.fromEntries(i)}get x(){if(this.xField&&this.columns)return this.getColumnAsEncoding(this.xField)}get y(){if(this.yField&&this.columns)return this.getColumnAsEncoding(this.yField)}get color(){if(this.cField&&this.columns)return this.getColumnAsEncoding(this.cField)}addToColumns(n,i){this.store.update(r=>(r.columns||(r.columns={}),n in r.columns||(r.columns[n]=i),r))}setEncodingSubkey(n,i,r){this.store.update(t=>{t.encoding||(t.encoding={});let o=t.encoding[n];return o||(o={}),o[i]=r,this.encoding={...this.encoding,[n]:o},t.encoding={...t.encoding,[n]:o},t})}}const R=new ls(ts);function os(e){return e.split("-")[1]}function ss(e){return e==="y"?"height":"width"}function Sr(e){return e.split("-")[0]}function us(e){return["top","bottom"].includes(Sr(e))?"x":"y"}function li(e,n,i){let{reference:r,floating:t}=e;const o=r.x+r.width/2-t.width/2,l=r.y+r.height/2-t.height/2,s=us(n),u=ss(s),a=r[u]/2-t[u]/2,f=s==="x";let p;switch(Sr(n)){case"top":p={x:o,y:r.y-t.height};break;case"bottom":p={x:o,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:l};break;case"left":p={x:r.x-t.width,y:l};break;default:p={x:r.x,y:r.y}}switch(os(n)){case"start":p[s]-=a*(i&&f?-1:1);break;case"end":p[s]+=a*(i&&f?-1:1)}return p}const as=async(e,n,i)=>{const{placement:r="bottom",strategy:t="absolute",middleware:o=[],platform:l}=i,s=o.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(n));let a=await l.getElementRects({reference:e,floating:n,strategy:t}),{x:f,y:p}=li(a,r,u),c=r,h={},d=0;for(let g=0;g<s.length;g++){const{name:_,fn:w}=s[g],{x:b,y:C,data:B,reset:m}=await w({x:f,y:p,initialPlacement:r,placement:c,strategy:t,middlewareData:h,rects:a,platform:l,elements:{reference:e,floating:n}});f=b??f,p=C??p,h={...h,[_]:{...h[_],...B}},m&&d<=50&&(d++,typeof m=="object"&&(m.placement&&(c=m.placement),m.rects&&(a=m.rects===!0?await l.getElementRects({reference:e,floating:n,strategy:t}):m.rects),{x:f,y:p}=li(a,c,u)),g=-1)}return{x:f,y:p,placement:c,strategy:t,middlewareData:h}};function kr(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const fs=["top","right","bottom","left"];fs.reduce((e,n)=>e.concat(n,n+"-start",n+"-end"),[]);function me(e){var n;return((n=e.ownerDocument)==null?void 0:n.defaultView)||window}function be(e){return me(e).getComputedStyle(e)}function Fr(e){return e instanceof me(e).Node}function Oe(e){return Fr(e)?(e.nodeName||"").toLowerCase():""}function _e(e){return e instanceof me(e).HTMLElement}function ue(e){return e instanceof me(e).Element}function oi(e){return typeof ShadowRoot>"u"?!1:e instanceof me(e).ShadowRoot||e instanceof ShadowRoot}function $e(e){const{overflow:n,overflowX:i,overflowY:r,display:t}=be(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+i)&&!["inline","contents"].includes(t)}function cs(e){return["table","td","th"].includes(Oe(e))}function kn(e){const n=Pn(),i=be(e);return i.transform!=="none"||i.perspective!=="none"||!n&&!!i.backdropFilter&&i.backdropFilter!=="none"||!n&&!!i.filter&&i.filter!=="none"||["transform","perspective","filter"].some(r=>(i.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(i.contain||"").includes(r))}function Pn(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function gn(e){return["html","body","#document"].includes(Oe(e))}const si=Math.min,Ge=Math.max,dn=Math.round;function Cr(e){const n=be(e);let i=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const t=_e(e),o=t?e.offsetWidth:i,l=t?e.offsetHeight:r,s=dn(i)!==o||dn(r)!==l;return s&&(i=o,r=l),{width:i,height:r,fallback:s}}function Ir(e){return ue(e)?e:e.contextElement}const Tr={x:1,y:1};function ze(e){const n=Ir(e);if(!_e(n))return Tr;const i=n.getBoundingClientRect(),{width:r,height:t,fallback:o}=Cr(n);let l=(o?dn(i.width):i.width)/r,s=(o?dn(i.height):i.height)/t;return l&&Number.isFinite(l)||(l=1),s&&Number.isFinite(s)||(s=1),{x:l,y:s}}const ui={x:0,y:0};function Lr(e,n,i){var r,t;if(n===void 0&&(n=!0),!Pn())return ui;const o=e?me(e):window;return!i||n&&i!==o?ui:{x:((r=o.visualViewport)==null?void 0:r.offsetLeft)||0,y:((t=o.visualViewport)==null?void 0:t.offsetTop)||0}}function Me(e,n,i,r){n===void 0&&(n=!1),i===void 0&&(i=!1);const t=e.getBoundingClientRect(),o=Ir(e);let l=Tr;n&&(r?ue(r)&&(l=ze(r)):l=ze(e));const s=Lr(o,i,r);let u=(t.left+s.x)/l.x,a=(t.top+s.y)/l.y,f=t.width/l.x,p=t.height/l.y;if(o){const c=me(o),h=r&&ue(r)?me(r):r;let d=c.frameElement;for(;d&&r&&h!==c;){const g=ze(d),_=d.getBoundingClientRect(),w=getComputedStyle(d);_.x+=(d.clientLeft+parseFloat(w.paddingLeft))*g.x,_.y+=(d.clientTop+parseFloat(w.paddingTop))*g.y,u*=g.x,a*=g.y,f*=g.x,p*=g.y,u+=_.x,a+=_.y,d=me(d).frameElement}}return kr({width:f,height:p,x:u,y:a})}function Ie(e){return((Fr(e)?e.ownerDocument:e.document)||window.document).documentElement}function mn(e){return ue(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Or(e){return Me(Ie(e)).left+mn(e).scrollLeft}function je(e){if(Oe(e)==="html")return e;const n=e.assignedSlot||e.parentNode||oi(e)&&e.host||Ie(e);return oi(n)?n.host:n}function Dr(e){const n=je(e);return gn(n)?n.ownerDocument.body:_e(n)&&$e(n)?n:Dr(n)}function Ke(e,n){var i;n===void 0&&(n=[]);const r=Dr(e),t=r===((i=e.ownerDocument)==null?void 0:i.body),o=me(r);return t?n.concat(o,o.visualViewport||[],$e(r)?r:[]):n.concat(r,Ke(r))}function ai(e,n,i){let r;if(n==="viewport")r=function(t,o){const l=me(t),s=Ie(t),u=l.visualViewport;let a=s.clientWidth,f=s.clientHeight,p=0,c=0;if(u){a=u.width,f=u.height;const h=Pn();(!h||h&&o==="fixed")&&(p=u.offsetLeft,c=u.offsetTop)}return{width:a,height:f,x:p,y:c}}(e,i);else if(n==="document")r=function(t){const o=Ie(t),l=mn(t),s=t.ownerDocument.body,u=Ge(o.scrollWidth,o.clientWidth,s.scrollWidth,s.clientWidth),a=Ge(o.scrollHeight,o.clientHeight,s.scrollHeight,s.clientHeight);let f=-l.scrollLeft+Or(t);const p=-l.scrollTop;return be(s).direction==="rtl"&&(f+=Ge(o.clientWidth,s.clientWidth)-u),{width:u,height:a,x:f,y:p}}(Ie(e));else if(ue(n))r=function(t,o){const l=Me(t,!0,o==="fixed"),s=l.top+t.clientTop,u=l.left+t.clientLeft,a=_e(t)?ze(t):{x:1,y:1};return{width:t.clientWidth*a.x,height:t.clientHeight*a.y,x:u*a.x,y:s*a.y}}(n,i);else{const t=Lr(e);r={...n,x:n.x-t.x,y:n.y-t.y}}return kr(r)}function Mr(e,n){const i=je(e);return!(i===n||!ue(i)||gn(i))&&(be(i).position==="fixed"||Mr(i,n))}function fi(e,n){return _e(e)&&be(e).position!=="fixed"?n?n(e):e.offsetParent:null}function ci(e,n){const i=me(e);if(!_e(e))return i;let r=fi(e,n);for(;r&&cs(r)&&be(r).position==="static";)r=fi(r,n);return r&&(Oe(r)==="html"||Oe(r)==="body"&&be(r).position==="static"&&!kn(r))?i:r||function(t){let o=je(t);for(;_e(o)&&!gn(o);){if(kn(o))return o;o=je(o)}return null}(e)||i}function ds(e,n,i){const r=_e(n),t=Ie(n),o=i==="fixed",l=Me(e,!0,o,n);let s={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(r||!r&&!o)if((Oe(n)!=="body"||$e(t))&&(s=mn(n)),_e(n)){const a=Me(n,!0,o,n);u.x=a.x+n.clientLeft,u.y=a.y+n.clientTop}else t&&(u.x=Or(t));return{x:l.left+s.scrollLeft-u.x,y:l.top+s.scrollTop-u.y,width:l.width,height:l.height}}const hs={getClippingRect:function(e){let{element:n,boundary:i,rootBoundary:r,strategy:t}=e;const o=i==="clippingAncestors"?function(a,f){const p=f.get(a);if(p)return p;let c=Ke(a).filter(_=>ue(_)&&Oe(_)!=="body"),h=null;const d=be(a).position==="fixed";let g=d?je(a):a;for(;ue(g)&&!gn(g);){const _=be(g),w=kn(g);w||_.position!=="fixed"||(h=null),(d?!w&&!h:!w&&_.position==="static"&&h&&["absolute","fixed"].includes(h.position)||$e(g)&&!w&&Mr(a,g))?c=c.filter(b=>b!==g):h=_,g=je(g)}return f.set(a,c),c}(n,this._c):[].concat(i),l=[...o,r],s=l[0],u=l.reduce((a,f)=>{const p=ai(n,f,t);return a.top=Ge(p.top,a.top),a.right=si(p.right,a.right),a.bottom=si(p.bottom,a.bottom),a.left=Ge(p.left,a.left),a},ai(n,s,t));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:n,offsetParent:i,strategy:r}=e;const t=_e(i),o=Ie(i);if(i===o)return n;let l={scrollLeft:0,scrollTop:0},s={x:1,y:1};const u={x:0,y:0};if((t||!t&&r!=="fixed")&&((Oe(i)!=="body"||$e(o))&&(l=mn(i)),_e(i))){const a=Me(i);s=ze(i),u.x=a.x+i.clientLeft,u.y=a.y+i.clientTop}return{width:n.width*s.x,height:n.height*s.y,x:n.x*s.x-l.scrollLeft*s.x+u.x,y:n.y*s.y-l.scrollTop*s.y+u.y}},isElement:ue,getDimensions:function(e){return Cr(e)},getOffsetParent:ci,getDocumentElement:Ie,getScale:ze,async getElementRects(e){let{reference:n,floating:i,strategy:r}=e;const t=this.getOffsetParent||ci,o=this.getDimensions;return{reference:ds(n,await t(i),r),floating:{x:0,y:0,...await o(i)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>be(e).direction==="rtl"};function ps(e,n,i,r){r===void 0&&(r={});const{ancestorScroll:t=!0,ancestorResize:o=!0,elementResize:l=!0,animationFrame:s=!1}=r,u=t||o?[...ue(e)?Ke(e):e.contextElement?Ke(e.contextElement):[],...Ke(n)]:[];u.forEach(c=>{const h=!ue(c)&&c.toString().includes("V");!t||s&&!h||c.addEventListener("scroll",i,{passive:!0}),o&&c.addEventListener("resize",i)});let a,f=null;l&&(f=new ResizeObserver(()=>{i()}),ue(e)&&!s&&f.observe(e),ue(e)||!e.contextElement||s||f.observe(e.contextElement),f.observe(n));let p=s?Me(e):null;return s&&function c(){const h=Me(e);!p||h.x===p.x&&h.y===p.y&&h.width===p.width&&h.height===p.height||i(),p=h,a=requestAnimationFrame(c)}(),i(),()=>{var c;u.forEach(h=>{t&&h.removeEventListener("scroll",i),o&&h.removeEventListener("resize",i)}),(c=f)==null||c.disconnect(),f=null,s&&cancelAnimationFrame(a)}}const gs=(e,n,i)=>{const r=new Map,t={platform:hs,...i},o={...t.platform,_c:r};return as(e,n,{...t,platform:o})};function di(e){let n,i;const r={autoUpdate:!0};let t=e;const o=f=>({...r,...e||{},...f||{}}),l=f=>{n&&i&&(t=o(f),gs(n,i,t).then(p=>{Object.assign(i.style,{position:p.strategy,left:`${p.x}px`,top:`${p.y}px`}),t!=null&&t.onComputed&&t.onComputed(p)}))},s=f=>{if("subscribe"in f)return a(f),{};n=f,l()},u=(f,p)=>{let c;i=f,t=o(p),setTimeout(()=>l(p),0),l(p);const h=()=>{c&&(c(),c=void 0)},d=({autoUpdate:g}=t||{})=>{h(),g!==!1&&ct().then(()=>ps(n,i,()=>l(t),g===!0?{}:g))};return c=d(),{update(g){l(g),c=d(g)},destroy(){h()}}},a=f=>{const p=f.subscribe(c=>{n===void 0?(n=c,l()):(Object.assign(n,c),l())});ft(p)};return[s,u,l]}function hi(e){let n,i;return{c(){n=L("div"),this.h()},l(r){n=O(r,"DIV",{class:!0,unselectable:!0}),D(n).forEach(E),this.h()},h(){x(n,"class",i="absolute h-1 rounded-full "+e[8]+" w-0 select-none pointer-events-none cursor-none"),x(n,"unselectable","on")},m(r,t){q(r,n,t),e[37](n)},p(r,t){t[0]&256&&i!==(i="absolute h-1 rounded-full "+r[8]+" w-0 select-none pointer-events-none cursor-none")&&x(n,"class",i)},d(r){r&&E(n),e[37](null)}}}function pi(e){let n,i=Math.round(e[0]*100)/100+"",r,t,o;return{c(){n=L("div"),r=j(i),this.h()},l(l){n=O(l,"DIV",{class:!0,unselectable:!0});var s=D(n);r=Y(s,i),s.forEach(E),this.h()},h(){x(n,"class","relative -mt-2 w-1 pointer-events-none select-none cursor-none -z-10"),x(n,"unselectable","on")},m(l,s){q(l,n,s),y(n,r),t||(o=hn(e[25].call(null,n)),t=!0)},p(l,s){s[0]&1&&i!==(i=Math.round(l[0]*100)/100+"")&&ie(r,i)},d(l){l&&E(n),t=!1,o()}}}function gi(e){let n,i,r,t=(e[18]||e[10])&&!e[11]&&mi(e);return{c(){n=L("div"),t&&t.c(),this.h()},l(o){n=O(o,"DIV",{class:!0,unselectable:!0});var l=D(n);t&&t.l(l),l.forEach(E),this.h()},h(){x(n,"class","absolute h-4 -mt-1 flex items-center justify-center w-4 rounded-full bg-white shadow border border-gray-300 -ml-2 top-0 cursor-grabbing select-none "),x(n,"unselectable","on"),te(n,"cursor-grab",!e[20]),te(n,"cursor-grabbing",e[20])},m(o,l){q(o,n,l),t&&t.m(n,null),e[43](n),i||(r=[J(n,"touchstart",e[44],{passive:!0}),J(n,"mousedown",e[45]),J(n,"mouseenter",e[46]),J(n,"mouseleave",e[47]),hn(e[26].call(null,n))],i=!0)},p(o,l){(o[18]||o[10])&&!o[11]?t?t.p(o,l):(t=mi(o),t.c(),t.m(n,null)):t&&(t.d(1),t=null),l[0]&1048576&&te(n,"cursor-grab",!o[20]),l[0]&1048576&&te(n,"cursor-grabbing",o[20])},d(o){o&&E(n),t&&t.d(),e[43](null),i=!1,In(r)}}}function mi(e){let n,i=Math.round(e[1]*100)/100+"",r,t,o;return{c(){n=L("div"),r=j(i),this.h()},l(l){n=O(l,"DIV",{class:!0,unselectable:!0});var s=D(n);r=Y(s,i),s.forEach(E),this.h()},h(){x(n,"class","relative -mt-2 w-1 pointer-events-none select-none cursor-none -z-10"),x(n,"unselectable","on")},m(l,s){q(l,n,s),y(n,r),t||(o=hn(e[27].call(null,n)),t=!0)},p(l,s){s[0]&2&&i!==(i=Math.round(l[1]*100)/100+"")&&ie(r,i)},d(l){l&&E(n),t=!1,o()}}}function bi(e){let n,i,r=e[5]&&_i(e),t=e[6]&&vi(e);return{c(){n=L("div"),r&&r.c(),i=V(),t&&t.c(),this.h()},l(o){n=O(o,"DIV",{class:!0,unselectable:!0});var l=D(n);r&&r.l(l),i=U(l),t&&t.l(l),l.forEach(E),this.h()},h(){x(n,"class","w-full h-8 select-none pointer-events-none cursor-none"),x(n,"unselectable","on")},m(o,l){q(o,n,l),r&&r.m(n,null),y(n,i),t&&t.m(n,null)},p(o,l){o[5]?r?r.p(o,l):(r=_i(o),r.c(),r.m(n,i)):r&&(r.d(1),r=null),o[6]?t?t.p(o,l):(t=vi(o),t.c(),t.m(n,null)):t&&(t.d(1),t=null)},d(o){o&&E(n),r&&r.d(),t&&t.d()}}}function _i(e){let n,i;return{c(){n=L("div"),i=j(e[2]),this.h()},l(r){n=O(r,"DIV",{class:!0,unselectable:!0});var t=D(n);i=Y(t,e[2]),t.forEach(E),this.h()},h(){x(n,"class","absolute text-gray-800 -ml-1 top-3 left-3 "),x(n,"unselectable","on")},m(r,t){q(r,n,t),y(n,i)},p(r,t){t[0]&4&&ie(i,r[2])},d(r){r&&E(n)}}}function vi(e){let n,i;return{c(){n=L("div"),i=j(e[3]),this.h()},l(r){n=O(r,"DIV",{class:!0,unselectable:!0});var t=D(n);i=Y(t,e[3]),t.forEach(E),this.h()},h(){x(n,"class","absolute text-gray-800 -mr-1 top-3 right-3"),x(n,"unselectable","on")},m(r,t){q(r,n,t),y(n,i)},p(r,t){t[0]&8&&ie(i,r[3])},d(r){r&&E(n)}}}function ms(e){let n,i,r,t,o,l,s,u,a,f,p,c=e[4]&&hi(e),h=(e[17]||e[10])&&!e[11]&&pi(e),d=e[4]&&gi(e),g=e[7]&&bi(e);return{c(){n=L("div"),i=L("div"),r=L("div"),c&&c.c(),t=V(),o=L("div"),h&&h.c(),l=V(),d&&d.c(),s=V(),g&&g.c(),this.h()},l(_){n=O(_,"DIV",{class:!0,unselectable:!0});var w=D(n);i=O(w,"DIV",{class:!0,unselectable:!0});var b=D(i);r=O(b,"DIV",{class:!0,unselectable:!0});var C=D(r);c&&c.l(C),t=U(C),o=O(C,"DIV",{class:!0,unselectable:!0});var B=D(o);h&&h.l(B),B.forEach(E),l=U(C),d&&d.l(C),C.forEach(E),s=U(b),g&&g.l(b),b.forEach(E),w.forEach(E),this.h()},h(){x(o,"class","absolute h-4 -mt-1 flex items-center justify-center w-4 rounded-full bg-white shadow border border-gray-300 -ml-2 top-0 cursor-grabbing select-none "),x(o,"unselectable","on"),te(o,"cursor-grab",!e[20]),te(o,"cursor-grabbing",e[20]),x(r,"class","h-1 -mt-px bg-gray-300 rounded-full select-none pointer-events-auto"),x(r,"unselectable","on"),x(i,"class","py-1 relative min-w-full select-none"),x(i,"unselectable","on"),Cn(()=>e[48].call(i)),x(n,"class",a=e[28].class+" select-none cursor-default pointer-events-none"),x(n,"unselectable","on")},m(_,w){q(_,n,w),y(n,i),y(i,r),c&&c.m(r,null),y(r,t),y(r,o),h&&h.m(o,null),e[38](o),y(r,l),d&&d.m(r,null),y(i,s),g&&g.m(i,null),u=Li(i,e[48].bind(i)),e[49](i),f||(p=[J(window,"mousemove",e[21]),J(window,"touchmove",e[21]),J(window,"mouseup",e[22]),J(window,"touchend",e[22]),J(window,"mousedown",e[23]),J(o,"touchstart",e[39],{passive:!0}),J(o,"mousedown",e[40]),J(o,"mouseenter",e[41]),J(o,"mouseleave",e[42]),hn(e[24].call(null,o))],f=!0)},p(_,w){_[4]?c?c.p(_,w):(c=hi(_),c.c(),c.m(r,t)):c&&(c.d(1),c=null),(_[17]||_[10])&&!_[11]?h?h.p(_,w):(h=pi(_),h.c(),h.m(o,null)):h&&(h.d(1),h=null),w[0]&1048576&&te(o,"cursor-grab",!_[20]),w[0]&1048576&&te(o,"cursor-grabbing",_[20]),_[4]?d?d.p(_,w):(d=gi(_),d.c(),d.m(r,null)):d&&(d.d(1),d=null),_[7]?g?g.p(_,w):(g=bi(_),g.c(),g.m(i,null)):g&&(g.d(1),g=null),w[0]&268435456&&a!==(a=_[28].class+" select-none cursor-default pointer-events-none")&&x(n,"class",a)},i:Te,o:Te,d(_){_&&E(n),c&&c.d(),h&&h.d(),e[38](null),d&&d.d(),g&&g.d(),u(),e[49](null),f=!1,In(p)}}}function bs(e){return e instanceof MouseEvent}function _s(e){return e instanceof TouchEvent}function vs(e){return bs(e)?e.clientX:_s(e)?e.touches[0].clientX:0}function ys(e,n,i){let r,t,o,l,s,u;const a=Ye();let{range:f=!1}=n,{integer:p=!1}=n,{min:c=-2}=n,{max:h=2}=n,{lower:d=-1}=n,{upper:g=1}=n,{minLabel:_=!0}=n,{maxLabel:w=!0}=n,{minMaxLabels:b=!0}=n,{minRange:C=0}=n,{color:B="bg-sky-500"}=n,{tooltip:m=!1}=n,{tooltipAlways:v=!1}=n,{tooltipNever:S=!1}=n,k=!1,M=!1,W,N=null,F,T,P,z;const G=A=>o===1&&A-C<d&&f,X=A=>o===0&&A+C>g&&f;function ae(A){if(N===null)return!1;i(20,rn=!0);let tn=(vs(A)-t)/W*100;const st=Hr(tn);nn(st)}function nn(A){let Ue=d===g&&o===1&&A>d,We=d===g&&o===0&&A<g;if(Ue||We)A+=(h-c)/100*10,p&&(A=Math.round(A));else if(G(A)||X(A))return;switch(o){case 0:Nr(A);break;case 1:Pr(A);break}}const Nr=A=>{i(17,k=!0),p&&(A=Math.round(A)),i(0,d=Bn(A))},Pr=A=>{i(18,M=!0),p&&(A=Math.round(A)),i(1,g=Bn(A))},Br=A=>Math.min(h,A),zr=A=>Math.max(c,A),Bn=A=>Br(zr(A)),Fe=A=>(A-c)/(h-c)*100,Hr=A=>A/100*(h-c)+c,zn=A=>Math.abs(Fe(A)-Fe(d))<=.01?Fe(A)+1:Fe(A),Hn=()=>{i(33,l=Number.isNaN(Fe(d))?0:Fe(d)),i(35,s=zn(g)),i(34,u=s-l),T&&i(14,T.style.left=`${l}%`,T),P&&i(15,P.style.left=`${s}%`,P)},jr=(A,Ue,We,tn)=>{A&&i(2,c=A),Ue&&i(3,h=Ue),We&&i(0,d=We),tn&&i(1,g=tn),Hn()};let rn=!1;function Yr(){i(12,N=null),i(17,k=!1),i(18,M=!1),i(20,rn=!1)}function Vr(){i(20,rn=!0)}const[Ur,Wr]=di({strategy:"absolute",placement:"top",middleware:[]}),[qr,Gr]=di({strategy:"absolute",placement:"top",middleware:[]});function Kr(A){Z[A?"unshift":"push"](()=>{z=A,i(16,z),i(4,f),i(34,u),i(33,l),i(35,s),i(0,d),i(1,g)})}function Xr(A){Z[A?"unshift":"push"](()=>{T=A,i(14,T),i(33,l),i(0,d)})}const Qr=()=>i(12,N=T),Zr=()=>i(12,N=T),Jr=()=>i(17,k=m),$r=()=>i(17,k=!1);function et(A){Z[A?"unshift":"push"](()=>{P=A,i(15,P),i(35,s),i(1,g)})}const nt=()=>i(12,N=P),it=()=>i(12,N=P),rt=()=>i(18,M=m),tt=()=>i(18,M=!1);function lt(){W=this.clientWidth,i(19,W)}function ot(A){Z[A?"unshift":"push"](()=>{F=A,i(13,F)})}return e.$$set=A=>{i(28,n=Ae(Ae({},n),xe(A))),"range"in A&&i(4,f=A.range),"integer"in A&&i(29,p=A.integer),"min"in A&&i(2,c=A.min),"max"in A&&i(3,h=A.max),"lower"in A&&i(0,d=A.lower),"upper"in A&&i(1,g=A.upper),"minLabel"in A&&i(5,_=A.minLabel),"maxLabel"in A&&i(6,w=A.maxLabel),"minMaxLabels"in A&&i(7,b=A.minMaxLabels),"minRange"in A&&i(30,C=A.minRange),"color"in A&&i(8,B=A.color),"tooltip"in A&&i(9,m=A.tooltip),"tooltipAlways"in A&&i(10,v=A.tooltipAlways),"tooltipNever"in A&&i(11,S=A.tooltipNever)},e.$$.update=()=>{e.$$.dirty[0]&19&&i(36,r=f?[d,g]:d),e.$$.dirty[0]&8192&&(t=F==null?void 0:F.offsetLeft),e.$$.dirty[0]&1&&i(33,l=Number.isNaN(Fe(d))?0:Fe(d)),e.$$.dirty[0]&16384|e.$$.dirty[1]&4&&T&&i(14,T.style.left=`${l}%`,T),e.$$.dirty[0]&20480&&(o=N===T?0:1),e.$$.dirty[0]&536870912|e.$$.dirty[1]&32&&(Array.isArray(r)?r.forEach(A=>A=p?Math.round(A):A):i(36,r=p?Math.round(r):r),a("change",r)),e.$$.dirty[0]&2&&i(35,s=zn(g)),e.$$.dirty[1]&20&&i(34,u=s-l),e.$$.dirty[0]&32768|e.$$.dirty[1]&16&&P&&i(15,P.style.left=`${s}%`,P),e.$$.dirty[0]&65552|e.$$.dirty[1]&12&&z&&f&&(i(16,z.style.width=`${u}%`,z),i(16,z.style.left=`${l}%`,z)),e.$$.dirty[0]&528&&m==!0&&f&&(i(17,k=!0),i(18,M=!0))},n=xe(n),[d,g,c,h,f,_,w,b,B,m,v,S,N,F,T,P,z,k,M,W,rn,ae,Yr,Vr,Ur,Wr,qr,Gr,n,p,C,Hn,jr,l,u,s,r,Kr,Xr,Qr,Zr,Jr,$r,et,nt,it,rt,tt,lt,ot]}class Rr extends we{constructor(n){super(),Se(this,n,ys,ms,ke,{range:4,integer:29,min:2,max:3,lower:0,upper:1,minLabel:5,maxLabel:6,minMaxLabels:7,minRange:30,color:8,tooltip:9,tooltipAlways:10,tooltipNever:11,updatePointers:31,manuallySetBounds:32},null,[-1,-1,-1])}get updatePointers(){return this.$$.ctx[31]}get manuallySetBounds(){return this.$$.ctx[32]}}function As(e){let n,i,r,t,o,l,s,u=Math.round(e[0]*100)/100+"",a,f,p,c,h,d,g,_,w,b=Math.round(e[1]*100)/100+"",C,B,m,v,S;function k(N){e[8](N)}function M(N){e[9](N)}let W={id:e[2],range:!0,min:e[4],max:e[5],step:e[6],"input$aria-label":e[3],class:"grow col-span-8 w-full",minMaxLabels:!1,tooltipNever:!0};return e[0]!==void 0&&(W.lower=e[0]),e[1]!==void 0&&(W.upper=e[1]),h=new Rr({props:W}),Z.push(()=>oe(h,"lower",k)),Z.push(()=>oe(h,"upper",M)),h.$on("change",e[10]),h.$on("click",e[11]),{c(){n=L("div"),i=L("div"),r=L("div"),t=L("label"),o=j(e[3]),l=V(),s=L("div"),a=j(u),f=j(" / "),p=j(e[4]),c=V(),fe(h.$$.fragment),_=V(),w=L("div"),C=j(b),B=j(" / "),m=j(e[5]),this.h()},l(N){n=O(N,"DIV",{class:!0});var F=D(n);i=O(F,"DIV",{class:!0});var T=D(i);r=O(T,"DIV",{class:!0});var P=D(r);t=O(P,"LABEL",{for:!0,class:!0});var z=D(t);o=Y(z,e[3]),z.forEach(E),P.forEach(E),l=U(T),s=O(T,"DIV",{class:!0});var G=D(s);a=Y(G,u),f=Y(G," / "),p=Y(G,e[4]),G.forEach(E),c=U(T),ce(h.$$.fragment,T),_=U(T),w=O(T,"DIV",{class:!0});var X=D(w);C=Y(X,b),B=Y(X," / "),m=Y(X,e[5]),X.forEach(E),T.forEach(E),F.forEach(E),this.h()},h(){x(t,"for",e[2]),x(t,"class","text-gray-700 text-sm font-bold select-none point-event-none"),x(r,"class","col-span-12 justify-self-start select-none point-event-none"),te(r,"hidden",e[3]===null),x(s,"class","col-span-2 font-bold text-sm px-2 pointer-events-none select-none"),x(w,"class","col-span-2 font-bold text-sm px-2 pointer-events-none select-none"),x(i,"class","grid grid-cols-12 justify-center place-items-center gap-2 select-none point-event-none"),x(n,"class",v=e[7].class+" select-none point-event-none")},m(N,F){q(N,n,F),y(n,i),y(i,r),y(r,t),y(t,o),y(i,l),y(i,s),y(s,a),y(s,f),y(s,p),y(i,c),de(h,i,null),y(i,_),y(i,w),y(w,C),y(w,B),y(w,m),S=!0},p(N,[F]){(!S||F&8)&&ie(o,N[3]),(!S||F&4)&&x(t,"for",N[2]),(!S||F&8)&&te(r,"hidden",N[3]===null),(!S||F&1)&&u!==(u=Math.round(N[0]*100)/100+"")&&ie(a,u),(!S||F&16)&&ie(p,N[4]);const T={};F&4&&(T.id=N[2]),F&16&&(T.min=N[4]),F&32&&(T.max=N[5]),F&64&&(T.step=N[6]),F&8&&(T["input$aria-label"]=N[3]),!d&&F&1&&(d=!0,T.lower=N[0],se(()=>d=!1)),!g&&F&2&&(g=!0,T.upper=N[1],se(()=>g=!1)),h.$set(T),(!S||F&2)&&b!==(b=Math.round(N[1]*100)/100+"")&&ie(C,b),(!S||F&32)&&ie(m,N[5]),(!S||F&128&&v!==(v=N[7].class+" select-none point-event-none"))&&x(n,"class",v)},i(N){S||(he(h.$$.fragment,N),S=!0)},o(N){pe(h.$$.fragment,N),S=!1},d(N){N&&E(n),ge(h)}}}function xs(e,n,i){let{id:r="range-slider"}=n,{label:t="Range Slider"}=n,{min:o=-2}=n,{max:l=2}=n,{lower:s=-1}=n,{upper:u=1}=n,{step:a=.01}=n;function f(d){s=d,i(0,s)}function p(d){u=d,i(1,u)}function c(d){yn.call(this,e,d)}function h(d){yn.call(this,e,d)}return e.$$set=d=>{i(7,n=Ae(Ae({},n),xe(d))),"id"in d&&i(2,r=d.id),"label"in d&&i(3,t=d.label),"min"in d&&i(4,o=d.min),"max"in d&&i(5,l=d.max),"lower"in d&&i(0,s=d.lower),"upper"in d&&i(1,u=d.upper),"step"in d&&i(6,a=d.step)},n=xe(n),[s,u,r,t,o,l,a,n,f,p,c,h]}class yi extends we{constructor(n){super(),Se(this,n,xs,As,ke,{id:2,label:3,min:4,max:5,lower:0,upper:1,step:6})}}function Es(e){let n,i,r,t,o,l,s,u,a,f,p,c,h,d,g,_,w,b,C,B,m;function v(F){e[12](F)}function S(F){e[13](F)}let k={class:"w-full",label:null,step:e[4],min:e[0],max:e[1]};e[6]!==void 0&&(k.lower=e[6]),e[7]!==void 0&&(k.upper=e[7]),f=new yi({props:k}),Z.push(()=>oe(f,"lower",v)),Z.push(()=>oe(f,"upper",S)),f.$on("change",e[10]);function M(F){e[14](F)}function W(F){e[15](F)}let N={class:"w-full",label:null,step:e[4],min:e[2],max:e[3]};return e[8]!==void 0&&(N.lower=e[8]),e[9]!==void 0&&(N.upper=e[9]),b=new yi({props:N}),Z.push(()=>oe(b,"lower",M)),Z.push(()=>oe(b,"upper",W)),b.$on("change",e[10]),{c(){n=L("div"),i=L("label"),r=j("Zoom Box"),t=V(),o=L("div"),l=L("div"),s=L("div"),u=j("x:"),a=V(),fe(f.$$.fragment),h=V(),d=L("div"),g=L("div"),_=j("y:"),w=V(),fe(b.$$.fragment),this.h()},l(F){n=O(F,"DIV",{class:!0});var T=D(n);i=O(T,"LABEL",{for:!0,class:!0});var P=D(i);r=Y(P,"Zoom Box"),P.forEach(E),T.forEach(E),t=U(F),o=O(F,"DIV",{id:!0,class:!0});var z=D(o);l=O(z,"DIV",{class:!0});var G=D(l);s=O(G,"DIV",{class:!0});var X=D(s);u=Y(X,"x:"),X.forEach(E),a=U(G),ce(f.$$.fragment,G),G.forEach(E),h=U(z),d=O(z,"DIV",{class:!0});var ae=D(d);g=O(ae,"DIV",{class:!0});var nn=D(g);_=Y(nn,"y:"),nn.forEach(E),w=U(ae),ce(b.$$.fragment,ae),ae.forEach(E),z.forEach(E),this.h()},h(){x(i,"for",e[5]),x(i,"class","text-gray-700 text-sm font-bold"),x(n,"class","col-span-12 justify-self-start select-none point-event-none"),x(s,"class","inline-flex align-middle pl-4"),x(l,"class","inline-flex w-full place-items-center justify-center place-content-center align-middle gap-2"),x(g,"class","inline-flex align-middle pl-4"),x(d,"class","inline-flex w-full place-items-center justify-center place-content-center align-middle gap-2"),x(o,"id",e[5]),x(o,"class","select-none point-event-none")},m(F,T){q(F,n,T),y(n,i),y(i,r),q(F,t,T),q(F,o,T),y(o,l),y(l,s),y(s,u),y(l,a),de(f,l,null),y(o,h),y(o,d),y(d,g),y(g,_),y(d,w),de(b,d,null),m=!0},p(F,[T]){(!m||T&32)&&x(i,"for",F[5]);const P={};T&16&&(P.step=F[4]),T&1&&(P.min=F[0]),T&2&&(P.max=F[1]),!p&&T&64&&(p=!0,P.lower=F[6],se(()=>p=!1)),!c&&T&128&&(c=!0,P.upper=F[7],se(()=>c=!1)),f.$set(P);const z={};T&16&&(z.step=F[4]),T&4&&(z.min=F[2]),T&8&&(z.max=F[3]),!C&&T&256&&(C=!0,z.lower=F[8],se(()=>C=!1)),!B&&T&512&&(B=!0,z.upper=F[9],se(()=>B=!1)),b.$set(z),(!m||T&32)&&x(o,"id",F[5])},i(F){m||(he(f.$$.fragment,F),he(b.$$.fragment,F),m=!0)},o(F){pe(f.$$.fragment,F),pe(b.$$.fragment,F),m=!1},d(F){F&&E(n),F&&E(t),F&&E(o),ge(f),ge(b)}}}function ws(e,n,i){let r,t,o;en(e,R,v=>i(17,o=v));const l=Ye();let{x:[s,u],y:[a,f]}=es;Tn(()=>{var v;(v=o.zoom)!=null&&v.bbox&&(i(6,s=o.zoom.bbox.x[0]),i(7,u=o.zoom.bbox.x[1]),i(8,a=o.zoom.bbox.y[0]),i(9,f=o.zoom.bbox.y[1]))});let{minX:p=-2}=n,{maxX:c=2}=n,{minY:h=-2}=n,{maxY:d=2}=n,{step:g=.01}=n;const _=()=>{R.zoom=t,l("change",{bbox:r})};let{id:w="zoom-box-sliders"}=n;function b(v){s=v,i(6,s)}function C(v){u=v,i(7,u)}function B(v){a=v,i(8,a)}function m(v){f=v,i(9,f)}return e.$$set=v=>{"minX"in v&&i(0,p=v.minX),"maxX"in v&&i(1,c=v.maxX),"minY"in v&&i(2,h=v.minY),"maxY"in v&&i(3,d=v.maxY),"step"in v&&i(4,g=v.step),"id"in v&&i(5,w=v.id)},e.$$.update=()=>{e.$$.dirty&960&&i(11,r={x:[s,u],y:[a,f]}),e.$$.dirty&2048&&(t={bbox:r})},[p,c,h,d,g,w,s,u,a,f,_,r,b,C,B,m]}class Ss extends we{constructor(n){super(),Se(this,n,ws,Es,ke,{minX:0,maxX:1,minY:2,maxY:3,step:4,id:5})}}function ks(e){let n,i,r,t,o,l,s,u,a,f,p,c,h,d,g,_,w,b;function C(m){e[8](m)}let B={id:e[0],integer:!0,min:on,max:e[4],"input$aria-label":e[1],class:"grow col-span-8 w-full pointer-events-auto",minMaxLabels:!1,tooltipNever:!0};return e[2]!==void 0&&(B.lower=e[2]),c=new Rr({props:B}),e[7](c),Z.push(()=>oe(c,"lower",C)),c.$on("click",e[9]),{c(){n=L("div"),i=L("div"),r=L("div"),t=L("label"),o=j(e[1]),l=j(": "),s=j(e[2]),u=V(),a=L("div"),f=j(on),p=V(),fe(c.$$.fragment),d=V(),g=L("div"),_=j(e[4]),this.h()},l(m){n=O(m,"DIV",{class:!0});var v=D(n);i=O(v,"DIV",{class:!0});var S=D(i);r=O(S,"DIV",{class:!0});var k=D(r);t=O(k,"LABEL",{for:!0,class:!0});var M=D(t);o=Y(M,e[1]),l=Y(M,": "),s=Y(M,e[2]),M.forEach(E),k.forEach(E),u=U(S),a=O(S,"DIV",{class:!0});var W=D(a);f=Y(W,on),W.forEach(E),p=U(S),ce(c.$$.fragment,S),d=U(S),g=O(S,"DIV",{class:!0});var N=D(g);_=Y(N,e[4]),N.forEach(E),S.forEach(E),v.forEach(E),this.h()},h(){x(t,"for",e[0]),x(t,"class","text-gray-700 text-sm font-bold select-none pointer-events-none"),x(r,"class","col-span-12 justify-self-start select-none pointer-events-none"),te(r,"hidden",e[1]===null),x(a,"class","col-span-2 font-bold text-sm px-2 pointer-events-none select-none"),x(g,"class","col-span-2 font-bold text-sm px-2 pointer-events-none select-none"),x(i,"class","grid grid-cols-12 justify-center place-items-center gap-2 select-none"),x(n,"class",w=e[5].class+" select-none pointer-events-none")},m(m,v){q(m,n,v),y(n,i),y(i,r),y(r,t),y(t,o),y(t,l),y(t,s),y(i,u),y(i,a),y(a,f),y(i,p),de(c,i,null),y(i,d),y(i,g),y(g,_),b=!0},p(m,[v]){(!b||v&2)&&ie(o,m[1]),(!b||v&4)&&ie(s,m[2]),(!b||v&1)&&x(t,"for",m[0]),(!b||v&2)&&te(r,"hidden",m[1]===null);const S={};v&1&&(S.id=m[0]),v&16&&(S.max=m[4]),v&2&&(S["input$aria-label"]=m[1]),!h&&v&4&&(h=!0,S.lower=m[2],se(()=>h=!1)),c.$set(S),(!b||v&16)&&ie(_,m[4]),(!b||v&32&&w!==(w=m[5].class+" select-none pointer-events-none"))&&x(n,"class",w)},i(m){b||(he(c.$$.fragment,m),b=!0)},o(m){pe(c.$$.fragment,m),b=!1},d(m){m&&E(n),e[7](null),ge(c)}}}let on=10;function Fs(e,n,i){let r,t;en(e,R,h=>i(6,t=h));const o=Ye();let l=t.maxPoints||100,s,{id:u="point-slider"}=n,{label:a="Number of Points"}=n;function f(h){Z[h?"unshift":"push"](()=>{s=h,i(3,s)})}function p(h){l=h,i(2,l)}function c(h){yn.call(this,e,h)}return e.$$set=h=>{i(5,n=Ae(Ae({},n),xe(h))),"id"in h&&i(0,u=h.id),"label"in h&&i(1,a=h.label)},e.$$.update=()=>{e.$$.dirty&64&&i(4,r=t.totalPoints||500),e.$$.dirty&28&&l&&(R.maxPoints=l,o("change",{maxPoints:l}),s&&s.manuallySetBounds(on,r,l))},n=xe(n),[u,a,l,s,r,n,t,f,p,c]}class Cs extends we{constructor(n){super(),Se(this,n,Fs,ks,ke,{id:0,label:1})}}function Ai(e,n,i){const r=e.slice();return r[22]=n[i],r}function xi(e,n,i){const r=e.slice();return r[25]=n[i],r}function Ei(e){let n=[],i=new Map,r,t=Object.keys(e[4]);const o=l=>l[25];for(let l=0;l<t.length;l+=1){let s=xi(e,t,l),u=o(s);i.set(u,n[l]=wi(u,s))}return{c(){for(let l=0;l<n.length;l+=1)n[l].c();r=Yn()},l(l){for(let s=0;s<n.length;s+=1)n[s].l(l);r=Yn()},m(l,s){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(l,s);q(l,r,s)},p(l,s){s&24592&&(t=Object.keys(l[4]),n=ht(n,s,o,1,l,t,i,r.parentNode,gt,wi,r,xi))},d(l){for(let s=0;s<n.length;s+=1)n[s].d(l);l&&E(r)}}}function wi(e,n){let i,r=n[13](n[25])+"",t,o,l,s;return{key:e,first:null,c(){i=L("option"),t=j(r),o=V(),this.h()},l(u){i=O(u,"OPTION",{});var a=D(i);t=Y(a,r),o=U(a),a.forEach(E),this.h()},h(){i.__value=l=n[25],i.value=i.__value,i.selected=s=n[14](n[25]),this.first=i},m(u,a){q(u,i,a),y(i,t),y(i,o)},p(u,a){n=u,a&16&&r!==(r=n[13](n[25])+"")&&ie(t,r),a&16&&l!==(l=n[25])&&(i.__value=l,i.value=i.__value),a&16&&s!==(s=n[14](n[25]))&&(i.selected=s)},d(u){u&&E(i)}}}function Si(e){let n,i,r,t=e[8]&!e[5]&&ki(e),o=e[9]&!e[6]&&Fi(e);return{c(){n=L("label"),i=L("div"),t&&t.c(),r=V(),o&&o.c(),this.h()},l(l){n=O(l,"LABEL",{for:!0,class:!0});var s=D(n);i=O(s,"DIV",{class:!0});var u=D(i);t&&t.l(u),r=U(u),o&&o.l(u),u.forEach(E),s.forEach(E),this.h()},h(){x(i,"class","flex"),x(n,"for",e[2]),x(n,"class","label")},m(l,s){q(l,n,s),y(n,i),t&&t.m(i,null),y(i,r),o&&o.m(i,null)},p(l,s){l[8]&!l[5]?t?t.p(l,s):(t=ki(l),t.c(),t.m(i,r)):t&&(t.d(1),t=null),l[9]&!l[6]?o?o.p(l,s):(o=Fi(l),o.c(),o.m(i,null)):o&&(o.d(1),o=null),s&4&&x(n,"for",l[2])},d(l){l&&E(n),t&&t.d(),o&&o.d()}}}function ki(e){var l;let n,i,r=((l=e[7])==null?void 0:l.map(Ii).join(", "))+"",t,o;return{c(){n=L("span"),i=j("Domain: ["),t=j(r),o=j("]"),this.h()},l(s){n=O(s,"SPAN",{class:!0});var u=D(n);i=Y(u,"Domain: ["),t=Y(u,r),o=Y(u,"]"),u.forEach(E),this.h()},h(){x(n,"class","text-slate-600 font-base px-4 label-text-alt")},m(s,u){q(s,n,u),y(n,i),y(n,t),y(n,o)},p(s,u){var a;u&128&&r!==(r=((a=s[7])==null?void 0:a.map(Ii).join(", "))+"")&&ie(t,r)},d(s){s&&E(n)}}}function Fi(e){let n,i,r=e[15]()+"",t,o;return{c(){n=L("span"),i=j("Range: ["),t=j(r),o=j("]"),this.h()},l(l){n=O(l,"SPAN",{class:!0});var s=D(n);i=Y(s,"Range: ["),t=Y(s,r),o=Y(s,"]"),s.forEach(E),this.h()},h(){x(n,"class","text-slate-600 font-base px-4 label-text-alt")},m(l,s){q(l,n,s),y(n,i),y(n,t),y(n,o)},p:Te,d(l){l&&E(n)}}}function Ci(e){let n,i=e[22]+"",r,t,o,l;function s(){return e[19](e[22])}return{c(){n=L("button"),r=j(i),t=V(),this.h()},l(u){n=O(u,"BUTTON",{class:!0});var a=D(n);r=Y(a,i),t=U(a),a.forEach(E),this.h()},h(){x(n,"class","mr-2 badge join-item badge-lg"),te(n,"badge-accent",e[22]===e[1])},m(u,a){q(u,n,a),y(n,r),y(n,t),o||(l=J(n,"click",s),o=!0)},p(u,a){e=u,a&1026&&te(n,"badge-accent",e[22]===e[1])},d(u){u&&E(n),o=!1,l()}}}function Is(e){let n,i,r,t,o,l,s,u,a,f,p,c,h,d,g,_,w,b,C=e[4]&&Ei(e),B=(e[9]||e[8])&&Si(e),m=e[10],v=[];for(let S=0;S<m.length;S+=1)v[S]=Ci(Ai(e,m,S));return{c(){n=L("div"),i=L("div"),r=L("div"),t=L("label"),o=L("span"),l=j(e[3]),s=V(),u=L("select"),C&&C.c(),a=V(),B&&B.c(),f=V(),p=L("div"),c=L("label"),h=j("Transform"),d=V(),g=L("div");for(let S=0;S<v.length;S+=1)v[S].c();this.h()},l(S){n=O(S,"DIV",{class:!0});var k=D(n);i=O(k,"DIV",{class:!0});var M=D(i);r=O(M,"DIV",{class:!0});var W=D(r);t=O(W,"LABEL",{for:!0,class:!0});var N=D(t);o=O(N,"SPAN",{class:!0});var F=D(o);l=Y(F,e[3]),F.forEach(E),N.forEach(E),s=U(W),u=O(W,"SELECT",{class:!0});var T=D(u);C&&C.l(T),T.forEach(E),a=U(W),B&&B.l(W),W.forEach(E),f=U(M),p=O(M,"DIV",{class:!0});var P=D(p);c=O(P,"LABEL",{for:!0,class:!0});var z=D(c);h=Y(z,"Transform"),z.forEach(E),d=U(P),g=O(P,"DIV",{id:!0});var G=D(g);for(let X=0;X<v.length;X+=1)v[X].l(G);G.forEach(E),P.forEach(E),M.forEach(E),k.forEach(E),this.h()},h(){x(o,"class","label-text"),x(t,"for",e[2]),x(t,"class","label text-slate-700 text-sm font-bold"),x(u,"class","select select-bordered min-w-full"),e[0]===void 0&&Cn(()=>e[18].call(u)),x(r,"class","form-control w-full"),x(c,"for","transform-chips"),x(c,"class","text-slate-700 font-base"),x(g,"id","transform-chips flex gap-2"),x(p,"class","form-control w-full"),x(i,"class","grid grid-cols-1 justify-center place-items-center gap-2"),x(n,"class",_="w-full "+e[16].class)},m(S,k){q(S,n,k),y(n,i),y(i,r),y(r,t),y(t,o),y(o,l),y(r,s),y(r,u),C&&C.m(u,null),jn(u,e[0],!0),y(r,a),B&&B.m(r,null),y(i,f),y(i,p),y(p,c),y(c,h),y(p,d),y(p,g);for(let M=0;M<v.length;M+=1)v[M]&&v[M].m(g,null);w||(b=[J(u,"change",e[18]),J(u,"change",e[12])],w=!0)},p(S,[k]){if(k&8&&ie(l,S[3]),k&4&&x(t,"for",S[2]),S[4]?C?C.p(S,k):(C=Ei(S),C.c(),C.m(u,null)):C&&(C.d(1),C=null),k&17&&jn(u,S[0]),S[9]||S[8]?B?B.p(S,k):(B=Si(S),B.c(),B.m(r,null)):B&&(B.d(1),B=null),k&3074){m=S[10];let M;for(M=0;M<m.length;M+=1){const W=Ai(S,m,M);v[M]?v[M].p(W,k):(v[M]=Ci(W),v[M].c(),v[M].m(g,null))}for(;M<v.length;M+=1)v[M].d(1);v.length=m.length}k&65536&&_!==(_="w-full "+S[16].class)&&x(n,"class",_)},i:Te,o:Te,d(S){S&&E(n),C&&C.d(),B&&B.d(),dt(v,S),w=!1,In(b)}}}const Ii=e=>e.toFixed(2);function Ts(e,n,i){let r,t;const o=Ye();let{id:l="channel"}=n,{field:s=void 0}=n,{label:u="Channel"}=n,{columns:a=void 0}=n,{transform:f="literal"}=n,{hideDomain:p=!1}=n,{hideRange:c=!1}=n,h=["literal","linear","log","sqrt"],{range:d=void 0}=n,{domain:g=void 0}=n;const _=k=>{i(1,f=k),o("chips",{chip:k}),b()},w=k=>{o("select",{field:s}),b()},b=()=>{o("change",{field:s,transform:f,range:d,domain:g})},C=k=>{if(!a)return k;let M=a[k];return M&&M!=null&&M.human?M==null?void 0:M.human:k},B=k=>{if(!a)return!1;let M=a[k];return M?M.field==s:!1},m=()=>Array.isArray(d)?d==null?void 0:d.map(k=>k.toFixed(2)).join(", "):d;function v(){s=pt(this),i(0,s),i(4,a)}const S=k=>{_(k)};return e.$$set=k=>{i(16,n=Ae(Ae({},n),xe(k))),"id"in k&&i(2,l=k.id),"field"in k&&i(0,s=k.field),"label"in k&&i(3,u=k.label),"columns"in k&&i(4,a=k.columns),"transform"in k&&i(1,f=k.transform),"hideDomain"in k&&i(5,p=k.hideDomain),"hideRange"in k&&i(6,c=k.hideRange),"range"in k&&i(17,d=k.range),"domain"in k&&i(7,g=k.domain)},e.$$.update=()=>{e.$$.dirty&131072&&i(9,r=!(d==null||Array.isArray(d)&&d.every(k=>!k))),e.$$.dirty&128&&i(8,t=!(g==null||Array.isArray(g)&&g.every(k=>!k)))},n=xe(n),[s,f,l,u,a,p,c,g,t,r,h,_,w,C,B,m,n,d,v,S]}class Fn extends we{constructor(n){super(),Se(this,n,Ts,Is,ke,{id:2,field:0,label:3,columns:4,transform:1,hideDomain:5,hideRange:6,range:17,domain:7})}}function Ls(e){let n,i,r,t,o,l,s;function u(c){e[22](c)}let a={id:e[10]("x"),label:e[11]("x"),columns:e[2],transform:e[5],range:e[3],domain:e[4]};e[0]!==void 0&&(a.field=e[0]),i=new Fn({props:a}),Z.push(()=>oe(i,"field",u)),i.$on("change",e[12]);function f(c){e[23](c)}let p={id:e[10]("y"),label:e[11]("y"),columns:e[6],transform:e[9],range:e[7],domain:e[8]};return e[1]!==void 0&&(p.field=e[1]),o=new Fn({props:p}),Z.push(()=>oe(o,"field",f)),o.$on("change",e[13]),{c(){n=L("div"),fe(i.$$.fragment),t=V(),fe(o.$$.fragment),this.h()},l(c){n=O(c,"DIV",{class:!0});var h=D(n);ce(i.$$.fragment,h),t=U(h),ce(o.$$.fragment,h),h.forEach(E),this.h()},h(){x(n,"class","grid md:grid-cols-2 gap-2 md:gap-4")},m(c,h){q(c,n,h),de(i,n,null),y(n,t),de(o,n,null),s=!0},p(c,[h]){const d={};h&4&&(d.columns=c[2]),h&32&&(d.transform=c[5]),h&8&&(d.range=c[3]),h&16&&(d.domain=c[4]),!r&&h&1&&(r=!0,d.field=c[0],se(()=>r=!1)),i.$set(d);const g={};h&64&&(g.columns=c[6]),h&512&&(g.transform=c[9]),h&128&&(g.range=c[7]),h&256&&(g.domain=c[8]),!l&&h&2&&(l=!0,g.field=c[1],se(()=>l=!1)),o.$set(g)},i(c){s||(he(i.$$.fragment,c),he(o.$$.fragment,c),s=!0)},o(c){pe(i.$$.fragment,c),pe(o.$$.fragment,c),s=!1},d(c){c&&E(n),ge(i),ge(o)}}}function Os(e,n,i){let r;en(e,R,P=>i(21,r=P));const t=Ye(),o=P=>`${P}-axis-select`,l=P=>`${P.toLocaleUpperCase()}-Axis`;let s,u,a,f,p,c,h,d,g=c!=null&&c.field?c==null?void 0:c.field:void 0,_=d!=null&&d.range?d==null?void 0:d.range:void 0,w=d!=null&&d.domain?d==null?void 0:d.domain:void 0,b=d!=null&&d.transform?d==null?void 0:d.transform:"literal",C,B,m,v=C!=null&&C.field?C==null?void 0:C.field:void 0,S=m!=null&&m.range?m==null?void 0:m.range:void 0,k=m!=null&&m.domain?m==null?void 0:m.domain:void 0,M=m!=null&&m.transform?m==null?void 0:m.transform:"literal";const W=({detail:{field:P,transform:z,range:G,domain:X}})=>{i(14,s=P),i(5,b=z),i(3,_=G),i(4,w=X);let ae={...d,field:P,transform:z,range:G,domain:X};R.setEncoding("x",ae),t("change",{channel:ae,which:"x"})},N=({detail:{field:P,transform:z,range:G,domain:X}})=>{i(15,u=P),i(9,M=z),i(7,S=G),i(8,k=X);let ae={...m,field:P,transform:z,range:G,domain:X};R.setEncoding("y",ae),t("change",{channel:ae,which:"y"})};function F(P){g=P,i(0,g),i(21,r),i(16,a),i(1,v),i(17,f),i(18,p),i(19,d),i(20,m),i(14,s),i(15,u)}function T(P){v=P,i(1,v),i(21,r),i(16,a),i(0,g),i(17,f),i(18,p),i(19,d),i(20,m),i(15,u),i(14,s)}return e.$$.update=()=>{e.$$.dirty&4128771&&(i(14,s=R.xField),i(15,u=R.yField),i(16,a=r.embedding?r.embedding:[]),i(17,f=[...a].filter(P=>P!==v)),i(18,p=[...a].filter(P=>P!==g)),i(2,h=R.getColumnsMetadata(f)),i(6,B=R.getColumnsMetadata(p)),g!==R.xField?(R.xField=g,c=R.getColumnAsEncoding(g),i(19,d=R.x)):R.xField!==g&&i(0,g=R.xField),v!==R.yField?(R.yField=v,C=R.getColumnAsEncoding(v),i(20,m=R.y)):R.yField!==v&&i(1,v=R.yField),i(3,_=d!=null&&d.range?d==null?void 0:d.range:void 0),i(4,w=d!=null&&d.domain?d==null?void 0:d.domain:void 0),i(7,S=m!=null&&m.range?m==null?void 0:m.range:void 0),i(8,k=m!=null&&m.domain?m==null?void 0:m.domain:void 0)),e.$$.dirty&0&&i(14,s=R.xField),e.$$.dirty&0&&i(15,u=R.yField),e.$$.dirty&16385&&s&&!g&&i(0,g=s),e.$$.dirty&32770&&u&&!v&&i(1,v=u)},[g,v,h,_,w,b,B,S,k,M,o,l,W,N,s,u,a,f,p,d,m,r,F,T]}class Ds extends we{constructor(n){super(),Se(this,n,Os,Ls,ke,{})}}function Ms(e){let n,i,r,t,o,l,s;function u(h){e[12](h)}function a(h){e[13](h)}function f(h){e[14](h)}function p(h){e[15](h)}let c={class:"w-full col-span-2",id:e[5]("c"),label:e[6]("c"),columns:e[1]};return e[0]!==void 0&&(c.field=e[0]),e[4]!==void 0&&(c.transform=e[4]),e[2]!==void 0&&(c.range=e[2]),e[3]!==void 0&&(c.domain=e[3]),i=new Fn({props:c}),Z.push(()=>oe(i,"field",u)),Z.push(()=>oe(i,"transform",a)),Z.push(()=>oe(i,"range",f)),Z.push(()=>oe(i,"domain",p)),i.$on("change",e[7]),{c(){n=L("div"),fe(i.$$.fragment),this.h()},l(h){n=O(h,"DIV",{class:!0});var d=D(n);ce(i.$$.fragment,d),d.forEach(E),this.h()},h(){x(n,"class","grid md:grid-cols-2 gap-2 md:gap-4")},m(h,d){q(h,n,d),de(i,n,null),s=!0},p(h,[d]){const g={};d&2&&(g.columns=h[1]),!r&&d&1&&(r=!0,g.field=h[0],se(()=>r=!1)),!t&&d&16&&(t=!0,g.transform=h[4],se(()=>t=!1)),!o&&d&4&&(o=!0,g.range=h[2],se(()=>o=!1)),!l&&d&8&&(l=!0,g.domain=h[3],se(()=>l=!1)),i.$set(g)},i(h){s||(he(i.$$.fragment,h),s=!0)},o(h){pe(i.$$.fragment,h),s=!1},d(h){h&&E(n),ge(i)}}}function Rs(e,n,i){let r;en(e,R,m=>i(11,r=m));const t=Ye(),o=m=>`${m}-axis-select`,l=m=>`${m.toLocaleUpperCase()}-Axis`;let s,u,a,f,p=u!=null&&u.field?u==null?void 0:u.field:void 0,c=f!=null&&f.range?f==null?void 0:f.range:"viridis",h=f!=null&&f.domain?f==null?void 0:f.domain:void 0,d=f!=null&&f.transform?f==null?void 0:f.transform:"literal",g=r.sidecars?r.sidecars:[];const _=({detail:{field:m,transform:v}})=>{i(8,s=m),i(0,p=m),i(4,d=v),i(2,c="viridis"),R.cField=m,i(9,f=R.getColumnAsEncoding(s));let S={...f,field:m,transform:v,range:"viridis"};R.setEncoding("color",S),t("change",{cChannel:S})};function w(m){p=m,i(0,p),i(8,s),i(11,r),i(9,f)}function b(m){d=m,i(4,d)}function C(m){c=m,i(2,c),i(11,r),i(8,s),i(9,f)}function B(m){h=m,i(3,h),i(11,r),i(8,s),i(9,f)}return e.$$.update=()=>{e.$$.dirty&2816&&r&&(i(8,s=R.cField),i(9,f=R.getColumnAsEncoding(s)),i(9,f=R.color),i(2,c=f!=null&&f.range?f==null?void 0:f.range:"viridis"),i(3,h=f!=null&&f.domain?f==null?void 0:f.domain:void 0)),e.$$.dirty&257&&s&&!p&&i(0,p=s),e.$$.dirty&3072&&(i(10,g=r.sidecars?r.sidecars:[]),i(1,a=R.getColumnsMetadata(g)))},[p,a,c,h,d,o,l,_,s,f,g,r,w,b,C,B]}class Ns extends we{constructor(n){super(),Se(this,n,Rs,Ms,ke,{})}}function Ps(e){let n,i,r,t,o=`${e[3]}px`,l=`${e[2]}px`,s,u,a,f;return{c(){n=L("div"),i=L("div"),r=L("div"),this.h()},l(p){n=O(p,"DIV",{class:!0});var c=D(n);i=O(c,"DIV",{class:!0});var h=D(i);r=O(h,"DIV",{id:!0,class:!0}),D(r).forEach(E),h.forEach(E),c.forEach(E),this.h()},h(){x(r,"id",e[4]),x(r,"class","w-full"),x(i,"class",t=e[6].class),ln(i,"width",o),ln(i,"height",l),x(n,"class",s="flex justify-content-center "+e[6].class),Cn(()=>e[8].call(n))},m(p,c){q(p,n,c),y(n,i),y(i,r),u=Li(n,e[8].bind(n)),a||(f=J(window,"resize",e[5]),a=!0)},p(p,[c]){c&64&&t!==(t=p[6].class)&&x(i,"class",t),c&8&&o!==(o=`${p[3]}px`)&&ln(i,"width",o),c&4&&l!==(l=`${p[2]}px`)&&ln(i,"height",l),c&64&&s!==(s="flex justify-content-center "+p[6].class)&&x(n,"class",s)},i:Te,o:Te,d(p){p&&E(n),u(),a=!1,f()}}}function Bs(e,n,i){let r,t,o;en(e,R,p=>i(7,o=p));let l=o.id;o.autofit,o.width,o.height;let s=o.autofitWidth,u=o.autofitHeight;const a=()=>{R.autofitWidth=s,R.autofitHeight=u};Tn(async()=>{R.browser&&(R.Deepscatter||await R.LoadDeepscatter(),R.initializePlot())});function f(){s=this.clientWidth,u=this.clientHeight,i(0,s),i(1,u)}return e.$$set=p=>{i(6,n=Ae(Ae({},n),xe(p)))},e.$$.update=()=>{e.$$.dirty&128&&i(3,r=o.w),e.$$.dirty&128&&i(2,t=o.h)},n=xe(n),[s,u,t,r,l,a,n,o,f]}class zs extends we{constructor(n){super(),Se(this,n,Bs,Ps,ke,{})}}function Hs(e){let n,i,r,t,o,l,s,u,a,f,p,c,h,d,g,_,w;return o=new zs({props:{class:"border-2 border-sky-400"}}),u=new Cs({}),u.$on("change",e[0]),f=new Ds({}),f.$on("change",e[0]),c=new Ns({}),c.$on("change",e[0]),d=new Ss({}),d.$on("change",e[0]),{c(){n=L("div"),i=L("div"),r=V(),t=L("div"),fe(o.$$.fragment),l=V(),s=L("div"),fe(u.$$.fragment),a=V(),fe(f.$$.fragment),p=V(),fe(c.$$.fragment),h=V(),fe(d.$$.fragment),g=V(),_=L("div"),this.h()},l(b){n=O(b,"DIV",{class:!0});var C=D(n);i=O(C,"DIV",{class:!0});var B=D(i);B.forEach(E),r=U(C),t=O(C,"DIV",{class:!0});var m=D(t);ce(o.$$.fragment,m),l=U(m),s=O(m,"DIV",{class:!0});var v=D(s);ce(u.$$.fragment,v),a=U(v),ce(f.$$.fragment,v),p=U(v),ce(c.$$.fragment,v),h=U(v),ce(d.$$.fragment,v),v.forEach(E),m.forEach(E),g=U(C),_=O(C,"DIV",{class:!0});var S=D(_);S.forEach(E),C.forEach(E),this.h()},h(){x(i,"class",""),x(s,"class","bg-slate-100 p-4 max-h-92 overflow-scroll"),x(t,"class","col-span-2"),x(_,"class",""),x(n,"class","grid grid-cols-4 h-screen justify-content-center")},m(b,C){q(b,n,C),y(n,i),y(n,r),y(n,t),de(o,t,null),y(t,l),y(t,s),de(u,s,null),y(s,a),de(f,s,null),y(s,p),de(c,s,null),y(s,h),de(d,s,null),y(n,g),y(n,_),w=!0},p:Te,i(b){w||(he(o.$$.fragment,b),he(u.$$.fragment,b),he(f.$$.fragment,b),he(c.$$.fragment,b),he(d.$$.fragment,b),w=!0)},o(b){pe(o.$$.fragment,b),pe(u.$$.fragment,b),pe(f.$$.fragment,b),pe(c.$$.fragment,b),pe(d.$$.fragment,b),w=!1},d(b){b&&E(n),ge(o),ge(u),ge(f),ge(c),ge(d)}}}function js(e,n,i){let r,{data:t}=n;R.LoadDeepscatter(),R.isDebug,R.isPause,Tn(async()=>{await r,console.log(`${Ti}${r.tiles_dir}`,Vn),R.url=Vn,R.totalPoints=r.n_points,R.embedding=r.embedding,R.sidecars=r.sidecars,R.columns=r.columns_metadata,R.xField=r.embedding[0],R.yField=r.embedding[1],R.cField=r.sidecars[0]});const o=async()=>{console.log("change");try{await R.updatePlot()}catch(l){console.error(l)}};return e.$$set=l=>{"data"in l&&i(1,t=l.data)},e.$$.update=()=>{e.$$.dirty&2&&(r=t==null?void 0:t.meta)},[o,t]}class Ks extends we{constructor(n){super(),Se(this,n,js,Hs,ke,{data:1})}}export{Ks as component,Gs as universal};
