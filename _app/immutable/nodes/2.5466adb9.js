var et=Object.defineProperty;var nt=(e,n,i)=>n in e?et(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i;var ee=(e,n,i)=>(nt(e,typeof n!="symbol"?n+"":n,i),i);import{b as it}from"../chunks/paths.2edc9ac2.js";import{J as j,K as rt,t as tt,S as we,i as Ee,s as Se,k as I,a as V,l as O,m as D,c as U,h as w,n as x,L as te,M as Cn,b as q,D as y,N as Ti,O as J,P as hn,H as Te,Q as Tn,R as He,T as ye,U as Ae,q as H,r as Y,u as ie,w as Z,V as oe,y as fe,z as ce,A as de,W as se,g as he,d as pe,B as me,X as yn,I as en,o as Ln,Y as Hn,Z as lt,e as Yn,_ as ot,$ as st,a0 as ut,p as ln}from"../chunks/index.e94a24a8.js";import{_ as at}from"../chunks/preload-helper.41c905a7.js";import{w as ft}from"../chunks/index.bc56c922.js";const ct=!0,Ye=`${it}/datasets`,dt=`${Ye}/demo`,ht=`${dt}/meta.yml`,pt=`${Ye}/mini`,mt=`${pt}/meta.yml`,gt=`${Ye}/named`,bt=`${gt}/meta.yml`,_t=`${Ye}/cell`,vt=`${_t}/meta.yml`,yt=`${Ye}/SEO`,At=`${yt}/meta.yml`,xt=`${Ye}/featherplot`,wt=`${xt}/meta.yml`,We="featherplot",Et=String(We)==="demo"?ht:String(We)==="mini"?mt:String(We)==="named"?bt:String(We)==="cell"?vt:String(We)==="featherplot"?wt:At;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Li(e){return typeof e>"u"||e===null}function St(e){return typeof e=="object"&&e!==null}function kt(e){return Array.isArray(e)?e:Li(e)?[]:[e]}function Ft(e,n){var i,r,t,o;if(n)for(o=Object.keys(n),i=0,r=o.length;i<r;i+=1)t=o[i],e[t]=n[t];return e}function Ct(e,n){var i="",r;for(r=0;r<n;r+=1)i+=e;return i}function Tt(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Lt=Li,It=St,Ot=kt,Dt=Ct,Mt=Tt,Nt=Ft,Q={isNothing:Lt,isObject:It,toArray:Ot,repeat:Dt,isNegativeZero:Mt,extend:Nt};function Ii(e,n){var i="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(i+='in "'+e.mark.name+'" '),i+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!n&&e.mark.snippet&&(i+=`

`+e.mark.snippet),r+" "+i):r}function Xe(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=Ii(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Xe.prototype=Object.create(Error.prototype);Xe.prototype.constructor=Xe;Xe.prototype.toString=function(n){return this.name+": "+Ii(this,n)};var re=Xe;function bn(e,n,i,r,t){var o="",l="",s=Math.floor(t/2)-1;return r-n>s&&(o=" ... ",n=r-s+o.length),i-r>s&&(l=" ...",i=r+s-l.length),{str:o+e.slice(n,i).replace(/\t/g,"â†’")+l,pos:r-n+o.length}}function _n(e,n){return Q.repeat(" ",n-e.length)+e}function Rt(e,n){if(n=Object.create(n||null),!e.buffer)return null;n.maxLength||(n.maxLength=79),typeof n.indent!="number"&&(n.indent=1),typeof n.linesBefore!="number"&&(n.linesBefore=3),typeof n.linesAfter!="number"&&(n.linesAfter=2);for(var i=/\r?\n|\r|\0/g,r=[0],t=[],o,l=-1;o=i.exec(e.buffer);)t.push(o.index),r.push(o.index+o[0].length),e.position<=o.index&&l<0&&(l=r.length-2);l<0&&(l=r.length-1);var s="",u,a,f=Math.min(e.line+n.linesAfter,t.length).toString().length,p=n.maxLength-(n.indent+f+3);for(u=1;u<=n.linesBefore&&!(l-u<0);u++)a=bn(e.buffer,r[l-u],t[l-u],e.position-(r[l]-r[l-u]),p),s=Q.repeat(" ",n.indent)+_n((e.line-u+1).toString(),f)+" | "+a.str+`
`+s;for(a=bn(e.buffer,r[l],t[l],e.position,p),s+=Q.repeat(" ",n.indent)+_n((e.line+1).toString(),f)+" | "+a.str+`
`,s+=Q.repeat("-",n.indent+f+3+a.pos)+`^
`,u=1;u<=n.linesAfter&&!(l+u>=t.length);u++)a=bn(e.buffer,r[l+u],t[l+u],e.position-(r[l]-r[l+u]),p),s+=Q.repeat(" ",n.indent)+_n((e.line+u+1).toString(),f)+" | "+a.str+`
`;return s.replace(/\n$/,"")}var Pt=Rt,Bt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],zt=["scalar","sequence","mapping"];function jt(e){var n={};return e!==null&&Object.keys(e).forEach(function(i){e[i].forEach(function(r){n[String(r)]=i})}),n}function Ht(e,n){if(n=n||{},Object.keys(n).forEach(function(i){if(Bt.indexOf(i)===-1)throw new re('Unknown option "'+i+'" is met in definition of "'+e+'" YAML type.')}),this.options=n,this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(i){return i},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=jt(n.styleAliases||null),zt.indexOf(this.kind)===-1)throw new re('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var $=Ht;function Vn(e,n){var i=[];return e[n].forEach(function(r){var t=i.length;i.forEach(function(o,l){o.tag===r.tag&&o.kind===r.kind&&o.multi===r.multi&&(t=l)}),i[t]=r}),i}function Yt(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,i;function r(t){t.multi?(e.multi[t.kind].push(t),e.multi.fallback.push(t)):e[t.kind][t.tag]=e.fallback[t.tag]=t}for(n=0,i=arguments.length;n<i;n+=1)arguments[n].forEach(r);return e}function An(e){return this.extend(e)}An.prototype.extend=function(n){var i=[],r=[];if(n instanceof $)r.push(n);else if(Array.isArray(n))r=r.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(i=i.concat(n.implicit)),n.explicit&&(r=r.concat(n.explicit));else throw new re("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(o){if(!(o instanceof $))throw new re("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new re("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new re("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(o){if(!(o instanceof $))throw new re("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var t=Object.create(An.prototype);return t.implicit=(this.implicit||[]).concat(i),t.explicit=(this.explicit||[]).concat(r),t.compiledImplicit=Vn(t,"implicit"),t.compiledExplicit=Vn(t,"explicit"),t.compiledTypeMap=Yt(t.compiledImplicit,t.compiledExplicit),t};var Oi=An,Di=new $("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Mi=new $("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Ni=new $("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Ri=new Oi({explicit:[Di,Mi,Ni]});function Vt(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function Ut(){return null}function Wt(e){return e===null}var Pi=new $("tag:yaml.org,2002:null",{kind:"scalar",resolve:Vt,construct:Ut,predicate:Wt,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function qt(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function Gt(e){return e==="true"||e==="True"||e==="TRUE"}function Kt(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Bi=new $("tag:yaml.org,2002:bool",{kind:"scalar",resolve:qt,construct:Gt,predicate:Kt,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Xt(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Qt(e){return 48<=e&&e<=55}function Zt(e){return 48<=e&&e<=57}function Jt(e){if(e===null)return!1;var n=e.length,i=0,r=!1,t;if(!n)return!1;if(t=e[i],(t==="-"||t==="+")&&(t=e[++i]),t==="0"){if(i+1===n)return!0;if(t=e[++i],t==="b"){for(i++;i<n;i++)if(t=e[i],t!=="_"){if(t!=="0"&&t!=="1")return!1;r=!0}return r&&t!=="_"}if(t==="x"){for(i++;i<n;i++)if(t=e[i],t!=="_"){if(!Xt(e.charCodeAt(i)))return!1;r=!0}return r&&t!=="_"}if(t==="o"){for(i++;i<n;i++)if(t=e[i],t!=="_"){if(!Qt(e.charCodeAt(i)))return!1;r=!0}return r&&t!=="_"}}if(t==="_")return!1;for(;i<n;i++)if(t=e[i],t!=="_"){if(!Zt(e.charCodeAt(i)))return!1;r=!0}return!(!r||t==="_")}function $t(e){var n=e,i=1,r;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),r=n[0],(r==="-"||r==="+")&&(r==="-"&&(i=-1),n=n.slice(1),r=n[0]),n==="0")return 0;if(r==="0"){if(n[1]==="b")return i*parseInt(n.slice(2),2);if(n[1]==="x")return i*parseInt(n.slice(2),16);if(n[1]==="o")return i*parseInt(n.slice(2),8)}return i*parseInt(n,10)}function el(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Q.isNegativeZero(e)}var zi=new $("tag:yaml.org,2002:int",{kind:"scalar",resolve:Jt,construct:$t,predicate:el,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),nl=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function il(e){return!(e===null||!nl.test(e)||e[e.length-1]==="_")}function rl(e){var n,i;return n=e.replace(/_/g,"").toLowerCase(),i=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:i*parseFloat(n,10)}var tl=/^[-+]?[0-9]+e/;function ll(e,n){var i;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Q.isNegativeZero(e))return"-0.0";return i=e.toString(10),tl.test(i)?i.replace("e",".e"):i}function ol(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Q.isNegativeZero(e))}var ji=new $("tag:yaml.org,2002:float",{kind:"scalar",resolve:il,construct:rl,predicate:ol,represent:ll,defaultStyle:"lowercase"}),Hi=Ri.extend({implicit:[Pi,Bi,zi,ji]}),Yi=Hi,Vi=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ui=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function sl(e){return e===null?!1:Vi.exec(e)!==null||Ui.exec(e)!==null}function ul(e){var n,i,r,t,o,l,s,u=0,a=null,f,p,c;if(n=Vi.exec(e),n===null&&(n=Ui.exec(e)),n===null)throw new Error("Date resolve error");if(i=+n[1],r=+n[2]-1,t=+n[3],!n[4])return new Date(Date.UTC(i,r,t));if(o=+n[4],l=+n[5],s=+n[6],n[7]){for(u=n[7].slice(0,3);u.length<3;)u+="0";u=+u}return n[9]&&(f=+n[10],p=+(n[11]||0),a=(f*60+p)*6e4,n[9]==="-"&&(a=-a)),c=new Date(Date.UTC(i,r,t,o,l,s,u)),a&&c.setTime(c.getTime()-a),c}function al(e){return e.toISOString()}var Wi=new $("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:sl,construct:ul,instanceOf:Date,represent:al});function fl(e){return e==="<<"||e===null}var qi=new $("tag:yaml.org,2002:merge",{kind:"scalar",resolve:fl}),In=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function cl(e){if(e===null)return!1;var n,i,r=0,t=e.length,o=In;for(i=0;i<t;i++)if(n=o.indexOf(e.charAt(i)),!(n>64)){if(n<0)return!1;r+=6}return r%8===0}function dl(e){var n,i,r=e.replace(/[\r\n=]/g,""),t=r.length,o=In,l=0,s=[];for(n=0;n<t;n++)n%4===0&&n&&(s.push(l>>16&255),s.push(l>>8&255),s.push(l&255)),l=l<<6|o.indexOf(r.charAt(n));return i=t%4*6,i===0?(s.push(l>>16&255),s.push(l>>8&255),s.push(l&255)):i===18?(s.push(l>>10&255),s.push(l>>2&255)):i===12&&s.push(l>>4&255),new Uint8Array(s)}function hl(e){var n="",i=0,r,t,o=e.length,l=In;for(r=0;r<o;r++)r%3===0&&r&&(n+=l[i>>18&63],n+=l[i>>12&63],n+=l[i>>6&63],n+=l[i&63]),i=(i<<8)+e[r];return t=o%3,t===0?(n+=l[i>>18&63],n+=l[i>>12&63],n+=l[i>>6&63],n+=l[i&63]):t===2?(n+=l[i>>10&63],n+=l[i>>4&63],n+=l[i<<2&63],n+=l[64]):t===1&&(n+=l[i>>2&63],n+=l[i<<4&63],n+=l[64],n+=l[64]),n}function pl(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Gi=new $("tag:yaml.org,2002:binary",{kind:"scalar",resolve:cl,construct:dl,predicate:pl,represent:hl}),ml=Object.prototype.hasOwnProperty,gl=Object.prototype.toString;function bl(e){if(e===null)return!0;var n=[],i,r,t,o,l,s=e;for(i=0,r=s.length;i<r;i+=1){if(t=s[i],l=!1,gl.call(t)!=="[object Object]")return!1;for(o in t)if(ml.call(t,o))if(!l)l=!0;else return!1;if(!l)return!1;if(n.indexOf(o)===-1)n.push(o);else return!1}return!0}function _l(e){return e!==null?e:[]}var Ki=new $("tag:yaml.org,2002:omap",{kind:"sequence",resolve:bl,construct:_l}),vl=Object.prototype.toString;function yl(e){if(e===null)return!0;var n,i,r,t,o,l=e;for(o=new Array(l.length),n=0,i=l.length;n<i;n+=1){if(r=l[n],vl.call(r)!=="[object Object]"||(t=Object.keys(r),t.length!==1))return!1;o[n]=[t[0],r[t[0]]]}return!0}function Al(e){if(e===null)return[];var n,i,r,t,o,l=e;for(o=new Array(l.length),n=0,i=l.length;n<i;n+=1)r=l[n],t=Object.keys(r),o[n]=[t[0],r[t[0]]];return o}var Xi=new $("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:yl,construct:Al}),xl=Object.prototype.hasOwnProperty;function wl(e){if(e===null)return!0;var n,i=e;for(n in i)if(xl.call(i,n)&&i[n]!==null)return!1;return!0}function El(e){return e!==null?e:{}}var Qi=new $("tag:yaml.org,2002:set",{kind:"mapping",resolve:wl,construct:El}),On=Yi.extend({implicit:[Wi,qi],explicit:[Gi,Ki,Xi,Qi]}),Le=Object.prototype.hasOwnProperty,sn=1,Zi=2,Ji=3,un=4,vn=1,Sl=2,Un=3,kl=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Fl=/[\x85\u2028\u2029]/,Cl=/[,\[\]\{\}]/,$i=/^(?:!|!!|![a-z\-]+!)$/i,er=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Wn(e){return Object.prototype.toString.call(e)}function ve(e){return e===10||e===13}function Oe(e){return e===9||e===32}function le(e){return e===9||e===32||e===10||e===13}function Re(e){return e===44||e===91||e===93||e===123||e===125}function Tl(e){var n;return 48<=e&&e<=57?e-48:(n=e|32,97<=n&&n<=102?n-97+10:-1)}function Ll(e){return e===120?2:e===117?4:e===85?8:0}function Il(e){return 48<=e&&e<=57?e-48:-1}function qn(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"Â…":e===95?"Â ":e===76?"\u2028":e===80?"\u2029":""}function Ol(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var nr=new Array(256),ir=new Array(256);for(var Me=0;Me<256;Me++)nr[Me]=qn(Me)?1:0,ir[Me]=qn(Me);function Dl(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||On,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function rr(e,n){var i={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return i.snippet=Pt(i),new re(n,i)}function T(e,n){throw rr(e,n)}function an(e,n){e.onWarning&&e.onWarning.call(null,rr(e,n))}var Gn={YAML:function(n,i,r){var t,o,l;n.version!==null&&T(n,"duplication of %YAML directive"),r.length!==1&&T(n,"YAML directive accepts exactly one argument"),t=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),t===null&&T(n,"ill-formed argument of the YAML directive"),o=parseInt(t[1],10),l=parseInt(t[2],10),o!==1&&T(n,"unacceptable YAML version of the document"),n.version=r[0],n.checkLineBreaks=l<2,l!==1&&l!==2&&an(n,"unsupported YAML version of the document")},TAG:function(n,i,r){var t,o;r.length!==2&&T(n,"TAG directive accepts exactly two arguments"),t=r[0],o=r[1],$i.test(t)||T(n,"ill-formed tag handle (first argument) of the TAG directive"),Le.call(n.tagMap,t)&&T(n,'there is a previously declared suffix for "'+t+'" tag handle'),er.test(o)||T(n,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{T(n,"tag prefix is malformed: "+o)}n.tagMap[t]=o}};function Fe(e,n,i,r){var t,o,l,s;if(n<i){if(s=e.input.slice(n,i),r)for(t=0,o=s.length;t<o;t+=1)l=s.charCodeAt(t),l===9||32<=l&&l<=1114111||T(e,"expected valid JSON character");else kl.test(s)&&T(e,"the stream contains non-printable characters");e.result+=s}}function Kn(e,n,i,r){var t,o,l,s;for(Q.isObject(i)||T(e,"cannot merge mappings; the provided source object is unacceptable"),t=Object.keys(i),l=0,s=t.length;l<s;l+=1)o=t[l],Le.call(n,o)||(n[o]=i[o],r[o]=!0)}function Pe(e,n,i,r,t,o,l,s,u){var a,f;if(Array.isArray(t))for(t=Array.prototype.slice.call(t),a=0,f=t.length;a<f;a+=1)Array.isArray(t[a])&&T(e,"nested arrays are not supported inside keys"),typeof t=="object"&&Wn(t[a])==="[object Object]"&&(t[a]="[object Object]");if(typeof t=="object"&&Wn(t)==="[object Object]"&&(t="[object Object]"),t=String(t),n===null&&(n={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(a=0,f=o.length;a<f;a+=1)Kn(e,n,o[a],i);else Kn(e,n,o,i);else!e.json&&!Le.call(i,t)&&Le.call(n,t)&&(e.line=l||e.line,e.lineStart=s||e.lineStart,e.position=u||e.position,T(e,"duplicated mapping key")),t==="__proto__"?Object.defineProperty(n,t,{configurable:!0,enumerable:!0,writable:!0,value:o}):n[t]=o,delete i[t];return n}function Dn(e){var n;n=e.input.charCodeAt(e.position),n===10?e.position++:n===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):T(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function K(e,n,i){for(var r=0,t=e.input.charCodeAt(e.position);t!==0;){for(;Oe(t);)t===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),t=e.input.charCodeAt(++e.position);if(n&&t===35)do t=e.input.charCodeAt(++e.position);while(t!==10&&t!==13&&t!==0);if(ve(t))for(Dn(e),t=e.input.charCodeAt(e.position),r++,e.lineIndent=0;t===32;)e.lineIndent++,t=e.input.charCodeAt(++e.position);else break}return i!==-1&&r!==0&&e.lineIndent<i&&an(e,"deficient indentation"),r}function pn(e){var n=e.position,i;return i=e.input.charCodeAt(n),!!((i===45||i===46)&&i===e.input.charCodeAt(n+1)&&i===e.input.charCodeAt(n+2)&&(n+=3,i=e.input.charCodeAt(n),i===0||le(i)))}function Mn(e,n){n===1?e.result+=" ":n>1&&(e.result+=Q.repeat(`
`,n-1))}function Ml(e,n,i){var r,t,o,l,s,u,a,f,p=e.kind,c=e.result,h;if(h=e.input.charCodeAt(e.position),le(h)||Re(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(t=e.input.charCodeAt(e.position+1),le(t)||i&&Re(t)))return!1;for(e.kind="scalar",e.result="",o=l=e.position,s=!1;h!==0;){if(h===58){if(t=e.input.charCodeAt(e.position+1),le(t)||i&&Re(t))break}else if(h===35){if(r=e.input.charCodeAt(e.position-1),le(r))break}else{if(e.position===e.lineStart&&pn(e)||i&&Re(h))break;if(ve(h))if(u=e.line,a=e.lineStart,f=e.lineIndent,K(e,!1,-1),e.lineIndent>=n){s=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=u,e.lineStart=a,e.lineIndent=f;break}}s&&(Fe(e,o,l,!1),Mn(e,e.line-u),o=l=e.position,s=!1),Oe(h)||(l=e.position+1),h=e.input.charCodeAt(++e.position)}return Fe(e,o,l,!1),e.result?!0:(e.kind=p,e.result=c,!1)}function Nl(e,n){var i,r,t;if(i=e.input.charCodeAt(e.position),i!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=t=e.position;(i=e.input.charCodeAt(e.position))!==0;)if(i===39)if(Fe(e,r,e.position,!0),i=e.input.charCodeAt(++e.position),i===39)r=e.position,e.position++,t=e.position;else return!0;else ve(i)?(Fe(e,r,t,!0),Mn(e,K(e,!1,n)),r=t=e.position):e.position===e.lineStart&&pn(e)?T(e,"unexpected end of the document within a single quoted scalar"):(e.position++,t=e.position);T(e,"unexpected end of the stream within a single quoted scalar")}function Rl(e,n){var i,r,t,o,l,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Fe(e,i,e.position,!0),e.position++,!0;if(s===92){if(Fe(e,i,e.position,!0),s=e.input.charCodeAt(++e.position),ve(s))K(e,!1,n);else if(s<256&&nr[s])e.result+=ir[s],e.position++;else if((l=Ll(s))>0){for(t=l,o=0;t>0;t--)s=e.input.charCodeAt(++e.position),(l=Tl(s))>=0?o=(o<<4)+l:T(e,"expected hexadecimal character");e.result+=Ol(o),e.position++}else T(e,"unknown escape sequence");i=r=e.position}else ve(s)?(Fe(e,i,r,!0),Mn(e,K(e,!1,n)),i=r=e.position):e.position===e.lineStart&&pn(e)?T(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}T(e,"unexpected end of the stream within a double quoted scalar")}function Pl(e,n){var i=!0,r,t,o,l=e.tag,s,u=e.anchor,a,f,p,c,h,d=Object.create(null),m,_,E,b;if(b=e.input.charCodeAt(e.position),b===91)f=93,h=!1,s=[];else if(b===123)f=125,h=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),b=e.input.charCodeAt(++e.position);b!==0;){if(K(e,!0,n),b=e.input.charCodeAt(e.position),b===f)return e.position++,e.tag=l,e.anchor=u,e.kind=h?"mapping":"sequence",e.result=s,!0;i?b===44&&T(e,"expected the node content, but found ','"):T(e,"missed comma between flow collection entries"),_=m=E=null,p=c=!1,b===63&&(a=e.input.charCodeAt(e.position+1),le(a)&&(p=c=!0,e.position++,K(e,!0,n))),r=e.line,t=e.lineStart,o=e.position,ze(e,n,sn,!1,!0),_=e.tag,m=e.result,K(e,!0,n),b=e.input.charCodeAt(e.position),(c||e.line===r)&&b===58&&(p=!0,b=e.input.charCodeAt(++e.position),K(e,!0,n),ze(e,n,sn,!1,!0),E=e.result),h?Pe(e,s,d,_,m,E,r,t,o):p?s.push(Pe(e,null,d,_,m,E,r,t,o)):s.push(m),K(e,!0,n),b=e.input.charCodeAt(e.position),b===44?(i=!0,b=e.input.charCodeAt(++e.position)):i=!1}T(e,"unexpected end of the stream within a flow collection")}function Bl(e,n){var i,r,t=vn,o=!1,l=!1,s=n,u=0,a=!1,f,p;if(p=e.input.charCodeAt(e.position),p===124)r=!1;else if(p===62)r=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)vn===t?t=p===43?Un:Sl:T(e,"repeat of a chomping mode identifier");else if((f=Il(p))>=0)f===0?T(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?T(e,"repeat of an indentation width identifier"):(s=n+f-1,l=!0);else break;if(Oe(p)){do p=e.input.charCodeAt(++e.position);while(Oe(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!ve(p)&&p!==0)}for(;p!==0;){for(Dn(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!l||e.lineIndent<s)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>s&&(s=e.lineIndent),ve(p)){u++;continue}if(e.lineIndent<s){t===Un?e.result+=Q.repeat(`
`,o?1+u:u):t===vn&&o&&(e.result+=`
`);break}for(r?Oe(p)?(a=!0,e.result+=Q.repeat(`
`,o?1+u:u)):a?(a=!1,e.result+=Q.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=Q.repeat(`
`,u):e.result+=Q.repeat(`
`,o?1+u:u),o=!0,l=!0,u=0,i=e.position;!ve(p)&&p!==0;)p=e.input.charCodeAt(++e.position);Fe(e,i,e.position,!1)}return!0}function Xn(e,n){var i,r=e.tag,t=e.anchor,o=[],l,s=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,T(e,"tab characters must not be used in indentation")),!(u!==45||(l=e.input.charCodeAt(e.position+1),!le(l))));){if(s=!0,e.position++,K(e,!0,-1)&&e.lineIndent<=n){o.push(null),u=e.input.charCodeAt(e.position);continue}if(i=e.line,ze(e,n,Ji,!1,!0),o.push(e.result),K(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===i||e.lineIndent>n)&&u!==0)T(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break}return s?(e.tag=r,e.anchor=t,e.kind="sequence",e.result=o,!0):!1}function zl(e,n,i){var r,t,o,l,s,u,a=e.tag,f=e.anchor,p={},c=Object.create(null),h=null,d=null,m=null,_=!1,E=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),b=e.input.charCodeAt(e.position);b!==0;){if(!_&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,T(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),o=e.line,(b===63||b===58)&&le(r))b===63?(_&&(Pe(e,p,c,h,d,null,l,s,u),h=d=m=null),E=!0,_=!0,t=!0):_?(_=!1,t=!0):T(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=r;else{if(l=e.line,s=e.lineStart,u=e.position,!ze(e,i,Zi,!1,!0))break;if(e.line===o){for(b=e.input.charCodeAt(e.position);Oe(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),le(b)||T(e,"a whitespace character is expected after the key-value separator within a block mapping"),_&&(Pe(e,p,c,h,d,null,l,s,u),h=d=m=null),E=!0,_=!1,t=!1,h=e.tag,d=e.result;else if(E)T(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=a,e.anchor=f,!0}else if(E)T(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=a,e.anchor=f,!0}if((e.line===o||e.lineIndent>n)&&(_&&(l=e.line,s=e.lineStart,u=e.position),ze(e,n,un,!0,t)&&(_?d=e.result:m=e.result),_||(Pe(e,p,c,h,d,m,l,s,u),h=d=m=null),K(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>n)&&b!==0)T(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return _&&Pe(e,p,c,h,d,null,l,s,u),E&&(e.tag=a,e.anchor=f,e.kind="mapping",e.result=p),E}function jl(e){var n,i=!1,r=!1,t,o,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&T(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(i=!0,l=e.input.charCodeAt(++e.position)):l===33?(r=!0,t="!!",l=e.input.charCodeAt(++e.position)):t="!",n=e.position,i){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(o=e.input.slice(n,e.position),l=e.input.charCodeAt(++e.position)):T(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!le(l);)l===33&&(r?T(e,"tag suffix cannot contain exclamation marks"):(t=e.input.slice(n-1,e.position+1),$i.test(t)||T(e,"named tag handle cannot contain such characters"),r=!0,n=e.position+1)),l=e.input.charCodeAt(++e.position);o=e.input.slice(n,e.position),Cl.test(o)&&T(e,"tag suffix cannot contain flow indicator characters")}o&&!er.test(o)&&T(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{T(e,"tag name is malformed: "+o)}return i?e.tag=o:Le.call(e.tagMap,t)?e.tag=e.tagMap[t]+o:t==="!"?e.tag="!"+o:t==="!!"?e.tag="tag:yaml.org,2002:"+o:T(e,'undeclared tag handle "'+t+'"'),!0}function Hl(e){var n,i;if(i=e.input.charCodeAt(e.position),i!==38)return!1;for(e.anchor!==null&&T(e,"duplication of an anchor property"),i=e.input.charCodeAt(++e.position),n=e.position;i!==0&&!le(i)&&!Re(i);)i=e.input.charCodeAt(++e.position);return e.position===n&&T(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function Yl(e){var n,i,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),n=e.position;r!==0&&!le(r)&&!Re(r);)r=e.input.charCodeAt(++e.position);return e.position===n&&T(e,"name of an alias node must contain at least one character"),i=e.input.slice(n,e.position),Le.call(e.anchorMap,i)||T(e,'unidentified alias "'+i+'"'),e.result=e.anchorMap[i],K(e,!0,-1),!0}function ze(e,n,i,r,t){var o,l,s,u=1,a=!1,f=!1,p,c,h,d,m,_;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=l=s=un===i||Ji===i,r&&K(e,!0,-1)&&(a=!0,e.lineIndent>n?u=1:e.lineIndent===n?u=0:e.lineIndent<n&&(u=-1)),u===1)for(;jl(e)||Hl(e);)K(e,!0,-1)?(a=!0,s=o,e.lineIndent>n?u=1:e.lineIndent===n?u=0:e.lineIndent<n&&(u=-1)):s=!1;if(s&&(s=a||t),(u===1||un===i)&&(sn===i||Zi===i?m=n:m=n+1,_=e.position-e.lineStart,u===1?s&&(Xn(e,_)||zl(e,_,m))||Pl(e,m)?f=!0:(l&&Bl(e,m)||Nl(e,m)||Rl(e,m)?f=!0:Yl(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&T(e,"alias node should not have any properties")):Ml(e,m,sn===i)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(f=s&&Xn(e,_))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&T(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,c=e.implicitTypes.length;p<c;p+=1)if(d=e.implicitTypes[p],d.resolve(e.result)){e.result=d.construct(e.result),e.tag=d.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Le.call(e.typeMap[e.kind||"fallback"],e.tag))d=e.typeMap[e.kind||"fallback"][e.tag];else for(d=null,h=e.typeMap.multi[e.kind||"fallback"],p=0,c=h.length;p<c;p+=1)if(e.tag.slice(0,h[p].tag.length)===h[p].tag){d=h[p];break}d||T(e,"unknown tag !<"+e.tag+">"),e.result!==null&&d.kind!==e.kind&&T(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+d.kind+'", not "'+e.kind+'"'),d.resolve(e.result,e.tag)?(e.result=d.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):T(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function Vl(e){var n=e.position,i,r,t,o=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(l=e.input.charCodeAt(e.position))!==0&&(K(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(o=!0,l=e.input.charCodeAt(++e.position),i=e.position;l!==0&&!le(l);)l=e.input.charCodeAt(++e.position);for(r=e.input.slice(i,e.position),t=[],r.length<1&&T(e,"directive name must not be less than one character in length");l!==0;){for(;Oe(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!ve(l));break}if(ve(l))break;for(i=e.position;l!==0&&!le(l);)l=e.input.charCodeAt(++e.position);t.push(e.input.slice(i,e.position))}l!==0&&Dn(e),Le.call(Gn,r)?Gn[r](e,r,t):an(e,'unknown document directive "'+r+'"')}if(K(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,K(e,!0,-1)):o&&T(e,"directives end mark is expected"),ze(e,e.lineIndent-1,un,!1,!0),K(e,!0,-1),e.checkLineBreaks&&Fl.test(e.input.slice(n,e.position))&&an(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&pn(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,K(e,!0,-1));return}if(e.position<e.length-1)T(e,"end of the stream or a document separator is expected");else return}function tr(e,n){e=String(e),n=n||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var i=new Dl(e,n),r=e.indexOf("\0");for(r!==-1&&(i.position=r,T(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)Vl(i);return i.documents}function Ul(e,n,i){n!==null&&typeof n=="object"&&typeof i>"u"&&(i=n,n=null);var r=tr(e,i);if(typeof n!="function")return r;for(var t=0,o=r.length;t<o;t+=1)n(r[t])}function Wl(e,n){var i=tr(e,n);if(i.length!==0){if(i.length===1)return i[0];throw new re("expected a single document in the stream, but found more")}}var ql=Ul,Gl=Wl,lr={loadAll:ql,load:Gl},or=Object.prototype.toString,sr=Object.prototype.hasOwnProperty,Nn=65279,Kl=9,Qe=10,Xl=13,Ql=32,Zl=33,Jl=34,xn=35,$l=37,eo=38,no=39,io=42,ur=44,ro=45,fn=58,to=61,lo=62,oo=63,so=64,ar=91,fr=93,uo=96,cr=123,ao=124,dr=125,ne={};ne[0]="\\0";ne[7]="\\a";ne[8]="\\b";ne[9]="\\t";ne[10]="\\n";ne[11]="\\v";ne[12]="\\f";ne[13]="\\r";ne[27]="\\e";ne[34]='\\"';ne[92]="\\\\";ne[133]="\\N";ne[160]="\\_";ne[8232]="\\L";ne[8233]="\\P";var fo=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],co=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function ho(e,n){var i,r,t,o,l,s,u;if(n===null)return{};for(i={},r=Object.keys(n),t=0,o=r.length;t<o;t+=1)l=r[t],s=String(n[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),u=e.compiledTypeMap.fallback[l],u&&sr.call(u.styleAliases,s)&&(s=u.styleAliases[s]),i[l]=s;return i}function po(e){var n,i,r;if(n=e.toString(16).toUpperCase(),e<=255)i="x",r=2;else if(e<=65535)i="u",r=4;else if(e<=4294967295)i="U",r=8;else throw new re("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+Q.repeat("0",r-n.length)+n}var mo=1,Ze=2;function go(e){this.schema=e.schema||On,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Q.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=ho(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Ze:mo,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Qn(e,n){for(var i=Q.repeat(" ",n),r=0,t=-1,o="",l,s=e.length;r<s;)t=e.indexOf(`
`,r),t===-1?(l=e.slice(r),r=s):(l=e.slice(r,t+1),r=t+1),l.length&&l!==`
`&&(o+=i),o+=l;return o}function wn(e,n){return`
`+Q.repeat(" ",e.indent*n)}function bo(e,n){var i,r,t;for(i=0,r=e.implicitTypes.length;i<r;i+=1)if(t=e.implicitTypes[i],t.resolve(n))return!0;return!1}function cn(e){return e===Ql||e===Kl}function Je(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Nn||65536<=e&&e<=1114111}function Zn(e){return Je(e)&&e!==Nn&&e!==Xl&&e!==Qe}function Jn(e,n,i){var r=Zn(e),t=r&&!cn(e);return(i?r:r&&e!==ur&&e!==ar&&e!==fr&&e!==cr&&e!==dr)&&e!==xn&&!(n===fn&&!t)||Zn(n)&&!cn(n)&&e===xn||n===fn&&t}function _o(e){return Je(e)&&e!==Nn&&!cn(e)&&e!==ro&&e!==oo&&e!==fn&&e!==ur&&e!==ar&&e!==fr&&e!==cr&&e!==dr&&e!==xn&&e!==eo&&e!==io&&e!==Zl&&e!==ao&&e!==to&&e!==lo&&e!==no&&e!==Jl&&e!==$l&&e!==so&&e!==uo}function vo(e){return!cn(e)&&e!==fn}function qe(e,n){var i=e.charCodeAt(n),r;return i>=55296&&i<=56319&&n+1<e.length&&(r=e.charCodeAt(n+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function hr(e){var n=/^\n* /;return n.test(e)}var pr=1,En=2,mr=3,gr=4,Ne=5;function yo(e,n,i,r,t,o,l,s){var u,a=0,f=null,p=!1,c=!1,h=r!==-1,d=-1,m=_o(qe(e,0))&&vo(qe(e,e.length-1));if(n||l)for(u=0;u<e.length;a>=65536?u+=2:u++){if(a=qe(e,u),!Je(a))return Ne;m=m&&Jn(a,f,s),f=a}else{for(u=0;u<e.length;a>=65536?u+=2:u++){if(a=qe(e,u),a===Qe)p=!0,h&&(c=c||u-d-1>r&&e[d+1]!==" ",d=u);else if(!Je(a))return Ne;m=m&&Jn(a,f,s),f=a}c=c||h&&u-d-1>r&&e[d+1]!==" "}return!p&&!c?m&&!l&&!t(e)?pr:o===Ze?Ne:En:i>9&&hr(e)?Ne:l?o===Ze?Ne:En:c?gr:mr}function Ao(e,n,i,r,t){e.dump=function(){if(n.length===0)return e.quotingType===Ze?'""':"''";if(!e.noCompatMode&&(fo.indexOf(n)!==-1||co.test(n)))return e.quotingType===Ze?'"'+n+'"':"'"+n+"'";var o=e.indent*Math.max(1,i),l=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),s=r||e.flowLevel>-1&&i>=e.flowLevel;function u(a){return bo(e,a)}switch(yo(n,s,e.indent,l,u,e.quotingType,e.forceQuotes&&!r,t)){case pr:return n;case En:return"'"+n.replace(/'/g,"''")+"'";case mr:return"|"+$n(n,e.indent)+ei(Qn(n,o));case gr:return">"+$n(n,e.indent)+ei(Qn(xo(n,l),o));case Ne:return'"'+wo(n)+'"';default:throw new re("impossible error: invalid scalar style")}}()}function $n(e,n){var i=hr(e)?String(n):"",r=e[e.length-1]===`
`,t=r&&(e[e.length-2]===`
`||e===`
`),o=t?"+":r?"":"-";return i+o+`
`}function ei(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function xo(e,n){for(var i=/(\n+)([^\n]*)/g,r=function(){var a=e.indexOf(`
`);return a=a!==-1?a:e.length,i.lastIndex=a,ni(e.slice(0,a),n)}(),t=e[0]===`
`||e[0]===" ",o,l;l=i.exec(e);){var s=l[1],u=l[2];o=u[0]===" ",r+=s+(!t&&!o&&u!==""?`
`:"")+ni(u,n),t=o}return r}function ni(e,n){if(e===""||e[0]===" ")return e;for(var i=/ [^ ]/g,r,t=0,o,l=0,s=0,u="";r=i.exec(e);)s=r.index,s-t>n&&(o=l>t?l:s,u+=`
`+e.slice(t,o),t=o+1),l=s;return u+=`
`,e.length-t>n&&l>t?u+=e.slice(t,l)+`
`+e.slice(l+1):u+=e.slice(t),u.slice(1)}function wo(e){for(var n="",i=0,r,t=0;t<e.length;i>=65536?t+=2:t++)i=qe(e,t),r=ne[i],!r&&Je(i)?(n+=e[t],i>=65536&&(n+=e[t+1])):n+=r||po(i);return n}function Eo(e,n,i){var r="",t=e.tag,o,l,s;for(o=0,l=i.length;o<l;o+=1)s=i[o],e.replacer&&(s=e.replacer.call(i,String(o),s)),(xe(e,n,s,!1,!1)||typeof s>"u"&&xe(e,n,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=t,e.dump="["+r+"]"}function ii(e,n,i,r){var t="",o=e.tag,l,s,u;for(l=0,s=i.length;l<s;l+=1)u=i[l],e.replacer&&(u=e.replacer.call(i,String(l),u)),(xe(e,n+1,u,!0,!0,!1,!0)||typeof u>"u"&&xe(e,n+1,null,!0,!0,!1,!0))&&((!r||t!=="")&&(t+=wn(e,n)),e.dump&&Qe===e.dump.charCodeAt(0)?t+="-":t+="- ",t+=e.dump);e.tag=o,e.dump=t||"[]"}function So(e,n,i){var r="",t=e.tag,o=Object.keys(i),l,s,u,a,f;for(l=0,s=o.length;l<s;l+=1)f="",r!==""&&(f+=", "),e.condenseFlow&&(f+='"'),u=o[l],a=i[u],e.replacer&&(a=e.replacer.call(i,u,a)),xe(e,n,u,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),xe(e,n,a,!1,!1)&&(f+=e.dump,r+=f));e.tag=t,e.dump="{"+r+"}"}function ko(e,n,i,r){var t="",o=e.tag,l=Object.keys(i),s,u,a,f,p,c;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new re("sortKeys must be a boolean or a function");for(s=0,u=l.length;s<u;s+=1)c="",(!r||t!=="")&&(c+=wn(e,n)),a=l[s],f=i[a],e.replacer&&(f=e.replacer.call(i,a,f)),xe(e,n+1,a,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&Qe===e.dump.charCodeAt(0)?c+="?":c+="? "),c+=e.dump,p&&(c+=wn(e,n)),xe(e,n+1,f,!0,p)&&(e.dump&&Qe===e.dump.charCodeAt(0)?c+=":":c+=": ",c+=e.dump,t+=c));e.tag=o,e.dump=t||"{}"}function ri(e,n,i){var r,t,o,l,s,u;for(t=i?e.explicitTypes:e.implicitTypes,o=0,l=t.length;o<l;o+=1)if(s=t[o],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof n=="object"&&n instanceof s.instanceOf)&&(!s.predicate||s.predicate(n))){if(i?s.multi&&s.representName?e.tag=s.representName(n):e.tag=s.tag:e.tag="?",s.represent){if(u=e.styleMap[s.tag]||s.defaultStyle,or.call(s.represent)==="[object Function]")r=s.represent(n,u);else if(sr.call(s.represent,u))r=s.represent[u](n,u);else throw new re("!<"+s.tag+'> tag resolver accepts not "'+u+'" style');e.dump=r}return!0}return!1}function xe(e,n,i,r,t,o,l){e.tag=null,e.dump=i,ri(e,i,!1)||ri(e,i,!0);var s=or.call(e.dump),u=r,a;r&&(r=e.flowLevel<0||e.flowLevel>n);var f=s==="[object Object]"||s==="[object Array]",p,c;if(f&&(p=e.duplicates.indexOf(i),c=p!==-1),(e.tag!==null&&e.tag!=="?"||c||e.indent!==2&&n>0)&&(t=!1),c&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(f&&c&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),s==="[object Object]")r&&Object.keys(e.dump).length!==0?(ko(e,n,e.dump,t),c&&(e.dump="&ref_"+p+e.dump)):(So(e,n,e.dump),c&&(e.dump="&ref_"+p+" "+e.dump));else if(s==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!l&&n>0?ii(e,n-1,e.dump,t):ii(e,n,e.dump,t),c&&(e.dump="&ref_"+p+e.dump)):(Eo(e,n,e.dump),c&&(e.dump="&ref_"+p+" "+e.dump));else if(s==="[object String]")e.tag!=="?"&&Ao(e,e.dump,n,o,u);else{if(s==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new re("unacceptable kind of an object to dump "+s)}e.tag!==null&&e.tag!=="?"&&(a=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?a="!"+a:a.slice(0,18)==="tag:yaml.org,2002:"?a="!!"+a.slice(18):a="!<"+a+">",e.dump=a+" "+e.dump)}return!0}function Fo(e,n){var i=[],r=[],t,o;for(Sn(e,i,r),t=0,o=r.length;t<o;t+=1)n.duplicates.push(i[r[t]]);n.usedDuplicates=new Array(o)}function Sn(e,n,i){var r,t,o;if(e!==null&&typeof e=="object")if(t=n.indexOf(e),t!==-1)i.indexOf(t)===-1&&i.push(t);else if(n.push(e),Array.isArray(e))for(t=0,o=e.length;t<o;t+=1)Sn(e[t],n,i);else for(r=Object.keys(e),t=0,o=r.length;t<o;t+=1)Sn(e[r[t]],n,i)}function Co(e,n){n=n||{};var i=new go(n);i.noRefs||Fo(e,i);var r=e;return i.replacer&&(r=i.replacer.call({"":r},"",r)),xe(i,0,r,!0,!0)?i.dump+`
`:""}var To=Co,Lo={dump:To};function Rn(e,n){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var Io=$,Oo=Oi,Do=Ri,Mo=Hi,No=Yi,Ro=On,Po=lr.load,Bo=lr.loadAll,zo=Lo.dump,jo=re,Ho={binary:Gi,float:ji,map:Ni,null:Pi,pairs:Xi,set:Qi,timestamp:Wi,bool:Bi,int:zi,merge:qi,omap:Ki,seq:Mi,str:Di},Yo=Rn("safeLoad","load"),Vo=Rn("safeLoadAll","loadAll"),Uo=Rn("safeDump","dump"),Wo={Type:Io,Schema:Oo,FAILSAFE_SCHEMA:Do,JSON_SCHEMA:Mo,CORE_SCHEMA:No,DEFAULT_SCHEMA:Ro,load:Po,loadAll:Bo,dump:zo,YAMLException:jo,types:Ho,safeLoad:Yo,safeLoadAll:Vo,safeDump:Uo};async function qo({fetch:e}){const n=await e(Et).then(r=>r.text());return{meta:Wo.load(n)}}const js=Object.freeze(Object.defineProperty({__proto__:null,load:qo},Symbol.toStringTag,{value:"Module"})),Go={x:[0,0],y:[0,0]},Ko=e=>{const n=document.getElementsByTagName("canvas");e&&console.debug(`Trying to destory WebGL instances of ${n.length} canvas elements`);for(let i=0;i<n.length;i++){const r=n[i],t=r.getContext("webgl")||r.getContext("experimental-webgl");t&&(e&&console.debug(`Trying to lose WebGL context for canvas ${i}`),t.getExtension("WEBGL_lose_context").loseContext())}},Xo=e=>typeof e=="string"||Array.isArray(e)&&e.every(n=>typeof n=="string"),Qo=ct,Zo={id:"deepscatter",debug:!0,pause:!1,plot:null,ready:!1,autofit:!0,width:600,height:400,autofitWidth:600,autofitHeight:400,zoomAlign:"center",zoomBalance:.35,encoding:{},duration:1e3,pointSize:3,maxPoints:500,alpha:40,backgroundOptions:{color:"white",opacity:[.2,1],size:[.66,1],mouseover:!1}};class Jo{constructor(n){ee(this,"store");ee(this,"autofitUnsubscribe");ee(this,"browser",Qo);ee(this,"Deepscatter");ee(this,"timer");ee(this,"dimer");ee(this,"delayPlotAPI",500);ee(this,"delayDestory",250);ee(this,"destroying",!1);ee(this,"debouncePlotAPI",()=>{this.plotting||(this.debug({status:"debouncePlotAPI"},{plotting:this.plotting,ready:this.ready}),clearTimeout(this.timer),this.plotting=!0,this.timer=setTimeout(async()=>{var n;(n=this.plot)==null||n.plotAPI({...this.args}).then(()=>this.ready=!0).then(()=>{this.isDebug&&(window.plot=this.plot)}).then(()=>this.plotting=!1)},this.delayPlotAPI))});ee(this,"debounceDestroy",async()=>{if(!this.destroying)return clearTimeout(this.dimer),this.destroying=!0,new Promise(n=>{this.dimer=setTimeout(async()=>{this.debug({status:"debounceDestroy timeout"},{destroying:this.destroying,ready:this.ready}),this.destroy().then(()=>{n(),this.destroying=!1,this.destroyWebGLInstances()})},this.delayDestory)})});ee(this,"destroy",async()=>(this.plot!==null&&(this.plot.destroy(),this.debug({status:"destroyed"},{plot:this.plot,ready:this.ready}),this.ready=!1),Promise.resolve()));ee(this,"subscribe");ee(this,"_plotting",!1);ee(this,"_schema",null);this.store=ft(n),this.subscribe=this.store.subscribe,this.reset=this.reset.bind(this),this.debug=this.debug.bind(this),this.autofitUnsubscribe=this.subscribe(i=>{i.w=this.autofit?this.autofitWidth:this.width,i.h=this.autofit?this.autofitHeight:this.height})}async LoadDeepscatter(){const n=await at(()=>import("../chunks/deepscatter.39d51a89.js"),[],import.meta.url);this.Deepscatter=n.default,this.debug({status:"Deepscatter imported"},n)}deconstructor(){this.autofitUnsubscribe()}reset(){this.store.set(j(this.store))}debug(n,...i){let{debug:r}=j(this.store);r&&(console.debug(n==null?void 0:n.status),Array.isArray(i)&&i.length>0&&console.debug(i))}samplePoints(n){var r;return(r=this.plot)==null?void 0:r.sample(n)}reinitializeZoom(){var n;(n=this.plot)==null||n._zoom.initialize_zoom()}destroyWebGLInstances(){let{debug:n}=j(this.store);Ko(n)}get zoom(){let{zoom:n}=j(this.store);return n}get zoomAlign(){let{zoomAlign:n}=j(this.store);return n}get zoomBalance(){let{zoomBalance:n}=j(this.store);return n}get encoding(){let{encoding:n}=j(this.store);return n}get duration(){let{duration:n}=j(this.store);return n}get pointSize(){let{pointSize:n}=j(this.store);return n}get maxPoints(){let{maxPoints:n}=j(this.store);return n}get alpha(){let{alpha:n}=j(this.store);return n}get clickFunction(){let{clickFunction:n}=j(this.store);return n}get labels(){let{labels:n}=j(this.store);return n}get backgroundOptions(){let{backgroundOptions:n}=j(this.store);return n}get backgroundColor(){if(!this.backgroundOptions)return;let{color:n}=this.backgroundOptions;return n}get backgroundOpacity(){if(!this.backgroundOptions)return;let{opacity:n}=this.backgroundOptions;return n}get backgroundSize(){if(!this.backgroundOptions)return;let{size:n}=this.backgroundOptions;return n}get backgroundMouseover(){if(!this.backgroundOptions)return;let{mouseover:n}=this.backgroundOptions;return n}set zoom(n){this.store.update(i=>(i.zoom=n,i))}set zoomBBox(n){this.store.update(i=>(i.zoom||(i.zoom={bbox:n}),i.zoom.bbox=n,i))}set zoomAlign(n){this.store.update(i=>(i.zoomAlign=n,i))}set zoomBalance(n){this.store.update(i=>(i.zoomBalance=n,i))}set encoding(n){this.store.update(i=>(i.encoding=n,i))}set duration(n){this.store.update(i=>(i.duration=n,i))}set pointSize(n){this.store.update(i=>(i.pointSize=n,i))}set maxPoints(n){this.store.update(i=>(i.maxPoints=n,this.totalPoints=n,i))}set alpha(n){this.store.update(i=>(i.alpha=n,i))}set clickFunction(n){this.store.update(i=>(i.clickFunction=n,i))}set labels(n){this.store.update(i=>(i.labels=n,i))}set backgroundOptions(n){this.store.update(i=>(i.backgroundOptions=n,i))}set backgroundColor(n){this.store.update(i=>(i.backgroundOptions||(i.backgroundOptions={}),i.backgroundOptions.color=n,i))}set backgroundOpacity(n){this.store.update(i=>(i.backgroundOptions||(i.backgroundOptions={}),i.backgroundOptions.opacity=n,i))}set backgroundSize(n){this.store.update(i=>(i.backgroundOptions||(i.backgroundOptions={}),i.backgroundOptions.size=n,i))}set backgroundMouseover(n){this.store.update(i=>(i.backgroundOptions||(i.backgroundOptions={}),i.backgroundOptions.mouseover=n,i))}get id(){let{id:n}=j(this.store);return n}set id(n){this.store.update(i=>(i.id=n,i))}get url(){let{url:n}=j(this.store);return n}set url(n){this.store.update(i=>(i.url=n,i))}get isDebug(){let{debug:n}=j(this.store);return n}set isDebug(n){this.store.update(i=>(i.debug=n,i))}get isPause(){let{pause:n}=j(this.store);return n}set isPause(n){this.store.update(i=>(i.pause=n,i))}get plot(){let{plot:n}=j(this.store);return n}set plot(n){this.store.update(i=>(i.plot=n,i))}get ready(){let{ready:n}=j(this.store);return n}set ready(n){this.store.update(i=>(i.ready=n,i))}get autofit(){let{autofit:n}=j(this.store);return n}set autofit(n){this.store.update(i=>(i.autofit=n,i))}get width(){let{width:n}=j(this.store);return n}get height(){let{height:n}=j(this.store);return n}get autofitWidth(){let{autofitWidth:n}=j(this.store);return n}set autofitWidth(n){this.store.update(i=>(i.autofitWidth=n,i))}get autofitHeight(){let{autofitHeight:n}=j(this.store);return n}set autofitHeight(n){this.store.update(i=>(i.autofitHeight=n,i))}get w(){let{w:n}=j(this.store);return n}get h(){let{h:n}=j(this.store);return n}get args(){let n={};return this.url&&(n.source_url=this.url),this.zoom&&(n.zoom=this.zoom),this.zoomAlign&&(n.zoom_align=this.zoomAlign),this.zoomBalance&&(n.zoom_balance=this.zoomBalance),this.encoding&&(n.encoding=this.encoding),this.duration&&(n.duration=this.duration),this.pointSize&&(n.point_size=this.pointSize),this.maxPoints&&(n.max_points=this.maxPoints),this.alpha&&(n.alpha=this.alpha),this.clickFunction&&(n.click_function=this.clickFunction),this.labels&&(n.labels=this.labels),this.backgroundOptions&&(n.background_options=this.backgroundOptions),this.backgroundColor&&(n.background_color=this.backgroundColor),this.backgroundOpacity&&(n.background_opacity=this.backgroundOpacity),n}get plotting(){return this._plotting}set plotting(n){this._plotting=n}get schema(){return this._schema}set schema(n){this._schema=n}get fields(){var n,i,r;return this.ready?(r=(i=(n=this.plot)==null?void 0:n._root)==null?void 0:i.schema)==null?void 0:r.fields:[]}get extents(){var n,i;return this.ready?(i=(n=this.plot)==null?void 0:n._root)==null?void 0:i._extents:{}}get xExtent(){var n;return((n=this.extents)==null?void 0:n.x)||null}get yExtent(){var n;return((n=this.extents)==null?void 0:n.y)||null}get zExtent(){var n;return((n=this.extents)==null?void 0:n.z)||null}async updateAPI(){}async updatePlot(){var n;this.debug({status:"Inside updatePlot"},{what:"widths",w:this.w,h:this.h,autoW:this.autofitWidth,autoH:this.autofitHeight},{args:this.args});try{await((n=this.plot)==null?void 0:n.plotAPI({...this.args},this.w,this.h).then(()=>{this.ready=!0,this.plotting=!1}).then(()=>{}).then(()=>{window.plot=this.isDebug?this.plot:null}).then(()=>{this.plotting=!1}).then(async()=>{var i;this.schema=await((i=this.plot)==null?void 0:i._root.schema())}))}catch(i){console.error(i)}}initializePlot(){this.plot=new this.Deepscatter(`#${this.id}`,this.w,this.h),this.debug({status:"Plot initialized"},this.plot),this.updatePlot()}get columns(){let{columns:n}=j(this.store);return n}set columns(n){this.store.update(i=>(i.columns=n,i))}get sidecars(){let{sidecars:n}=j(this.store);return n}set sidecars(n){this.store.update(i=>(i.sidecars=n,i))}get embedding(){let{embedding:n}=j(this.store);return n}set embedding(n){this.store.update(i=>(i.embedding=n,i))}get totalPoints(){let{totalPoints:n}=j(this.store);return n}set totalPoints(n){let i=this.maxPoints?this.maxPoints:0,r=this.totalPoints?this.totalPoints:0,t=Math.max(i,r,n||0);this.store.update(o=>(o.totalPoints=t,o))}getEncodingField(n){const i=this.encoding;if(!i)return;const r=i[n];if(!(!r||typeof r=="string"))try{return r==null?void 0:r.field}catch{return}}get xField(){return this.getEncodingField("x")}set xField(n){this.setEncoding("x",this.getColumnAsEncoding(n))}get yField(){return this.getEncodingField("y")}set yField(n){this.setEncoding("y",this.getColumnAsEncoding(n))}get cField(){return this.getEncodingField("color")}set cField(n){this.setEncoding("color",this.getColumnAsEncoding(n))}setEncoding(n,i){this.store.update(r=>{r.encoding||(r.encoding={}),r.encoding[n]=i;let t;try{t=i==null?void 0:i.field}catch{t=void 0}return t&&r.columns&&!(t in r.columns)&&(r.columns[t]=i),r})}getColumnMetadata(n){if(!n)return;let{columns:i}=j(this.store);return i?i[n]:void 0}getColumnAsEncoding(n){if(!n)return;let i=this.getColumnMetadata(n),r={};i!=null&&i.field&&(r.field=i.field),Xo(i==null?void 0:i.domain)&&(r=r),i!=null&&i.domain&&(r.domain=i.domain);let t=this.encoding;if(!t)return r;for(const[o,l]of Object.entries(t))if(l){if(typeof l=="string")continue;if("field"in l&&l.field===n){r={...r,...l};break}}else continue;return r}getColumnsMetadata(n){if(!n)return{};let i=n.map(t=>[t,this.getColumnMetadata(t)]);return Object.fromEntries(i)}getColumnsAsEncodings(n){if(!n)return{};let i=n.map(t=>[t,this.getColumnAsEncoding(t)]);return Object.fromEntries(i)}get x(){if(this.xField&&this.columns)return this.getColumnAsEncoding(this.xField)}get y(){if(this.yField&&this.columns)return this.getColumnAsEncoding(this.yField)}get color(){if(this.cField&&this.columns)return this.getColumnAsEncoding(this.cField)}addToColumns(n,i){this.store.update(r=>(r.columns||(r.columns={}),n in r.columns||(r.columns[n]=i),r))}setEncodingSubkey(n,i,r){this.store.update(t=>{t.encoding||(t.encoding={});let o=t.encoding[n];return o||(o={}),o[i]=r,this.encoding={...this.encoding,[n]:o},t.encoding={...t.encoding,[n]:o},t})}}const N=new Jo(Zo);function $o(e){return e.split("-")[1]}function es(e){return e==="y"?"height":"width"}function br(e){return e.split("-")[0]}function ns(e){return["top","bottom"].includes(br(e))?"x":"y"}function ti(e,n,i){let{reference:r,floating:t}=e;const o=r.x+r.width/2-t.width/2,l=r.y+r.height/2-t.height/2,s=ns(n),u=es(s),a=r[u]/2-t[u]/2,f=s==="x";let p;switch(br(n)){case"top":p={x:o,y:r.y-t.height};break;case"bottom":p={x:o,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:l};break;case"left":p={x:r.x-t.width,y:l};break;default:p={x:r.x,y:r.y}}switch($o(n)){case"start":p[s]-=a*(i&&f?-1:1);break;case"end":p[s]+=a*(i&&f?-1:1)}return p}const is=async(e,n,i)=>{const{placement:r="bottom",strategy:t="absolute",middleware:o=[],platform:l}=i,s=o.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(n));let a=await l.getElementRects({reference:e,floating:n,strategy:t}),{x:f,y:p}=ti(a,r,u),c=r,h={},d=0;for(let m=0;m<s.length;m++){const{name:_,fn:E}=s[m],{x:b,y:C,data:B,reset:g}=await E({x:f,y:p,initialPlacement:r,placement:c,strategy:t,middlewareData:h,rects:a,platform:l,elements:{reference:e,floating:n}});f=b??f,p=C??p,h={...h,[_]:{...h[_],...B}},g&&d<=50&&(d++,typeof g=="object"&&(g.placement&&(c=g.placement),g.rects&&(a=g.rects===!0?await l.getElementRects({reference:e,floating:n,strategy:t}):g.rects),{x:f,y:p}=ti(a,c,u)),m=-1)}return{x:f,y:p,placement:c,strategy:t,middlewareData:h}};function _r(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const rs=["top","right","bottom","left"];rs.reduce((e,n)=>e.concat(n,n+"-start",n+"-end"),[]);function ge(e){var n;return((n=e.ownerDocument)==null?void 0:n.defaultView)||window}function be(e){return ge(e).getComputedStyle(e)}function vr(e){return e instanceof ge(e).Node}function Ie(e){return vr(e)?(e.nodeName||"").toLowerCase():""}function _e(e){return e instanceof ge(e).HTMLElement}function ue(e){return e instanceof ge(e).Element}function li(e){return typeof ShadowRoot>"u"?!1:e instanceof ge(e).ShadowRoot||e instanceof ShadowRoot}function $e(e){const{overflow:n,overflowX:i,overflowY:r,display:t}=be(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+i)&&!["inline","contents"].includes(t)}function ts(e){return["table","td","th"].includes(Ie(e))}function kn(e){const n=Pn(),i=be(e);return i.transform!=="none"||i.perspective!=="none"||!n&&!!i.backdropFilter&&i.backdropFilter!=="none"||!n&&!!i.filter&&i.filter!=="none"||["transform","perspective","filter"].some(r=>(i.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(i.contain||"").includes(r))}function Pn(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function mn(e){return["html","body","#document"].includes(Ie(e))}const oi=Math.min,Ge=Math.max,dn=Math.round;function yr(e){const n=be(e);let i=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const t=_e(e),o=t?e.offsetWidth:i,l=t?e.offsetHeight:r,s=dn(i)!==o||dn(r)!==l;return s&&(i=o,r=l),{width:i,height:r,fallback:s}}function Ar(e){return ue(e)?e:e.contextElement}const xr={x:1,y:1};function Be(e){const n=Ar(e);if(!_e(n))return xr;const i=n.getBoundingClientRect(),{width:r,height:t,fallback:o}=yr(n);let l=(o?dn(i.width):i.width)/r,s=(o?dn(i.height):i.height)/t;return l&&Number.isFinite(l)||(l=1),s&&Number.isFinite(s)||(s=1),{x:l,y:s}}const si={x:0,y:0};function wr(e,n,i){var r,t;if(n===void 0&&(n=!0),!Pn())return si;const o=e?ge(e):window;return!i||n&&i!==o?si:{x:((r=o.visualViewport)==null?void 0:r.offsetLeft)||0,y:((t=o.visualViewport)==null?void 0:t.offsetTop)||0}}function De(e,n,i,r){n===void 0&&(n=!1),i===void 0&&(i=!1);const t=e.getBoundingClientRect(),o=Ar(e);let l=xr;n&&(r?ue(r)&&(l=Be(r)):l=Be(e));const s=wr(o,i,r);let u=(t.left+s.x)/l.x,a=(t.top+s.y)/l.y,f=t.width/l.x,p=t.height/l.y;if(o){const c=ge(o),h=r&&ue(r)?ge(r):r;let d=c.frameElement;for(;d&&r&&h!==c;){const m=Be(d),_=d.getBoundingClientRect(),E=getComputedStyle(d);_.x+=(d.clientLeft+parseFloat(E.paddingLeft))*m.x,_.y+=(d.clientTop+parseFloat(E.paddingTop))*m.y,u*=m.x,a*=m.y,f*=m.x,p*=m.y,u+=_.x,a+=_.y,d=ge(d).frameElement}}return _r({width:f,height:p,x:u,y:a})}function Ce(e){return((vr(e)?e.ownerDocument:e.document)||window.document).documentElement}function gn(e){return ue(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Er(e){return De(Ce(e)).left+gn(e).scrollLeft}function je(e){if(Ie(e)==="html")return e;const n=e.assignedSlot||e.parentNode||li(e)&&e.host||Ce(e);return li(n)?n.host:n}function Sr(e){const n=je(e);return mn(n)?n.ownerDocument.body:_e(n)&&$e(n)?n:Sr(n)}function Ke(e,n){var i;n===void 0&&(n=[]);const r=Sr(e),t=r===((i=e.ownerDocument)==null?void 0:i.body),o=ge(r);return t?n.concat(o,o.visualViewport||[],$e(r)?r:[]):n.concat(r,Ke(r))}function ui(e,n,i){let r;if(n==="viewport")r=function(t,o){const l=ge(t),s=Ce(t),u=l.visualViewport;let a=s.clientWidth,f=s.clientHeight,p=0,c=0;if(u){a=u.width,f=u.height;const h=Pn();(!h||h&&o==="fixed")&&(p=u.offsetLeft,c=u.offsetTop)}return{width:a,height:f,x:p,y:c}}(e,i);else if(n==="document")r=function(t){const o=Ce(t),l=gn(t),s=t.ownerDocument.body,u=Ge(o.scrollWidth,o.clientWidth,s.scrollWidth,s.clientWidth),a=Ge(o.scrollHeight,o.clientHeight,s.scrollHeight,s.clientHeight);let f=-l.scrollLeft+Er(t);const p=-l.scrollTop;return be(s).direction==="rtl"&&(f+=Ge(o.clientWidth,s.clientWidth)-u),{width:u,height:a,x:f,y:p}}(Ce(e));else if(ue(n))r=function(t,o){const l=De(t,!0,o==="fixed"),s=l.top+t.clientTop,u=l.left+t.clientLeft,a=_e(t)?Be(t):{x:1,y:1};return{width:t.clientWidth*a.x,height:t.clientHeight*a.y,x:u*a.x,y:s*a.y}}(n,i);else{const t=wr(e);r={...n,x:n.x-t.x,y:n.y-t.y}}return _r(r)}function kr(e,n){const i=je(e);return!(i===n||!ue(i)||mn(i))&&(be(i).position==="fixed"||kr(i,n))}function ai(e,n){return _e(e)&&be(e).position!=="fixed"?n?n(e):e.offsetParent:null}function fi(e,n){const i=ge(e);if(!_e(e))return i;let r=ai(e,n);for(;r&&ts(r)&&be(r).position==="static";)r=ai(r,n);return r&&(Ie(r)==="html"||Ie(r)==="body"&&be(r).position==="static"&&!kn(r))?i:r||function(t){let o=je(t);for(;_e(o)&&!mn(o);){if(kn(o))return o;o=je(o)}return null}(e)||i}function ls(e,n,i){const r=_e(n),t=Ce(n),o=i==="fixed",l=De(e,!0,o,n);let s={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(r||!r&&!o)if((Ie(n)!=="body"||$e(t))&&(s=gn(n)),_e(n)){const a=De(n,!0,o,n);u.x=a.x+n.clientLeft,u.y=a.y+n.clientTop}else t&&(u.x=Er(t));return{x:l.left+s.scrollLeft-u.x,y:l.top+s.scrollTop-u.y,width:l.width,height:l.height}}const os={getClippingRect:function(e){let{element:n,boundary:i,rootBoundary:r,strategy:t}=e;const o=i==="clippingAncestors"?function(a,f){const p=f.get(a);if(p)return p;let c=Ke(a).filter(_=>ue(_)&&Ie(_)!=="body"),h=null;const d=be(a).position==="fixed";let m=d?je(a):a;for(;ue(m)&&!mn(m);){const _=be(m),E=kn(m);E||_.position!=="fixed"||(h=null),(d?!E&&!h:!E&&_.position==="static"&&h&&["absolute","fixed"].includes(h.position)||$e(m)&&!E&&kr(a,m))?c=c.filter(b=>b!==m):h=_,m=je(m)}return f.set(a,c),c}(n,this._c):[].concat(i),l=[...o,r],s=l[0],u=l.reduce((a,f)=>{const p=ui(n,f,t);return a.top=Ge(p.top,a.top),a.right=oi(p.right,a.right),a.bottom=oi(p.bottom,a.bottom),a.left=Ge(p.left,a.left),a},ui(n,s,t));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:n,offsetParent:i,strategy:r}=e;const t=_e(i),o=Ce(i);if(i===o)return n;let l={scrollLeft:0,scrollTop:0},s={x:1,y:1};const u={x:0,y:0};if((t||!t&&r!=="fixed")&&((Ie(i)!=="body"||$e(o))&&(l=gn(i)),_e(i))){const a=De(i);s=Be(i),u.x=a.x+i.clientLeft,u.y=a.y+i.clientTop}return{width:n.width*s.x,height:n.height*s.y,x:n.x*s.x-l.scrollLeft*s.x+u.x,y:n.y*s.y-l.scrollTop*s.y+u.y}},isElement:ue,getDimensions:function(e){return yr(e)},getOffsetParent:fi,getDocumentElement:Ce,getScale:Be,async getElementRects(e){let{reference:n,floating:i,strategy:r}=e;const t=this.getOffsetParent||fi,o=this.getDimensions;return{reference:ls(n,await t(i),r),floating:{x:0,y:0,...await o(i)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>be(e).direction==="rtl"};function ss(e,n,i,r){r===void 0&&(r={});const{ancestorScroll:t=!0,ancestorResize:o=!0,elementResize:l=!0,animationFrame:s=!1}=r,u=t||o?[...ue(e)?Ke(e):e.contextElement?Ke(e.contextElement):[],...Ke(n)]:[];u.forEach(c=>{const h=!ue(c)&&c.toString().includes("V");!t||s&&!h||c.addEventListener("scroll",i,{passive:!0}),o&&c.addEventListener("resize",i)});let a,f=null;l&&(f=new ResizeObserver(()=>{i()}),ue(e)&&!s&&f.observe(e),ue(e)||!e.contextElement||s||f.observe(e.contextElement),f.observe(n));let p=s?De(e):null;return s&&function c(){const h=De(e);!p||h.x===p.x&&h.y===p.y&&h.width===p.width&&h.height===p.height||i(),p=h,a=requestAnimationFrame(c)}(),i(),()=>{var c;u.forEach(h=>{t&&h.removeEventListener("scroll",i),o&&h.removeEventListener("resize",i)}),(c=f)==null||c.disconnect(),f=null,s&&cancelAnimationFrame(a)}}const us=(e,n,i)=>{const r=new Map,t={platform:os,...i},o={...t.platform,_c:r};return is(e,n,{...t,platform:o})};function ci(e){let n,i;const r={autoUpdate:!0};let t=e;const o=f=>({...r,...e||{},...f||{}}),l=f=>{n&&i&&(t=o(f),us(n,i,t).then(p=>{Object.assign(i.style,{position:p.strategy,left:`${p.x}px`,top:`${p.y}px`}),t!=null&&t.onComputed&&t.onComputed(p)}))},s=f=>{if("subscribe"in f)return a(f),{};n=f,l()},u=(f,p)=>{let c;i=f,t=o(p),setTimeout(()=>l(p),0),l(p);const h=()=>{c&&(c(),c=void 0)},d=({autoUpdate:m}=t||{})=>{h(),m!==!1&&tt().then(()=>ss(n,i,()=>l(t),m===!0?{}:m))};return c=d(),{update(m){l(m),c=d(m)},destroy(){h()}}},a=f=>{const p=f.subscribe(c=>{n===void 0?(n=c,l()):(Object.assign(n,c),l())});rt(p)};return[s,u,l]}function di(e){let n,i;return{c(){n=I("div"),this.h()},l(r){n=O(r,"DIV",{class:!0,unselectable:!0}),D(n).forEach(w),this.h()},h(){x(n,"class",i="absolute h-1 rounded-full "+e[8]+" w-0 select-none pointer-events-none cursor-none"),x(n,"unselectable","on")},m(r,t){q(r,n,t),e[37](n)},p(r,t){t[0]&256&&i!==(i="absolute h-1 rounded-full "+r[8]+" w-0 select-none pointer-events-none cursor-none")&&x(n,"class",i)},d(r){r&&w(n),e[37](null)}}}function hi(e){let n,i=Math.round(e[0]*100)/100+"",r,t,o;return{c(){n=I("div"),r=H(i),this.h()},l(l){n=O(l,"DIV",{class:!0,unselectable:!0});var s=D(n);r=Y(s,i),s.forEach(w),this.h()},h(){x(n,"class","relative -mt-2 w-1 pointer-events-none select-none cursor-none -z-10"),x(n,"unselectable","on")},m(l,s){q(l,n,s),y(n,r),t||(o=hn(e[25].call(null,n)),t=!0)},p(l,s){s[0]&1&&i!==(i=Math.round(l[0]*100)/100+"")&&ie(r,i)},d(l){l&&w(n),t=!1,o()}}}function pi(e){let n,i,r,t=(e[18]||e[10])&&!e[11]&&mi(e);return{c(){n=I("div"),t&&t.c(),this.h()},l(o){n=O(o,"DIV",{class:!0,unselectable:!0});var l=D(n);t&&t.l(l),l.forEach(w),this.h()},h(){x(n,"class","absolute h-4 -mt-1 flex items-center justify-center w-4 rounded-full bg-white shadow border border-gray-300 -ml-2 top-0 cursor-grabbing select-none "),x(n,"unselectable","on"),te(n,"cursor-grab",!e[20]),te(n,"cursor-grabbing",e[20])},m(o,l){q(o,n,l),t&&t.m(n,null),e[43](n),i||(r=[J(n,"touchstart",e[44],{passive:!0}),J(n,"mousedown",e[45]),J(n,"mouseenter",e[46]),J(n,"mouseleave",e[47]),hn(e[26].call(null,n))],i=!0)},p(o,l){(o[18]||o[10])&&!o[11]?t?t.p(o,l):(t=mi(o),t.c(),t.m(n,null)):t&&(t.d(1),t=null),l[0]&1048576&&te(n,"cursor-grab",!o[20]),l[0]&1048576&&te(n,"cursor-grabbing",o[20])},d(o){o&&w(n),t&&t.d(),e[43](null),i=!1,Tn(r)}}}function mi(e){let n,i=Math.round(e[1]*100)/100+"",r,t,o;return{c(){n=I("div"),r=H(i),this.h()},l(l){n=O(l,"DIV",{class:!0,unselectable:!0});var s=D(n);r=Y(s,i),s.forEach(w),this.h()},h(){x(n,"class","relative -mt-2 w-1 pointer-events-none select-none cursor-none -z-10"),x(n,"unselectable","on")},m(l,s){q(l,n,s),y(n,r),t||(o=hn(e[27].call(null,n)),t=!0)},p(l,s){s[0]&2&&i!==(i=Math.round(l[1]*100)/100+"")&&ie(r,i)},d(l){l&&w(n),t=!1,o()}}}function gi(e){let n,i,r=e[5]&&bi(e),t=e[6]&&_i(e);return{c(){n=I("div"),r&&r.c(),i=V(),t&&t.c(),this.h()},l(o){n=O(o,"DIV",{class:!0,unselectable:!0});var l=D(n);r&&r.l(l),i=U(l),t&&t.l(l),l.forEach(w),this.h()},h(){x(n,"class","w-full h-8 select-none pointer-events-none cursor-none"),x(n,"unselectable","on")},m(o,l){q(o,n,l),r&&r.m(n,null),y(n,i),t&&t.m(n,null)},p(o,l){o[5]?r?r.p(o,l):(r=bi(o),r.c(),r.m(n,i)):r&&(r.d(1),r=null),o[6]?t?t.p(o,l):(t=_i(o),t.c(),t.m(n,null)):t&&(t.d(1),t=null)},d(o){o&&w(n),r&&r.d(),t&&t.d()}}}function bi(e){let n,i;return{c(){n=I("div"),i=H(e[2]),this.h()},l(r){n=O(r,"DIV",{class:!0,unselectable:!0});var t=D(n);i=Y(t,e[2]),t.forEach(w),this.h()},h(){x(n,"class","absolute text-gray-800 -ml-1 top-3 left-3 "),x(n,"unselectable","on")},m(r,t){q(r,n,t),y(n,i)},p(r,t){t[0]&4&&ie(i,r[2])},d(r){r&&w(n)}}}function _i(e){let n,i;return{c(){n=I("div"),i=H(e[3]),this.h()},l(r){n=O(r,"DIV",{class:!0,unselectable:!0});var t=D(n);i=Y(t,e[3]),t.forEach(w),this.h()},h(){x(n,"class","absolute text-gray-800 -mr-1 top-3 right-3"),x(n,"unselectable","on")},m(r,t){q(r,n,t),y(n,i)},p(r,t){t[0]&8&&ie(i,r[3])},d(r){r&&w(n)}}}function as(e){let n,i,r,t,o,l,s,u,a,f,p,c=e[4]&&di(e),h=(e[17]||e[10])&&!e[11]&&hi(e),d=e[4]&&pi(e),m=e[7]&&gi(e);return{c(){n=I("div"),i=I("div"),r=I("div"),c&&c.c(),t=V(),o=I("div"),h&&h.c(),l=V(),d&&d.c(),s=V(),m&&m.c(),this.h()},l(_){n=O(_,"DIV",{class:!0,unselectable:!0});var E=D(n);i=O(E,"DIV",{class:!0,unselectable:!0});var b=D(i);r=O(b,"DIV",{class:!0,unselectable:!0});var C=D(r);c&&c.l(C),t=U(C),o=O(C,"DIV",{class:!0,unselectable:!0});var B=D(o);h&&h.l(B),B.forEach(w),l=U(C),d&&d.l(C),C.forEach(w),s=U(b),m&&m.l(b),b.forEach(w),E.forEach(w),this.h()},h(){x(o,"class","absolute h-4 -mt-1 flex items-center justify-center w-4 rounded-full bg-white shadow border border-gray-300 -ml-2 top-0 cursor-grabbing select-none "),x(o,"unselectable","on"),te(o,"cursor-grab",!e[20]),te(o,"cursor-grabbing",e[20]),x(r,"class","h-1 -mt-px bg-gray-300 rounded-full select-none pointer-events-auto"),x(r,"unselectable","on"),x(i,"class","py-1 relative min-w-full select-none"),x(i,"unselectable","on"),Cn(()=>e[48].call(i)),x(n,"class",a=e[28].class+" select-none cursor-default pointer-events-none"),x(n,"unselectable","on")},m(_,E){q(_,n,E),y(n,i),y(i,r),c&&c.m(r,null),y(r,t),y(r,o),h&&h.m(o,null),e[38](o),y(r,l),d&&d.m(r,null),y(i,s),m&&m.m(i,null),u=Ti(i,e[48].bind(i)),e[49](i),f||(p=[J(window,"mousemove",e[21]),J(window,"touchmove",e[21]),J(window,"mouseup",e[22]),J(window,"touchend",e[22]),J(window,"mousedown",e[23]),J(o,"touchstart",e[39],{passive:!0}),J(o,"mousedown",e[40]),J(o,"mouseenter",e[41]),J(o,"mouseleave",e[42]),hn(e[24].call(null,o))],f=!0)},p(_,E){_[4]?c?c.p(_,E):(c=di(_),c.c(),c.m(r,t)):c&&(c.d(1),c=null),(_[17]||_[10])&&!_[11]?h?h.p(_,E):(h=hi(_),h.c(),h.m(o,null)):h&&(h.d(1),h=null),E[0]&1048576&&te(o,"cursor-grab",!_[20]),E[0]&1048576&&te(o,"cursor-grabbing",_[20]),_[4]?d?d.p(_,E):(d=pi(_),d.c(),d.m(r,null)):d&&(d.d(1),d=null),_[7]?m?m.p(_,E):(m=gi(_),m.c(),m.m(i,null)):m&&(m.d(1),m=null),E[0]&268435456&&a!==(a=_[28].class+" select-none cursor-default pointer-events-none")&&x(n,"class",a)},i:Te,o:Te,d(_){_&&w(n),c&&c.d(),h&&h.d(),e[38](null),d&&d.d(),m&&m.d(),u(),e[49](null),f=!1,Tn(p)}}}function fs(e){return e instanceof MouseEvent}function cs(e){return e instanceof TouchEvent}function ds(e){return fs(e)?e.clientX:cs(e)?e.touches[0].clientX:0}function hs(e,n,i){let r,t,o,l,s,u;const a=He();let{range:f=!1}=n,{integer:p=!1}=n,{min:c=-2}=n,{max:h=2}=n,{lower:d=-1}=n,{upper:m=1}=n,{minLabel:_=!0}=n,{maxLabel:E=!0}=n,{minMaxLabels:b=!0}=n,{minRange:C=0}=n,{color:B="bg-sky-500"}=n,{tooltip:g=!1}=n,{tooltipAlways:v=!1}=n,{tooltipNever:S=!1}=n,k=!1,M=!1,W,R=null,F,L,P,z;const G=A=>o===1&&A-C<d&&f,X=A=>o===0&&A+C>m&&f;function ae(A){if(R===null)return!1;i(20,rn=!0);let tn=(ds(A)-t)/W*100;const $r=Or(tn);nn($r)}function nn(A){let Ve=d===m&&o===1&&A>d,Ue=d===m&&o===0&&A<m;if(Ve||Ue)A+=(h-c)/100*10,p&&(A=Math.round(A));else if(G(A)||X(A))return;switch(o){case 0:Cr(A);break;case 1:Tr(A);break}}const Cr=A=>{i(17,k=!0),p&&(A=Math.round(A)),i(0,d=Bn(A))},Tr=A=>{i(18,M=!0),p&&(A=Math.round(A)),i(1,m=Bn(A))},Lr=A=>Math.min(h,A),Ir=A=>Math.max(c,A),Bn=A=>Lr(Ir(A)),ke=A=>(A-c)/(h-c)*100,Or=A=>A/100*(h-c)+c,zn=A=>Math.abs(ke(A)-ke(d))<=.01?ke(A)+1:ke(A),jn=()=>{i(33,l=Number.isNaN(ke(d))?0:ke(d)),i(35,s=zn(m)),i(34,u=s-l),L&&i(14,L.style.left=`${l}%`,L),P&&i(15,P.style.left=`${s}%`,P)},Dr=(A,Ve,Ue,tn)=>{A&&i(2,c=A),Ve&&i(3,h=Ve),Ue&&i(0,d=Ue),tn&&i(1,m=tn),jn()};let rn=!1;function Mr(){i(12,R=null),i(17,k=!1),i(18,M=!1),i(20,rn=!1)}function Nr(){i(20,rn=!0)}const[Rr,Pr]=ci({strategy:"absolute",placement:"top",middleware:[]}),[Br,zr]=ci({strategy:"absolute",placement:"top",middleware:[]});function jr(A){Z[A?"unshift":"push"](()=>{z=A,i(16,z),i(4,f),i(34,u),i(33,l),i(35,s),i(0,d),i(1,m)})}function Hr(A){Z[A?"unshift":"push"](()=>{L=A,i(14,L),i(33,l),i(0,d)})}const Yr=()=>i(12,R=L),Vr=()=>i(12,R=L),Ur=()=>i(17,k=g),Wr=()=>i(17,k=!1);function qr(A){Z[A?"unshift":"push"](()=>{P=A,i(15,P),i(35,s),i(1,m)})}const Gr=()=>i(12,R=P),Kr=()=>i(12,R=P),Xr=()=>i(18,M=g),Qr=()=>i(18,M=!1);function Zr(){W=this.clientWidth,i(19,W)}function Jr(A){Z[A?"unshift":"push"](()=>{F=A,i(13,F)})}return e.$$set=A=>{i(28,n=ye(ye({},n),Ae(A))),"range"in A&&i(4,f=A.range),"integer"in A&&i(29,p=A.integer),"min"in A&&i(2,c=A.min),"max"in A&&i(3,h=A.max),"lower"in A&&i(0,d=A.lower),"upper"in A&&i(1,m=A.upper),"minLabel"in A&&i(5,_=A.minLabel),"maxLabel"in A&&i(6,E=A.maxLabel),"minMaxLabels"in A&&i(7,b=A.minMaxLabels),"minRange"in A&&i(30,C=A.minRange),"color"in A&&i(8,B=A.color),"tooltip"in A&&i(9,g=A.tooltip),"tooltipAlways"in A&&i(10,v=A.tooltipAlways),"tooltipNever"in A&&i(11,S=A.tooltipNever)},e.$$.update=()=>{e.$$.dirty[0]&19&&i(36,r=f?[d,m]:d),e.$$.dirty[0]&8192&&(t=F==null?void 0:F.offsetLeft),e.$$.dirty[0]&1&&i(33,l=Number.isNaN(ke(d))?0:ke(d)),e.$$.dirty[0]&16384|e.$$.dirty[1]&4&&L&&i(14,L.style.left=`${l}%`,L),e.$$.dirty[0]&20480&&(o=R===L?0:1),e.$$.dirty[0]&536870912|e.$$.dirty[1]&32&&(Array.isArray(r)?r.forEach(A=>A=p?Math.round(A):A):i(36,r=p?Math.round(r):r),a("change",r)),e.$$.dirty[0]&2&&i(35,s=zn(m)),e.$$.dirty[1]&20&&i(34,u=s-l),e.$$.dirty[0]&32768|e.$$.dirty[1]&16&&P&&i(15,P.style.left=`${s}%`,P),e.$$.dirty[0]&65552|e.$$.dirty[1]&12&&z&&f&&(i(16,z.style.width=`${u}%`,z),i(16,z.style.left=`${l}%`,z)),e.$$.dirty[0]&528&&g==!0&&f&&(i(17,k=!0),i(18,M=!0))},n=Ae(n),[d,m,c,h,f,_,E,b,B,g,v,S,R,F,L,P,z,k,M,W,rn,ae,Mr,Nr,Rr,Pr,Br,zr,n,p,C,jn,Dr,l,u,s,r,jr,Hr,Yr,Vr,Ur,Wr,qr,Gr,Kr,Xr,Qr,Zr,Jr]}class Fr extends we{constructor(n){super(),Ee(this,n,hs,as,Se,{range:4,integer:29,min:2,max:3,lower:0,upper:1,minLabel:5,maxLabel:6,minMaxLabels:7,minRange:30,color:8,tooltip:9,tooltipAlways:10,tooltipNever:11,updatePointers:31,manuallySetBounds:32},null,[-1,-1,-1])}get updatePointers(){return this.$$.ctx[31]}get manuallySetBounds(){return this.$$.ctx[32]}}function ps(e){let n,i,r,t,o,l,s,u=Math.round(e[0]*100)/100+"",a,f,p,c,h,d,m,_,E,b=Math.round(e[1]*100)/100+"",C,B,g,v,S;function k(R){e[8](R)}function M(R){e[9](R)}let W={id:e[2],range:!0,min:e[4],max:e[5],step:e[6],"input$aria-label":e[3],class:"grow col-span-8 w-full",minMaxLabels:!1,tooltipNever:!0};return e[0]!==void 0&&(W.lower=e[0]),e[1]!==void 0&&(W.upper=e[1]),h=new Fr({props:W}),Z.push(()=>oe(h,"lower",k)),Z.push(()=>oe(h,"upper",M)),h.$on("change",e[10]),h.$on("click",e[11]),{c(){n=I("div"),i=I("div"),r=I("div"),t=I("label"),o=H(e[3]),l=V(),s=I("div"),a=H(u),f=H(" / "),p=H(e[4]),c=V(),fe(h.$$.fragment),_=V(),E=I("div"),C=H(b),B=H(" / "),g=H(e[5]),this.h()},l(R){n=O(R,"DIV",{class:!0});var F=D(n);i=O(F,"DIV",{class:!0});var L=D(i);r=O(L,"DIV",{class:!0});var P=D(r);t=O(P,"LABEL",{for:!0,class:!0});var z=D(t);o=Y(z,e[3]),z.forEach(w),P.forEach(w),l=U(L),s=O(L,"DIV",{class:!0});var G=D(s);a=Y(G,u),f=Y(G," / "),p=Y(G,e[4]),G.forEach(w),c=U(L),ce(h.$$.fragment,L),_=U(L),E=O(L,"DIV",{class:!0});var X=D(E);C=Y(X,b),B=Y(X," / "),g=Y(X,e[5]),X.forEach(w),L.forEach(w),F.forEach(w),this.h()},h(){x(t,"for",e[2]),x(t,"class","text-gray-700 text-sm font-bold select-none point-event-none"),x(r,"class","col-span-12 justify-self-start select-none point-event-none"),te(r,"hidden",e[3]===null),x(s,"class","col-span-2 font-bold text-sm px-2 pointer-events-none select-none"),x(E,"class","col-span-2 font-bold text-sm px-2 pointer-events-none select-none"),x(i,"class","grid grid-cols-12 justify-center place-items-center gap-2 select-none point-event-none"),x(n,"class",v=e[7].class+" select-none point-event-none")},m(R,F){q(R,n,F),y(n,i),y(i,r),y(r,t),y(t,o),y(i,l),y(i,s),y(s,a),y(s,f),y(s,p),y(i,c),de(h,i,null),y(i,_),y(i,E),y(E,C),y(E,B),y(E,g),S=!0},p(R,[F]){(!S||F&8)&&ie(o,R[3]),(!S||F&4)&&x(t,"for",R[2]),(!S||F&8)&&te(r,"hidden",R[3]===null),(!S||F&1)&&u!==(u=Math.round(R[0]*100)/100+"")&&ie(a,u),(!S||F&16)&&ie(p,R[4]);const L={};F&4&&(L.id=R[2]),F&16&&(L.min=R[4]),F&32&&(L.max=R[5]),F&64&&(L.step=R[6]),F&8&&(L["input$aria-label"]=R[3]),!d&&F&1&&(d=!0,L.lower=R[0],se(()=>d=!1)),!m&&F&2&&(m=!0,L.upper=R[1],se(()=>m=!1)),h.$set(L),(!S||F&2)&&b!==(b=Math.round(R[1]*100)/100+"")&&ie(C,b),(!S||F&32)&&ie(g,R[5]),(!S||F&128&&v!==(v=R[7].class+" select-none point-event-none"))&&x(n,"class",v)},i(R){S||(he(h.$$.fragment,R),S=!0)},o(R){pe(h.$$.fragment,R),S=!1},d(R){R&&w(n),me(h)}}}function ms(e,n,i){let{id:r="range-slider"}=n,{label:t="Range Slider"}=n,{min:o=-2}=n,{max:l=2}=n,{lower:s=-1}=n,{upper:u=1}=n,{step:a=.01}=n;function f(d){s=d,i(0,s)}function p(d){u=d,i(1,u)}function c(d){yn.call(this,e,d)}function h(d){yn.call(this,e,d)}return e.$$set=d=>{i(7,n=ye(ye({},n),Ae(d))),"id"in d&&i(2,r=d.id),"label"in d&&i(3,t=d.label),"min"in d&&i(4,o=d.min),"max"in d&&i(5,l=d.max),"lower"in d&&i(0,s=d.lower),"upper"in d&&i(1,u=d.upper),"step"in d&&i(6,a=d.step)},n=Ae(n),[s,u,r,t,o,l,a,n,f,p,c,h]}class vi extends we{constructor(n){super(),Ee(this,n,ms,ps,Se,{id:2,label:3,min:4,max:5,lower:0,upper:1,step:6})}}function gs(e){let n,i,r,t,o,l,s,u,a,f,p,c,h,d,m,_,E,b,C,B,g;function v(F){e[12](F)}function S(F){e[13](F)}let k={class:"w-full",label:null,step:e[4],min:e[0],max:e[1]};e[6]!==void 0&&(k.lower=e[6]),e[7]!==void 0&&(k.upper=e[7]),f=new vi({props:k}),Z.push(()=>oe(f,"lower",v)),Z.push(()=>oe(f,"upper",S)),f.$on("change",e[10]);function M(F){e[14](F)}function W(F){e[15](F)}let R={class:"w-full",label:null,step:e[4],min:e[2],max:e[3]};return e[8]!==void 0&&(R.lower=e[8]),e[9]!==void 0&&(R.upper=e[9]),b=new vi({props:R}),Z.push(()=>oe(b,"lower",M)),Z.push(()=>oe(b,"upper",W)),b.$on("change",e[10]),{c(){n=I("div"),i=I("label"),r=H("Zoom Box"),t=V(),o=I("div"),l=I("div"),s=I("div"),u=H("x:"),a=V(),fe(f.$$.fragment),h=V(),d=I("div"),m=I("div"),_=H("y:"),E=V(),fe(b.$$.fragment),this.h()},l(F){n=O(F,"DIV",{class:!0});var L=D(n);i=O(L,"LABEL",{for:!0,class:!0});var P=D(i);r=Y(P,"Zoom Box"),P.forEach(w),L.forEach(w),t=U(F),o=O(F,"DIV",{id:!0,class:!0});var z=D(o);l=O(z,"DIV",{class:!0});var G=D(l);s=O(G,"DIV",{class:!0});var X=D(s);u=Y(X,"x:"),X.forEach(w),a=U(G),ce(f.$$.fragment,G),G.forEach(w),h=U(z),d=O(z,"DIV",{class:!0});var ae=D(d);m=O(ae,"DIV",{class:!0});var nn=D(m);_=Y(nn,"y:"),nn.forEach(w),E=U(ae),ce(b.$$.fragment,ae),ae.forEach(w),z.forEach(w),this.h()},h(){x(i,"for",e[5]),x(i,"class","text-gray-700 text-sm font-bold"),x(n,"class","col-span-12 justify-self-start select-none point-event-none"),x(s,"class","inline-flex align-middle pl-4"),x(l,"class","inline-flex w-full place-items-center justify-center place-content-center align-middle gap-2"),x(m,"class","inline-flex align-middle pl-4"),x(d,"class","inline-flex w-full place-items-center justify-center place-content-center align-middle gap-2"),x(o,"id",e[5]),x(o,"class","select-none point-event-none")},m(F,L){q(F,n,L),y(n,i),y(i,r),q(F,t,L),q(F,o,L),y(o,l),y(l,s),y(s,u),y(l,a),de(f,l,null),y(o,h),y(o,d),y(d,m),y(m,_),y(d,E),de(b,d,null),g=!0},p(F,[L]){(!g||L&32)&&x(i,"for",F[5]);const P={};L&16&&(P.step=F[4]),L&1&&(P.min=F[0]),L&2&&(P.max=F[1]),!p&&L&64&&(p=!0,P.lower=F[6],se(()=>p=!1)),!c&&L&128&&(c=!0,P.upper=F[7],se(()=>c=!1)),f.$set(P);const z={};L&16&&(z.step=F[4]),L&4&&(z.min=F[2]),L&8&&(z.max=F[3]),!C&&L&256&&(C=!0,z.lower=F[8],se(()=>C=!1)),!B&&L&512&&(B=!0,z.upper=F[9],se(()=>B=!1)),b.$set(z),(!g||L&32)&&x(o,"id",F[5])},i(F){g||(he(f.$$.fragment,F),he(b.$$.fragment,F),g=!0)},o(F){pe(f.$$.fragment,F),pe(b.$$.fragment,F),g=!1},d(F){F&&w(n),F&&w(t),F&&w(o),me(f),me(b)}}}function bs(e,n,i){let r,t,o;en(e,N,v=>i(17,o=v));const l=He();let{x:[s,u],y:[a,f]}=Go;Ln(()=>{var v;(v=o.zoom)!=null&&v.bbox&&(i(6,s=o.zoom.bbox.x[0]),i(7,u=o.zoom.bbox.x[1]),i(8,a=o.zoom.bbox.y[0]),i(9,f=o.zoom.bbox.y[1]))});let{minX:p=-2}=n,{maxX:c=2}=n,{minY:h=-2}=n,{maxY:d=2}=n,{step:m=.01}=n;const _=()=>{N.zoom=t,l("change",{bbox:r})};let{id:E="zoom-box-sliders"}=n;function b(v){s=v,i(6,s)}function C(v){u=v,i(7,u)}function B(v){a=v,i(8,a)}function g(v){f=v,i(9,f)}return e.$$set=v=>{"minX"in v&&i(0,p=v.minX),"maxX"in v&&i(1,c=v.maxX),"minY"in v&&i(2,h=v.minY),"maxY"in v&&i(3,d=v.maxY),"step"in v&&i(4,m=v.step),"id"in v&&i(5,E=v.id)},e.$$.update=()=>{e.$$.dirty&960&&i(11,r={x:[s,u],y:[a,f]}),e.$$.dirty&2048&&(t={bbox:r})},[p,c,h,d,m,E,s,u,a,f,_,r,b,C,B,g]}class _s extends we{constructor(n){super(),Ee(this,n,bs,gs,Se,{minX:0,maxX:1,minY:2,maxY:3,step:4,id:5})}}function vs(e){let n,i,r,t,o,l,s,u,a,f,p,c,h,d,m,_,E,b;function C(g){e[8](g)}let B={id:e[0],integer:!0,min:on,max:e[4],"input$aria-label":e[1],class:"grow col-span-8 w-full pointer-events-auto",minMaxLabels:!1,tooltipNever:!0};return e[2]!==void 0&&(B.lower=e[2]),c=new Fr({props:B}),e[7](c),Z.push(()=>oe(c,"lower",C)),c.$on("click",e[9]),{c(){n=I("div"),i=I("div"),r=I("div"),t=I("label"),o=H(e[1]),l=H(": "),s=H(e[2]),u=V(),a=I("div"),f=H(on),p=V(),fe(c.$$.fragment),d=V(),m=I("div"),_=H(e[4]),this.h()},l(g){n=O(g,"DIV",{class:!0});var v=D(n);i=O(v,"DIV",{class:!0});var S=D(i);r=O(S,"DIV",{class:!0});var k=D(r);t=O(k,"LABEL",{for:!0,class:!0});var M=D(t);o=Y(M,e[1]),l=Y(M,": "),s=Y(M,e[2]),M.forEach(w),k.forEach(w),u=U(S),a=O(S,"DIV",{class:!0});var W=D(a);f=Y(W,on),W.forEach(w),p=U(S),ce(c.$$.fragment,S),d=U(S),m=O(S,"DIV",{class:!0});var R=D(m);_=Y(R,e[4]),R.forEach(w),S.forEach(w),v.forEach(w),this.h()},h(){x(t,"for",e[0]),x(t,"class","text-gray-700 text-sm font-bold select-none pointer-events-none"),x(r,"class","col-span-12 justify-self-start select-none pointer-events-none"),te(r,"hidden",e[1]===null),x(a,"class","col-span-2 font-bold text-sm px-2 pointer-events-none select-none"),x(m,"class","col-span-2 font-bold text-sm px-2 pointer-events-none select-none"),x(i,"class","grid grid-cols-12 justify-center place-items-center gap-2 select-none"),x(n,"class",E=e[5].class+" select-none pointer-events-none")},m(g,v){q(g,n,v),y(n,i),y(i,r),y(r,t),y(t,o),y(t,l),y(t,s),y(i,u),y(i,a),y(a,f),y(i,p),de(c,i,null),y(i,d),y(i,m),y(m,_),b=!0},p(g,[v]){(!b||v&2)&&ie(o,g[1]),(!b||v&4)&&ie(s,g[2]),(!b||v&1)&&x(t,"for",g[0]),(!b||v&2)&&te(r,"hidden",g[1]===null);const S={};v&1&&(S.id=g[0]),v&16&&(S.max=g[4]),v&2&&(S["input$aria-label"]=g[1]),!h&&v&4&&(h=!0,S.lower=g[2],se(()=>h=!1)),c.$set(S),(!b||v&16)&&ie(_,g[4]),(!b||v&32&&E!==(E=g[5].class+" select-none pointer-events-none"))&&x(n,"class",E)},i(g){b||(he(c.$$.fragment,g),b=!0)},o(g){pe(c.$$.fragment,g),b=!1},d(g){g&&w(n),e[7](null),me(c)}}}let on=10;function ys(e,n,i){let r,t;en(e,N,h=>i(6,t=h));const o=He();let l=t.maxPoints||100,s,{id:u="point-slider"}=n,{label:a="Number of Points"}=n;function f(h){Z[h?"unshift":"push"](()=>{s=h,i(3,s)})}function p(h){l=h,i(2,l)}function c(h){yn.call(this,e,h)}return e.$$set=h=>{i(5,n=ye(ye({},n),Ae(h))),"id"in h&&i(0,u=h.id),"label"in h&&i(1,a=h.label)},e.$$.update=()=>{e.$$.dirty&64&&i(4,r=t.totalPoints||500),e.$$.dirty&28&&l&&(N.maxPoints=l,o("change",{maxPoints:l}),s&&s.manuallySetBounds(on,r,l))},n=Ae(n),[u,a,l,s,r,n,t,f,p,c]}class As extends we{constructor(n){super(),Ee(this,n,ys,vs,Se,{id:0,label:1})}}function yi(e,n,i){const r=e.slice();return r[22]=n[i],r}function Ai(e,n,i){const r=e.slice();return r[25]=n[i],r}function xi(e){let n=[],i=new Map,r,t=Object.keys(e[4]);const o=l=>l[25];for(let l=0;l<t.length;l+=1){let s=Ai(e,t,l),u=o(s);i.set(u,n[l]=wi(u,s))}return{c(){for(let l=0;l<n.length;l+=1)n[l].c();r=Yn()},l(l){for(let s=0;s<n.length;s+=1)n[s].l(l);r=Yn()},m(l,s){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(l,s);q(l,r,s)},p(l,s){s&24592&&(t=Object.keys(l[4]),n=ot(n,s,o,1,l,t,i,r.parentNode,ut,wi,r,Ai))},d(l){for(let s=0;s<n.length;s+=1)n[s].d(l);l&&w(r)}}}function wi(e,n){let i,r=n[13](n[25])+"",t,o,l,s;return{key:e,first:null,c(){i=I("option"),t=H(r),o=V(),this.h()},l(u){i=O(u,"OPTION",{});var a=D(i);t=Y(a,r),o=U(a),a.forEach(w),this.h()},h(){i.__value=l=n[25],i.value=i.__value,i.selected=s=n[14](n[25]),this.first=i},m(u,a){q(u,i,a),y(i,t),y(i,o)},p(u,a){n=u,a&16&&r!==(r=n[13](n[25])+"")&&ie(t,r),a&16&&l!==(l=n[25])&&(i.__value=l,i.value=i.__value),a&16&&s!==(s=n[14](n[25]))&&(i.selected=s)},d(u){u&&w(i)}}}function Ei(e){let n,i,r,t=e[8]&!e[5]&&Si(e),o=e[9]&!e[6]&&ki(e);return{c(){n=I("label"),i=I("div"),t&&t.c(),r=V(),o&&o.c(),this.h()},l(l){n=O(l,"LABEL",{for:!0,class:!0});var s=D(n);i=O(s,"DIV",{class:!0});var u=D(i);t&&t.l(u),r=U(u),o&&o.l(u),u.forEach(w),s.forEach(w),this.h()},h(){x(i,"class","flex"),x(n,"for",e[2]),x(n,"class","label")},m(l,s){q(l,n,s),y(n,i),t&&t.m(i,null),y(i,r),o&&o.m(i,null)},p(l,s){l[8]&!l[5]?t?t.p(l,s):(t=Si(l),t.c(),t.m(i,r)):t&&(t.d(1),t=null),l[9]&!l[6]?o?o.p(l,s):(o=ki(l),o.c(),o.m(i,null)):o&&(o.d(1),o=null),s&4&&x(n,"for",l[2])},d(l){l&&w(n),t&&t.d(),o&&o.d()}}}function Si(e){var l;let n,i,r=((l=e[7])==null?void 0:l.map(Ci).join(", "))+"",t,o;return{c(){n=I("span"),i=H("Domain: ["),t=H(r),o=H("]"),this.h()},l(s){n=O(s,"SPAN",{class:!0});var u=D(n);i=Y(u,"Domain: ["),t=Y(u,r),o=Y(u,"]"),u.forEach(w),this.h()},h(){x(n,"class","text-slate-600 font-base px-4 label-text-alt")},m(s,u){q(s,n,u),y(n,i),y(n,t),y(n,o)},p(s,u){var a;u&128&&r!==(r=((a=s[7])==null?void 0:a.map(Ci).join(", "))+"")&&ie(t,r)},d(s){s&&w(n)}}}function ki(e){let n,i,r=e[15]()+"",t,o;return{c(){n=I("span"),i=H("Range: ["),t=H(r),o=H("]"),this.h()},l(l){n=O(l,"SPAN",{class:!0});var s=D(n);i=Y(s,"Range: ["),t=Y(s,r),o=Y(s,"]"),s.forEach(w),this.h()},h(){x(n,"class","text-slate-600 font-base px-4 label-text-alt")},m(l,s){q(l,n,s),y(n,i),y(n,t),y(n,o)},p:Te,d(l){l&&w(n)}}}function Fi(e){let n,i=e[22]+"",r,t,o,l;function s(){return e[19](e[22])}return{c(){n=I("button"),r=H(i),t=V(),this.h()},l(u){n=O(u,"BUTTON",{class:!0});var a=D(n);r=Y(a,i),t=U(a),a.forEach(w),this.h()},h(){x(n,"class","mr-2 badge join-item badge-lg"),te(n,"badge-accent",e[22]===e[1])},m(u,a){q(u,n,a),y(n,r),y(n,t),o||(l=J(n,"click",s),o=!0)},p(u,a){e=u,a&1026&&te(n,"badge-accent",e[22]===e[1])},d(u){u&&w(n),o=!1,l()}}}function xs(e){let n,i,r,t,o,l,s,u,a,f,p,c,h,d,m,_,E,b,C=e[4]&&xi(e),B=(e[9]||e[8])&&Ei(e),g=e[10],v=[];for(let S=0;S<g.length;S+=1)v[S]=Fi(yi(e,g,S));return{c(){n=I("div"),i=I("div"),r=I("div"),t=I("label"),o=I("span"),l=H(e[3]),s=V(),u=I("select"),C&&C.c(),a=V(),B&&B.c(),f=V(),p=I("div"),c=I("label"),h=H("Transform"),d=V(),m=I("div");for(let S=0;S<v.length;S+=1)v[S].c();this.h()},l(S){n=O(S,"DIV",{class:!0});var k=D(n);i=O(k,"DIV",{class:!0});var M=D(i);r=O(M,"DIV",{class:!0});var W=D(r);t=O(W,"LABEL",{for:!0,class:!0});var R=D(t);o=O(R,"SPAN",{class:!0});var F=D(o);l=Y(F,e[3]),F.forEach(w),R.forEach(w),s=U(W),u=O(W,"SELECT",{class:!0});var L=D(u);C&&C.l(L),L.forEach(w),a=U(W),B&&B.l(W),W.forEach(w),f=U(M),p=O(M,"DIV",{class:!0});var P=D(p);c=O(P,"LABEL",{for:!0,class:!0});var z=D(c);h=Y(z,"Transform"),z.forEach(w),d=U(P),m=O(P,"DIV",{id:!0});var G=D(m);for(let X=0;X<v.length;X+=1)v[X].l(G);G.forEach(w),P.forEach(w),M.forEach(w),k.forEach(w),this.h()},h(){x(o,"class","label-text"),x(t,"for",e[2]),x(t,"class","label text-slate-700 text-sm font-bold"),x(u,"class","select select-bordered min-w-full"),e[0]===void 0&&Cn(()=>e[18].call(u)),x(r,"class","form-control w-full"),x(c,"for","transform-chips"),x(c,"class","text-slate-700 font-base"),x(m,"id","transform-chips flex gap-2"),x(p,"class","form-control w-full"),x(i,"class","grid grid-cols-1 justify-center place-items-center gap-2"),x(n,"class",_="w-full "+e[16].class)},m(S,k){q(S,n,k),y(n,i),y(i,r),y(r,t),y(t,o),y(o,l),y(r,s),y(r,u),C&&C.m(u,null),Hn(u,e[0],!0),y(r,a),B&&B.m(r,null),y(i,f),y(i,p),y(p,c),y(c,h),y(p,d),y(p,m);for(let M=0;M<v.length;M+=1)v[M]&&v[M].m(m,null);E||(b=[J(u,"change",e[18]),J(u,"change",e[12])],E=!0)},p(S,[k]){if(k&8&&ie(l,S[3]),k&4&&x(t,"for",S[2]),S[4]?C?C.p(S,k):(C=xi(S),C.c(),C.m(u,null)):C&&(C.d(1),C=null),k&17&&Hn(u,S[0]),S[9]||S[8]?B?B.p(S,k):(B=Ei(S),B.c(),B.m(r,null)):B&&(B.d(1),B=null),k&3074){g=S[10];let M;for(M=0;M<g.length;M+=1){const W=yi(S,g,M);v[M]?v[M].p(W,k):(v[M]=Fi(W),v[M].c(),v[M].m(m,null))}for(;M<v.length;M+=1)v[M].d(1);v.length=g.length}k&65536&&_!==(_="w-full "+S[16].class)&&x(n,"class",_)},i:Te,o:Te,d(S){S&&w(n),C&&C.d(),B&&B.d(),lt(v,S),E=!1,Tn(b)}}}const Ci=e=>e.toFixed(2);function ws(e,n,i){let r,t;const o=He();let{id:l="channel"}=n,{field:s=void 0}=n,{label:u="Channel"}=n,{columns:a=void 0}=n,{transform:f="literal"}=n,{hideDomain:p=!1}=n,{hideRange:c=!1}=n,h=["literal","linear","log","sqrt"],{range:d=void 0}=n,{domain:m=void 0}=n;const _=k=>{i(1,f=k),o("chips",{chip:k}),b()},E=k=>{o("select",{field:s}),b()},b=()=>{o("change",{field:s,transform:f,range:d,domain:m})},C=k=>{if(!a)return k;let M=a[k];return M&&M!=null&&M.human?M==null?void 0:M.human:k},B=k=>{if(!a)return!1;let M=a[k];return M?M.field==s:!1},g=()=>Array.isArray(d)?d==null?void 0:d.map(k=>k.toFixed(2)).join(", "):d;function v(){s=st(this),i(0,s),i(4,a)}const S=k=>{_(k)};return e.$$set=k=>{i(16,n=ye(ye({},n),Ae(k))),"id"in k&&i(2,l=k.id),"field"in k&&i(0,s=k.field),"label"in k&&i(3,u=k.label),"columns"in k&&i(4,a=k.columns),"transform"in k&&i(1,f=k.transform),"hideDomain"in k&&i(5,p=k.hideDomain),"hideRange"in k&&i(6,c=k.hideRange),"range"in k&&i(17,d=k.range),"domain"in k&&i(7,m=k.domain)},e.$$.update=()=>{e.$$.dirty&131072&&i(9,r=!(d==null||Array.isArray(d)&&d.every(k=>!k))),e.$$.dirty&128&&i(8,t=!(m==null||Array.isArray(m)&&m.every(k=>!k)))},n=Ae(n),[s,f,l,u,a,p,c,m,t,r,h,_,E,C,B,g,n,d,v,S]}class Fn extends we{constructor(n){super(),Ee(this,n,ws,xs,Se,{id:2,field:0,label:3,columns:4,transform:1,hideDomain:5,hideRange:6,range:17,domain:7})}}function Es(e){let n,i,r,t,o,l,s;function u(c){e[22](c)}let a={id:e[10]("x"),label:e[11]("x"),columns:e[2],transform:e[5],range:e[3],domain:e[4]};e[0]!==void 0&&(a.field=e[0]),i=new Fn({props:a}),Z.push(()=>oe(i,"field",u)),i.$on("change",e[12]);function f(c){e[23](c)}let p={id:e[10]("y"),label:e[11]("y"),columns:e[6],transform:e[9],range:e[7],domain:e[8]};return e[1]!==void 0&&(p.field=e[1]),o=new Fn({props:p}),Z.push(()=>oe(o,"field",f)),o.$on("change",e[13]),{c(){n=I("div"),fe(i.$$.fragment),t=V(),fe(o.$$.fragment),this.h()},l(c){n=O(c,"DIV",{class:!0});var h=D(n);ce(i.$$.fragment,h),t=U(h),ce(o.$$.fragment,h),h.forEach(w),this.h()},h(){x(n,"class","grid md:grid-cols-2 gap-2 md:gap-4")},m(c,h){q(c,n,h),de(i,n,null),y(n,t),de(o,n,null),s=!0},p(c,[h]){const d={};h&4&&(d.columns=c[2]),h&32&&(d.transform=c[5]),h&8&&(d.range=c[3]),h&16&&(d.domain=c[4]),!r&&h&1&&(r=!0,d.field=c[0],se(()=>r=!1)),i.$set(d);const m={};h&64&&(m.columns=c[6]),h&512&&(m.transform=c[9]),h&128&&(m.range=c[7]),h&256&&(m.domain=c[8]),!l&&h&2&&(l=!0,m.field=c[1],se(()=>l=!1)),o.$set(m)},i(c){s||(he(i.$$.fragment,c),he(o.$$.fragment,c),s=!0)},o(c){pe(i.$$.fragment,c),pe(o.$$.fragment,c),s=!1},d(c){c&&w(n),me(i),me(o)}}}function Ss(e,n,i){let r;en(e,N,P=>i(21,r=P));const t=He(),o=P=>`${P}-axis-select`,l=P=>`${P.toLocaleUpperCase()}-Axis`;let s,u,a,f,p,c,h,d,m=c!=null&&c.field?c==null?void 0:c.field:void 0,_=d!=null&&d.range?d==null?void 0:d.range:void 0,E=d!=null&&d.domain?d==null?void 0:d.domain:void 0,b=d!=null&&d.transform?d==null?void 0:d.transform:"literal",C,B,g,v=C!=null&&C.field?C==null?void 0:C.field:void 0,S=g!=null&&g.range?g==null?void 0:g.range:void 0,k=g!=null&&g.domain?g==null?void 0:g.domain:void 0,M=g!=null&&g.transform?g==null?void 0:g.transform:"literal";const W=({detail:{field:P,transform:z,range:G,domain:X}})=>{i(14,s=P),i(5,b=z),i(3,_=G),i(4,E=X);let ae={...d,field:P,transform:z,range:G,domain:X};N.setEncoding("x",ae),t("change",{channel:ae,which:"x"})},R=({detail:{field:P,transform:z,range:G,domain:X}})=>{i(15,u=P),i(9,M=z),i(7,S=G),i(8,k=X);let ae={...g,field:P,transform:z,range:G,domain:X};N.setEncoding("y",ae),t("change",{channel:ae,which:"y"})};function F(P){m=P,i(0,m),i(21,r),i(16,a),i(1,v),i(17,f),i(18,p),i(19,d),i(20,g),i(14,s),i(15,u)}function L(P){v=P,i(1,v),i(21,r),i(16,a),i(0,m),i(17,f),i(18,p),i(19,d),i(20,g),i(15,u),i(14,s)}return e.$$.update=()=>{e.$$.dirty&4128771&&(i(14,s=N.xField),i(15,u=N.yField),i(16,a=r.embedding?r.embedding:[]),i(17,f=[...a].filter(P=>P!==v)),i(18,p=[...a].filter(P=>P!==m)),i(2,h=N.getColumnsMetadata(f)),i(6,B=N.getColumnsMetadata(p)),m!==N.xField?(N.xField=m,c=N.getColumnAsEncoding(m),i(19,d=N.x)):N.xField!==m&&i(0,m=N.xField),v!==N.yField?(N.yField=v,C=N.getColumnAsEncoding(v),i(20,g=N.y)):N.yField!==v&&i(1,v=N.yField),i(3,_=d!=null&&d.range?d==null?void 0:d.range:void 0),i(4,E=d!=null&&d.domain?d==null?void 0:d.domain:void 0),i(7,S=g!=null&&g.range?g==null?void 0:g.range:void 0),i(8,k=g!=null&&g.domain?g==null?void 0:g.domain:void 0)),e.$$.dirty&0&&i(14,s=N.xField),e.$$.dirty&0&&i(15,u=N.yField),e.$$.dirty&16385&&s&&!m&&i(0,m=s),e.$$.dirty&32770&&u&&!v&&i(1,v=u)},[m,v,h,_,E,b,B,S,k,M,o,l,W,R,s,u,a,f,p,d,g,r,F,L]}class ks extends we{constructor(n){super(),Ee(this,n,Ss,Es,Se,{})}}function Fs(e){let n,i,r,t,o,l,s;function u(h){e[12](h)}function a(h){e[13](h)}function f(h){e[14](h)}function p(h){e[15](h)}let c={class:"w-full col-span-2",id:e[5]("c"),label:e[6]("c"),columns:e[1]};return e[0]!==void 0&&(c.field=e[0]),e[4]!==void 0&&(c.transform=e[4]),e[2]!==void 0&&(c.range=e[2]),e[3]!==void 0&&(c.domain=e[3]),i=new Fn({props:c}),Z.push(()=>oe(i,"field",u)),Z.push(()=>oe(i,"transform",a)),Z.push(()=>oe(i,"range",f)),Z.push(()=>oe(i,"domain",p)),i.$on("change",e[7]),{c(){n=I("div"),fe(i.$$.fragment),this.h()},l(h){n=O(h,"DIV",{class:!0});var d=D(n);ce(i.$$.fragment,d),d.forEach(w),this.h()},h(){x(n,"class","grid md:grid-cols-2 gap-2 md:gap-4")},m(h,d){q(h,n,d),de(i,n,null),s=!0},p(h,[d]){const m={};d&2&&(m.columns=h[1]),!r&&d&1&&(r=!0,m.field=h[0],se(()=>r=!1)),!t&&d&16&&(t=!0,m.transform=h[4],se(()=>t=!1)),!o&&d&4&&(o=!0,m.range=h[2],se(()=>o=!1)),!l&&d&8&&(l=!0,m.domain=h[3],se(()=>l=!1)),i.$set(m)},i(h){s||(he(i.$$.fragment,h),s=!0)},o(h){pe(i.$$.fragment,h),s=!1},d(h){h&&w(n),me(i)}}}function Cs(e,n,i){let r;en(e,N,g=>i(11,r=g));const t=He(),o=g=>`${g}-axis-select`,l=g=>`${g.toLocaleUpperCase()}-Axis`;let s,u,a,f,p=u!=null&&u.field?u==null?void 0:u.field:void 0,c=f!=null&&f.range?f==null?void 0:f.range:"viridis",h=f!=null&&f.domain?f==null?void 0:f.domain:void 0,d=f!=null&&f.transform?f==null?void 0:f.transform:"literal",m=r.sidecars?r.sidecars:[];const _=({detail:{field:g,transform:v}})=>{i(8,s=g),i(0,p=g),i(4,d=v),i(2,c="viridis"),N.cField=g,i(9,f=N.getColumnAsEncoding(s));let S={...f,field:g,transform:v,range:"viridis"};N.setEncoding("color",S),t("change",{cChannel:S})};function E(g){p=g,i(0,p),i(8,s),i(11,r),i(9,f)}function b(g){d=g,i(4,d)}function C(g){c=g,i(2,c),i(11,r),i(8,s),i(9,f)}function B(g){h=g,i(3,h),i(11,r),i(8,s),i(9,f)}return e.$$.update=()=>{e.$$.dirty&2816&&r&&(i(8,s=N.cField),i(9,f=N.getColumnAsEncoding(s)),i(9,f=N.color),i(2,c=f!=null&&f.range?f==null?void 0:f.range:"viridis"),i(3,h=f!=null&&f.domain?f==null?void 0:f.domain:void 0)),e.$$.dirty&257&&s&&!p&&i(0,p=s),e.$$.dirty&3072&&(i(10,m=r.sidecars?r.sidecars:[]),i(1,a=N.getColumnsMetadata(m)))},[p,a,c,h,d,o,l,_,s,f,m,r,E,b,C,B]}class Ts extends we{constructor(n){super(),Ee(this,n,Cs,Fs,Se,{})}}function Ls(e){let n,i,r,t,o=`${e[3]}px`,l=`${e[2]}px`,s,u,a,f;return{c(){n=I("div"),i=I("div"),r=I("div"),this.h()},l(p){n=O(p,"DIV",{class:!0});var c=D(n);i=O(c,"DIV",{class:!0});var h=D(i);r=O(h,"DIV",{id:!0,class:!0}),D(r).forEach(w),h.forEach(w),c.forEach(w),this.h()},h(){x(r,"id",e[4]),x(r,"class","w-full"),x(i,"class",t=e[6].class),ln(i,"width",o),ln(i,"height",l),x(n,"class",s="flex justify-content-center "+e[6].class),Cn(()=>e[8].call(n))},m(p,c){q(p,n,c),y(n,i),y(i,r),u=Ti(n,e[8].bind(n)),a||(f=J(window,"resize",e[5]),a=!0)},p(p,[c]){c&64&&t!==(t=p[6].class)&&x(i,"class",t),c&8&&o!==(o=`${p[3]}px`)&&ln(i,"width",o),c&4&&l!==(l=`${p[2]}px`)&&ln(i,"height",l),c&64&&s!==(s="flex justify-content-center "+p[6].class)&&x(n,"class",s)},i:Te,o:Te,d(p){p&&w(n),u(),a=!1,f()}}}function Is(e,n,i){let r,t,o;en(e,N,p=>i(7,o=p));let l=o.id;o.autofit,o.width,o.height;let s=o.autofitWidth,u=o.autofitHeight;const a=()=>{N.autofitWidth=s,N.autofitHeight=u};Ln(async()=>{N.browser&&(N.Deepscatter||await N.LoadDeepscatter(),N.initializePlot())});function f(){s=this.clientWidth,u=this.clientHeight,i(0,s),i(1,u)}return e.$$set=p=>{i(6,n=ye(ye({},n),Ae(p)))},e.$$.update=()=>{e.$$.dirty&128&&i(3,r=o.w),e.$$.dirty&128&&i(2,t=o.h)},n=Ae(n),[s,u,t,r,l,a,n,o,f]}class Os extends we{constructor(n){super(),Ee(this,n,Is,Ls,Se,{})}}function Ds(e){let n,i,r,t,o,l,s,u,a,f,p,c,h,d,m,_,E;return o=new Os({props:{class:"border-2 border-sky-400"}}),u=new As({}),u.$on("change",e[0]),f=new ks({}),f.$on("change",e[0]),c=new Ts({}),c.$on("change",e[0]),d=new _s({}),d.$on("change",e[0]),{c(){n=I("div"),i=I("div"),r=V(),t=I("div"),fe(o.$$.fragment),l=V(),s=I("div"),fe(u.$$.fragment),a=V(),fe(f.$$.fragment),p=V(),fe(c.$$.fragment),h=V(),fe(d.$$.fragment),m=V(),_=I("div"),this.h()},l(b){n=O(b,"DIV",{class:!0});var C=D(n);i=O(C,"DIV",{class:!0});var B=D(i);B.forEach(w),r=U(C),t=O(C,"DIV",{class:!0});var g=D(t);ce(o.$$.fragment,g),l=U(g),s=O(g,"DIV",{class:!0});var v=D(s);ce(u.$$.fragment,v),a=U(v),ce(f.$$.fragment,v),p=U(v),ce(c.$$.fragment,v),h=U(v),ce(d.$$.fragment,v),v.forEach(w),g.forEach(w),m=U(C),_=O(C,"DIV",{class:!0});var S=D(_);S.forEach(w),C.forEach(w),this.h()},h(){x(i,"class",""),x(s,"class","bg-slate-100 p-4 max-h-92 overflow-scroll"),x(t,"class","col-span-2"),x(_,"class",""),x(n,"class","grid grid-cols-4 h-screen justify-content-center")},m(b,C){q(b,n,C),y(n,i),y(n,r),y(n,t),de(o,t,null),y(t,l),y(t,s),de(u,s,null),y(s,a),de(f,s,null),y(s,p),de(c,s,null),y(s,h),de(d,s,null),y(n,m),y(n,_),E=!0},p:Te,i(b){E||(he(o.$$.fragment,b),he(u.$$.fragment,b),he(f.$$.fragment,b),he(c.$$.fragment,b),he(d.$$.fragment,b),E=!0)},o(b){pe(o.$$.fragment,b),pe(u.$$.fragment,b),pe(f.$$.fragment,b),pe(c.$$.fragment,b),pe(d.$$.fragment,b),E=!1},d(b){b&&w(n),me(o),me(u),me(f),me(c),me(d)}}}function Ms(e,n,i){let r,{data:t}=n;N.LoadDeepscatter(),N.isDebug,N.isPause,Ln(async()=>{await r,N.url=r.tiles_dir,N.totalPoints=r.n_points,N.embedding=r.embedding,N.sidecars=r.sidecars,N.columns=r.columns_metadata,N.xField=r.embedding[0],N.yField=r.embedding[1],N.cField=r.sidecars[0]});const o=async()=>{console.log("change");try{await N.updatePlot()}catch(l){console.error(l)}};return e.$$set=l=>{"data"in l&&i(1,t=l.data)},e.$$.update=()=>{e.$$.dirty&2&&(r=t==null?void 0:t.meta)},[o,t]}class Hs extends we{constructor(n){super(),Ee(this,n,Ms,Ds,Se,{data:1})}}export{Hs as component,js as universal};
